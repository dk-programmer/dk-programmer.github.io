webpackJsonp_name_([3],{1032:function(e,t,n){"use strict";function i(e,t){g.request("/v1/oauth2/authorize/remove-account?login_hint="+e,t)}function o(e){g.request("/v1/oauth2/authorize/logined-users",e)}function r(e){if(!e)return"";e=e.trim();var t="";if(/^\W+/.test(e))t=e[0];else{var n=e.indexOf(" ")>0?" ":",",i=e.split(n),o=i.length;t=o>1?""+i[0][0]+i[o-1][0]:i[0][0]}return t}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"drop_down",function(){return h}),n.d(t,"login_dialog",function(){return w}),n.d(t,"unity_account_switcher",function(){return b}),n.d(t,"user_avatar",function(){return y});var a,s,c,l=n(503),u=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),o=0,t=0;t<n;t++)for(var r=arguments[t],a=0,s=r.length;a<s;a++,o++)i[o]=r[a];return i};!function(e){e.Large="large",e.Medium="medium",e.Small="small",e.XSSmall="xssmall"}(c||(c={}));var d;!function(e){e.Login="login",e.Register="register"}(d||(d={}));var f=function(){return function(){}}();f.RESPONSE_TYPE="code",f.SCOPE="identity";var p,g={request:function(e,t){var n=new XMLHttpRequest;n.withCredentials=!0,n.addEventListener("load",function(){t(JSON.parse(n.response))}),n.open("GET",""+window.UAS_API_BASE_PATH+e),n.send()}},h=function(){function e(e){Object(l.f)(this,e),this.menuClicked=Object(l.c)(this,"menuClicked",7),this.closeDropdown=Object(l.c)(this,"closeDropdown",7),this.openLoginDialog=Object(l.c)(this,"openLoginDialog",7),this.removeUser=Object(l.c)(this,"removeUser",7)}return e.prototype.onMenuClick=function(e){var t=e.key,n=e.href;if(n)window.open(n);else{this.menuClicked.emit({key:t});var i=new CustomEvent("uasMenuClicked",{detail:t});window.dispatchEvent(i)}this.closeDropdown.emit()},e.prototype.onAccountClick=function(){var e=window.UAS_ID_BASE_PATH+"/en/account/edit";window.open(e),this.closeDropdown.emit()},e.prototype.onSigninAccount=function(e){var t=window.location.href,n=this.buildSwitchAccountURL(e);n+="&redirect_uri="+encodeURIComponent(t),window.location.href=n},e.prototype.buildSwitchAccountURL=function(e){var t=window.UAS_API_BASE_PATH,n=this.clientID,i=f.RESPONSE_TYPE,o=f.SCOPE,r=this.switchAccountRidirectURL||window.location.href,a=t+"/v1/oauth2/authorize?client_id="+n+"&response_type="+i+"&scope="+o+"&login_hint="+e;return a+="&redirect_uri="+encodeURIComponent(r)},e.prototype.onOtherAccountClick=function(e){var t=e.id;e.login?this.onSigninAccount(t):this._editModeAccountID=t},e.prototype.onCreateAccount=function(){this.closeDropdown.emit(),this.openLoginDialog.emit({authType:d.Login})},e.prototype.onSignoutClick=function(){var e=this.currentUser.id,t=window.UAS_API_BASE_PATH+"/v1/oauth2/end-session?logout_hint="+e+"&post_logout_redirect_uri="+encodeURIComponent(this.logoutRedirectURL);window.location.href=t},e.prototype.onRemoveAccount=function(e){var t=this;i(e,function(n){"success"===n.status&&t.removeUser.emit({userId:e})})},e.prototype.onAuth=function(e,t){void 0===t&&(t=""),this.closeDropdown.emit(),this.openLoginDialog.emit({authType:e,userID:t})},e.prototype.onProfileClick=function(){window.open(this.userProfileURL)},e.prototype.renderCurrentUser=function(){var e=this,t=this.currentUser,n=t.name,i=t.email,o=!!this.userProfileURL;return Object(l.e)("div",{class:"current-user"},Object(l.e)("a",{class:"avatar-wrapper "+(o&&"active"),onClick:function(){return o&&e.onProfileClick()}},Object(l.e)("user-avatar",{user:this.currentUser,size:c.Large})),Object(l.e)("div",{class:"rigth-wrapper"},Object(l.e)("div",{class:"name "+(o&&"active"),onClick:function(){return o&&e.onProfileClick()}},n),Object(l.e)("div",{class:"email"},i),Object(l.e)("a",{class:"button-account",onClick:function(){return e.onAccountClick()}},"Unity account ID")))},e.prototype.renderAccountButtons=function(){var e=this;return Object(l.e)("div",{class:"account-buttons-wrapper"},Object(l.e)("button",{class:"button",onClick:function(){return e.onAuth(d.Login)}},"Add account"),Object(l.e)("button",{class:"button",onClick:function(){return e.onSignoutClick()}},"Sign out"))},e.prototype.renderOtherAccounts=function(){var e=this,t=!1,n=u(this.users),i=n.length;i>3&&!this._showAllAccounts&&(n=n.slice(0,2),t=!0);var o=n.map(function(t){var n=t.id,i=t.name,o=t.email,r=t.login;return e._editModeAccountID===n?Object(l.e)("div",{key:n,class:"user disable"},Object(l.e)("button",{class:"button",onClick:function(){return e.onRemoveAccount(n)}},"Remove"),Object(l.e)("button",{class:"button",onClick:function(){return e.onAuth(d.Login,n)}},"Sign in")):Object(l.e)("div",{key:n,class:"user",onClick:function(){return e.onOtherAccountClick({id:n,login:r})}},Object(l.e)("user-avatar",{user:t,size:c.Medium}),Object(l.e)("div",{class:"right-wrapper"},Object(l.e)("div",{class:"name"},i),Object(l.e)("div",{class:"email"},o),Object(l.e)("div",{class:"signed-out "+(r&&"hide")},"Signed out")))});return t&&o.push(Object(l.e)("div",{key:"see_all",class:"see-all"},Object(l.e)("button",{class:"button-see-all",onClick:function(){return e._showAllAccounts=!0}},i+1+" accounts added: See all"))),Object(l.e)("div",{class:"other-accounts"},o)},e.prototype.renderMenuItems=function(){var e=this,t=this.menuItems;if(!t||0===t.length)return null;var n=t.map(function(t){var n=t.key,i=t.title,o=t.href,r=t.sub_title;return Object(l.e)("a",{key:n,class:"item",onClick:function(){return e.onMenuClick({key:n,href:o})}},i,r&&Object(l.e)("div",{class:"sub"},"("+r+")"))});return Object(l.e)("div",{class:"menu-items"},n)},e.prototype.renderSigninIcon=function(){return Object(l.e)("div",{class:"signin-icon"},Object(l.e)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Object(l.e)("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(l.e)("path",{d:"M21 3.01H3c-1.1 0-2 .9-2 2V9h2V4.99h18v14.03H3V15H1v4.01c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98v-14c0-1.11-.9-2-2-2zM11 16l4-4-4-4v3H1v2h10v3z"})))},e.prototype.renderSignin=function(){var e=this;return Object(l.e)("div",{class:"dropdown annonymous"},Object(l.e)("div",{class:"item",onClick:function(){return e.onAuth(d.Register)}},Object(l.e)("div",{class:"avatar-wrapper"},Object(l.e)("user-avatar",{size:c.XSSmall})),"Create a Unity ID"),Object(l.e)("div",{class:"item",onClick:function(){return e.onAuth(d.Login)}},this.renderSigninIcon(),"Sign in"))},e.prototype.render=function(){return this.loading?Object(l.e)("div",{class:"dropdown"},Object(l.e)("div",{class:"loading-wrapper"},Object(l.e)("div",{class:"loading"}))):this.currentUser?Object(l.e)("div",{class:"dropdown"},this.renderCurrentUser(),this.renderAccountButtons(),Object(l.e)("div",{class:"list-wrapper"},this.renderOtherAccounts(),this.renderMenuItems())):this.renderSignin()},Object.defineProperty(e,"style",{get:function(){return".dropdown{width:285px;background-color:#000;cursor:default;padding-top:24px}.dropdown .loading-wrapper{display:-ms-flexbox;display:flex;-ms-flex:0 0 auto;flex:0 0 auto;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;padding-bottom:24px}.dropdown .loading{border:4px solid #f3f3f3;-webkit-animation:spin 1s linear infinite;animation:spin 1s linear infinite;border-top:4px solid #555;border-radius:50%;width:32px;height:32px}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.list-wrapper{overflow-y:auto;max-height:488px}.account-buttons-wrapper,.current-user{display:-ms-flexbox;display:flex;-ms-flex:0 0 auto;flex:0 0 auto}.current-user{padding:0 24px;-ms-flex-align:center;align-items:center}.current-user .avatar-wrapper{text-decoration:none}.current-user .avatar-wrapper.active{cursor:pointer}.current-user .rigth-wrapper{-ms-flex:1 1 auto;flex:1 1 auto;margin-left:16px}.current-user .rigth-wrapper .name{font-size:18px;font-weight:500;color:hsla(0,0%,100%,.87);line-height:21px}.current-user .rigth-wrapper .name.active{cursor:pointer}.current-user .rigth-wrapper .email{font-size:12px;color:#9b9b9b;line-height:14px;margin-top:2px}.current-user .rigth-wrapper .button-account{display:inline-block;height:30px;background-color:hsla(0,0%,100%,.2);font-size:12px;font-weight:500;color:#fff;border:none;border-radius:4px;padding:0 16px;min-width:110px;text-align:center;line-height:30px;margin-top:10px;cursor:pointer;text-decoration:none}.account-buttons-wrapper{-ms-flex-pack:justify;justify-content:space-between;padding:24px;border-bottom:1px solid #383838}.account-buttons-wrapper .button{min-width:90px;height:30px;border-radius:4px;border:1px solid #fff;line-height:28px;background:transparent;color:#fff;font-size:12px;font-weight:500;outline:none;cursor:pointer;padding:0;text-align:center}.other-accounts .user{display:-ms-flexbox;display:flex;-ms-flex:0 0 auto;flex:0 0 auto;-ms-flex-align:center;align-items:center;padding:0 24px;height:70px;-webkit-box-shadow:0 12px 16px 0 rgba(0,0,0,.2);box-shadow:0 12px 16px 0 rgba(0,0,0,.2);border-bottom:1px solid #383838;background-color:#212121;cursor:pointer}.other-accounts .user.disable{cursor:default}.other-accounts .user:hover{background-color:rgba(33,33,33,.85)}.other-accounts .user .right-wrapper{-ms-flex:1 1 auto;flex:1 1 auto;margin-left:8px}.other-accounts .user .right-wrapper .email,.other-accounts .user .right-wrapper .name,.other-accounts .user .right-wrapper .signed-out{font-size:12px;color:#9b9b9b;line-height:16px}.other-accounts .user .right-wrapper .signed-out{font-style:italic}.other-accounts .user .right-wrapper .signed-out.hide{display:none}.other-accounts .user .button{min-width:90px;height:30px;border-radius:4px;border:none;line-height:30px;color:#fff;line-height:28px;font-size:12px;font-weight:500;outline:none;cursor:pointer;background:#4d4d4d}.other-accounts .user .button:last-child{margin-left:auto}.other-accounts .see-all{display:-ms-flexbox;display:flex;-ms-flex:0 0 auto;flex:0 0 auto;-ms-flex-align:center;align-items:center;padding:0 24px;height:70px;border-bottom:1px solid #383838}.other-accounts .see-all .button-see-all{height:30px;line-height:30px;min-width:242px;width:100%;background:transparent;outline:none;border-radius:4px;border:1px solid #fff;font-size:12px;font-weight:500;color:#fff;cursor:pointer}.menu-items{-ms-flex:0 0 auto;flex:0 0 auto;-ms-flex-direction:column;flex-direction:column}.menu-items,.menu-items .item{display:-ms-flexbox;display:flex}.menu-items .item{-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-align:center;align-items:center;font-size:14px;padding:8px 24px;text-decoration:none;color:#fff;cursor:pointer}.menu-items .item:hover{background-color:rgba(33,33,33,.85)}.menu-items .item .sub{color:#9b9b9b;margin-left:4px}.annonymous{padding-top:8px;padding-bottom:8px;cursor:default}.annonymous .item{display:-ms-flexbox;display:flex;-ms-flex:0 0 auto;flex:0 0 auto;-ms-flex-align:center;align-items:center;font-size:14px;color:#fff;cursor:pointer;padding:8px 24px}.annonymous .item:hover{background:hsla(0,0%,100%,.2)}.annonymous .item .avatar-wrapper,.annonymous .item .signin-icon{margin-right:16px}.annonymous .item .signin-icon svg{width:24px;height:24px;fill:#fff}"},enumerable:!0,configurable:!0}),e}(),m=function(e,t){return t={exports:{}},e(t,t.exports),t.exports}(function(e){!function(t){function n(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function i(e,t,n){"addEventListener"in window?e.addEventListener(t,n,!1):"attachEvent"in window&&e.attachEvent("on"+t,n)}function o(e,t,n){"removeEventListener"in window?e.removeEventListener(t,n,!1):"detachEvent"in window&&e.detachEvent("on"+t,n)}function r(){var e,t=["moz","webkit","o","ms"];for(e=0;e<t.length&&!N;e+=1)N=window[t[e]+"RequestAnimationFrame"];N||l("setup","RequestAnimationFrame not supported")}function a(e){var t="Host page: "+e;return window.top!==window.self&&(t=window.parentIFrame&&window.parentIFrame.getId?window.parentIFrame.getId()+": "+e:"Nested host page: "+e),t}function s(e){return T+"["+a(e)+"]"}function c(e){return W[e]?W[e].log:P}function l(e,t){f("log",e,t,c(e))}function u(e,t){f("info",e,t,c(e))}function d(e,t){f("warn",e,t,!0)}function f(e,t,n,i){!0===i&&"object"==typeof window.console&&console[e](s(t),n)}function p(e){function t(){n("Height"),n("Width"),O(function(){y(M),b(S),R("resizedCallback",M)},M,"init")}function n(e){var t=Number(W[S]["max"+e]),n=Number(W[S]["min"+e]),i=e.toLowerCase(),o=Number(M[i]);l(S,"Checking "+i+" is in range "+n+"-"+t),o<n&&(o=n,l(S,"Set "+i+" to min value")),o>t&&(o=t,l(S,"Set "+i+" to max value")),M[i]=""+o}function r(e){return L.substr(L.indexOf(":")+E+e)}function a(e){l(S,"MessageCallback passed: {iframe: "+M.iframe.id+", message: "+e+"}"),R("messageCallback",{iframe:M.iframe,message:JSON.parse(e)}),l(S,"--")}function s(){var e=document.body.getBoundingClientRect(),t=M.iframe.getBoundingClientRect();return JSON.stringify({iframeHeight:t.height,iframeWidth:t.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(t.top-e.top,10),offsetLeft:parseInt(t.left-e.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset})}function c(e,t){z(function(){k("Send Page Info","pageInfo:"+s(),e,t)},32,t)}function f(){function e(e,i){function o(){W[n]?c(W[n].iframe,n):t()}["scroll","resize"].forEach(function(t){l(n,e+t+" listener for sendPageInfo"),i(window,t,o)})}function t(){e("Remove ",o)}var n=S;e("Add ",i),W[n]&&(W[n].stopPageInfo=t)}function p(){W[S]&&W[S].stopPageInfo&&(W[S].stopPageInfo(),delete W[S].stopPageInfo)}function h(e){var t=e.getBoundingClientRect();return w(S),{x:Math.floor(Number(t.left)+Number(F.x)),y:Math.floor(Number(t.top)+Number(F.y))}}function j(e){var t=e?h(M.iframe):{x:0,y:0},n={x:Number(M.width)+t.x,y:Number(M.height)+t.y};l(S,"Reposition requested from iFrame (offset x:"+t.x+" y:"+t.y+")"),window.top!==window.self?window.parentIFrame?window.parentIFrame["scrollTo"+(e?"Offset":"")](n.x,n.y):d(S,"Unable to scroll to requested position, window.parentIFrame not found"):(F=n,C(),l(S,"--"))}function C(){!1!==R("scrollCallback",F)?b(S):v()}function I(e){var t=e.split("#")[1]||"",n=decodeURIComponent(t),i=document.getElementById(n)||document.getElementsByName(n)[0];i?function(){var e=h(i);l(S,"Moving to in page link (#"+t+") at x: "+e.x+" y: "+e.y),F={x:e.x,y:e.y},C(),l(S,"--")}():window.top!==window.self?window.parentIFrame?window.parentIFrame.moveToAnchor(t):l(S,"In page link #"+t+" not found and window.parentIFrame not found"):l(S,"In page link #"+t+" not found")}function R(e,t){return g(S,e,t)}function A(){W[S]&&(W[S].firstRun=!1)}var L=e.data,M={},S=null;"[iFrameResizerChild]Ready"===L?function(){for(var e in W)k("iFrame requested init",_(e),document.getElementById(e),e)}():T===(""+L).substr(0,H)&&L.substr(H).split(":")[0]in W?(M=function(){var e=L.substr(H).split(":");return{iframe:W[e[0]]&&W[e[0]].iframe,id:e[0],height:e[1],width:e[2],type:e[3]}}(),S=V=M.id,W[S]&&(W[S].loaded=!0),!function(){var e=M.type in{true:1,false:1,undefined:1};return e&&l(S,"Ignoring init message from meta parent page"),e}()&&function(e){var t=!0;return W[e]||(t=!1,d(M.type+" No settings for "+e+". Message was: "+L)),t}(S)&&(l(S,"Received: "+L),function(){var e=!0;return null===M.iframe&&(d(S,"IFrame ("+M.id+") not found"),e=!1),e}()&&function(){var t=e.origin,n=W[S]&&W[S].checkOrigin;if(n&&""+t!="null"&&!(n.constructor===Array?function(){var e=0,i=!1;for(l(S,"Checking connection is from allowed list of origins: "+n);e<n.length;e++)if(n[e]===t){i=!0;break}return i}():function(){var e=W[S]&&W[S].remoteHost;return l(S,"Checking connection is from: "+e),t===e}()))throw new Error("Unexpected message received from: "+t+" for "+M.iframe.id+". Message was: "+e.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}()&&function(){switch(W[S]&&W[S].firstRun&&A(),M.type){case"close":W[S].closeRequestCallback?g(S,"closeRequestCallback",W[S].iframe):m(M.iframe);break;case"message":a(r(6));break;case"scrollTo":j(!1);break;case"scrollToOffset":j(!0);break;case"pageInfo":c(W[S]&&W[S].iframe,S),f();break;case"pageInfoStop":p();break;case"inPageLink":I(r(9));break;case"reset":x(M);break;case"init":t(),R("initCallback",M.iframe);break;default:t()}}())):u(S,"Ignored: "+L)}function g(e,t,n){var i=null,o=null;if(W[e]){if("function"!=typeof(i=W[e][t]))throw new TypeError(t+" on iFrame["+e+"] is not a function");o=i(n)}return o}function h(e){var t=e.id;delete W[t]}function m(e){var t=e.id;l(t,"Removing iFrame: "+t);try{e.parentNode&&e.parentNode.removeChild(e)}catch(e){}g(t,"closedCallback",t),l(t,"--"),h(e)}function w(e){null===F&&l(e,"Get page position: "+(F={x:window.pageXOffset!==t?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==t?window.pageYOffset:document.documentElement.scrollTop}).x+","+F.y)}function b(e){null!==F&&(window.scrollTo(F.x,F.y),l(e,"Set page position: "+F.x+","+F.y),v())}function v(){F=null}function x(e){l(e.id,"Size reset requested by "+("init"===e.type?"host page":"iFrame")),w(e.id),O(function(){y(e),k("reset","reset",e.iframe,e.id)},e,"reset")}function y(e){function t(t){e.id?(e.iframe.style[t]=e[t]+"px",l(e.id,"IFrame ("+o+") "+t+" set to "+e[t]+"px")):l("undefined","messageData id not set")}function n(t){D||"0"!==e[t]||(D=!0,l(o,"Hidden iFrame detected, creating visibility listener"),I())}function i(e){t(e),n(e)}var o=e.iframe.id;W[o]&&(W[o].sizeHeight&&i("height"),W[o].sizeWidth&&i("width"))}function O(e,t,n){n!==t.type&&N?(l(t.id,"Requesting animation frame"),N(e)):e()}function k(e,t,n,i,o){function r(){var o=W[i]&&W[i].targetOrigin;l(i,"["+e+"] Sending msg to iframe["+i+"] ("+t+") targetOrigin: "+o),n.contentWindow.postMessage(T+t,o)}function a(){d(i,"["+e+"] IFrame("+i+") not found")}var s=!1;i=i||n.id,W[i]&&(n&&"contentWindow"in n&&null!==n.contentWindow?r():a(),function(){o&&W[i]&&W[i].warningTimeout&&(W[i].msgTimeout=setTimeout(function(){!W[i]||W[i].loaded||s||(s=!0,d(i,"IFrame has not responded within "+W[i].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))},W[i].warningTimeout))}())}function _(e){return e+":"+W[e].bodyMarginV1+":"+W[e].sizeWidth+":"+W[e].log+":"+W[e].interval+":"+W[e].enablePublicMethods+":"+W[e].autoResize+":"+W[e].bodyMargin+":"+W[e].heightCalculationMethod+":"+W[e].bodyBackground+":"+W[e].bodyPadding+":"+W[e].tolerance+":"+W[e].inPageLinks+":"+W[e].resizeFrom+":"+W[e].widthCalculationMethod}function j(e,o){function r(){var e=o&&o.id||Y.id+U++;return null!==document.getElementById(e)&&(e+=U++),e}function a(){var t=W[f]&&W[f].firstRun,n=W[f]&&W[f].heightCalculationMethod in B;!t&&n&&x({iframe:e,height:0,width:0,type:"init"})}function s(e){if("object"!=typeof e)throw new TypeError("Options is not an object")}function c(e){for(var t in Y)Y.hasOwnProperty(t)&&(W[f][t]=e.hasOwnProperty(t)?e[t]:Y[t])}function u(e){return""===e||"file://"===e?"*":e}var f=function(t){return V=t,""===t&&(e.id=t=r(),P=(o||{}).log,V=t,l(t,"Added missing iframe ID: "+t+" ("+e.src+")")),t}(e.id);f in W&&"iFrameResizer"in e?d(f,"Ignored iFrame, already setup."):(!function(t){t=t||{},W[f]={firstRun:!0,iframe:e,remoteHost:e.src.split("/").slice(0,3).join("/")},s(t),c(t),W[f]&&(W[f].targetOrigin=!0===W[f].checkOrigin?u(W[f].remoteHost):"*")}(o),function(){switch(l(f,"IFrame scrolling "+(W[f]&&W[f].scrolling?"enabled":"disabled")+" for "+f),e.style.overflow=!1===(W[f]&&W[f].scrolling)?"hidden":"auto",W[f]&&W[f].scrolling){case"omit":break;case!0:e.scrolling="yes";break;case!1:e.scrolling="no";break;default:e.scrolling=W[f]?W[f].scrolling:"no"}}(),function(){function t(t){1/0!==W[f][t]&&0!==W[f][t]&&(e.style[t]=W[f][t]+"px",l(f,"Set "+t+" = "+W[f][t]+"px"))}function n(e){if(W[f]["min"+e]>W[f]["max"+e])throw new Error("Value for min"+e+" can not be greater than max"+e)}n("Height"),n("Width"),t("maxHeight"),t("minHeight"),t("maxWidth"),t("minWidth")}(),"number"!=typeof(W[f]&&W[f].bodyMargin)&&"0"!==(W[f]&&W[f].bodyMargin)||(W[f].bodyMarginV1=W[f].bodyMargin,W[f].bodyMargin=W[f].bodyMargin+"px"),function(o){var r=n();r&&function(t){e.parentNode&&new t(function(t){t.forEach(function(t){Array.prototype.slice.call(t.removedNodes).forEach(function(t){t===e&&m(e)})})}).observe(e.parentNode,{childList:!0})}(r),i(e,"load",function(){k("iFrame.onload",o,e,t,!0),a()}),k("init",o,e,t,!0)}(_(f)),Function.prototype.bind&&W[f]&&(W[f].iframe.iFrameResizer={close:m.bind(null,W[f].iframe),removeListeners:h.bind(null,W[f].iframe),resize:k.bind(null,"Window resize","resize",W[f].iframe),moveToAnchor:function(e){k("Move to anchor","moveToAnchor:"+e,W[f].iframe,f)},sendMessage:function(e){k("Send Message","message:"+(e=JSON.stringify(e)),W[f].iframe,f)}}))}function C(e,t){null===q&&(q=setTimeout(function(){q=null,e()},t))}function z(e,t,n){J[n]||(J[n]=setTimeout(function(){J[n]=null,e()},t))}function I(){function e(){for(var e in W)!function(e){function t(t){return"0px"===(W[e]&&W[e].iframe.style[t])}W[e]&&null!==W[e].iframe.offsetParent&&(t("height")||t("width"))&&k("Visibility change","resize",W[e].iframe,e)}(e)}function t(t){l("window","Mutation observed: "+t[0].target+" "+t[0].type),C(e,16)}var i=n();i&&function(){var e=document.querySelector("body"),n={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0};new i(t).observe(e,n)}()}function R(e){l("window","Trigger event: "+e),C(function(){L("Window "+e,"resize")},16)}function A(){"hidden"!==document.visibilityState&&(l("document","Trigger event: Visiblity change"),C(function(){L("Tab Visable","resize")},16))}function L(e,t){for(var n in W)(function(e){return W[e]&&"parent"===W[e].resizeFrom&&W[e].autoResize&&!W[e].firstRun})(n)&&k(e,t,document.getElementById(n),n)}function M(){i(window,"message",p),i(window,"resize",function(){R("resize")}),i(document,"visibilitychange",A),i(document,"-webkit-visibilitychange",A),i(window,"focusin",function(){R("focus")}),i(window,"focus",function(){R("focus")})}function S(){function e(e,t){t&&(!function(){if(!t.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==t.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+t.tagName+">")}(),j(t,e),i.push(t))}function n(e){e&&e.enablePublicMethods&&d("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}var i;return r(),M(),function(o,r){switch(i=[],n(o),typeof r){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(r||"iframe"),e.bind(t,o));break;case"object":e(o,r);break;default:throw new TypeError("Unexpected data type ("+typeof r+")")}return i}}if("undefined"!=typeof window){var U=0,P=!1,D=!1,E="message".length,T="[iFrameSizer]",H=T.length,F=null,N=window.requestAnimationFrame,B={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},W={},q=null,V="Host Page",Y={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",closedCallback:function(){},initCallback:function(){},messageCallback:function(){d("MessageCallback function not defined")},resizedCallback:function(){},scrollCallback:function(){return!0}},J={};window.jQuery&&function(e){e.fn?e.fn.iFrameResize||(e.fn.iFrameResize=function(e){return this.filter("iframe").each(function(t,n){j(n,e)}).end()}):u("","Unable to bind to jQuery, it is not fully loaded.")}(window.jQuery),"function"==typeof t&&t.amd?t([],S):e.exports=S(),window.iFrameResize=window.iFrameResize||S()}}()}),w=function(){function e(e){Object(l.f)(this,e),this._loading=!0,this.closeLoginDialog=Object(l.c)(this,"closeLoginDialog",7)}return e.prototype.componentWillUpdate=function(){this.dialogData.open||this._loading||(this._loading=!0)},e.prototype.buildLoginURL=function(){var e,t=window.UAS_API_BASE_PATH,n=this.clientID,i=f.RESPONSE_TYPE,o=f.SCOPE,r=this.dialogData.userID;return r?(e=t+"/v1/oauth2/authorize?client_id="+n+"&display=popup&response_type="+i+"&scope="+o,e+="&login_hint="+r):e=t+"/v1/oauth2/authorize/new-account?client_id="+n+"&display=popup&response_type="+i+"&scope="+o,e},e.prototype.buildRegisterURL=function(){return window.UAS_API_BASE_PATH+"/v1/oauth2/authorize?client_id="+this.clientID+"&display=popup&is_reg=true&response_type="+f.RESPONSE_TYPE+"&scope="+f.SCOPE},e.prototype.onIDPageLoad=function(){this._loading=!1,m({checkOrigin:!1,log:!0,sizeWidth:!0},this.iframe)[0].iFrameResizer},e.prototype.onClose=function(){this.closeLoginDialog.emit()},e.prototype.renderClose=function(){var e=this;return Object(l.e)("div",{class:"close-wrapper",onClick:function(){return e.onClose()}},Object(l.e)("svg",{class:"icon-close",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Object(l.e)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),Object(l.e)("path",{d:"M0 0h24v24H0z",fill:"none"})))},e.prototype.renderHeader=function(){return Object(l.e)("div",{class:"head"},Object(l.e)("svg",{class:"icon-unity-logo",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"2816",height:"1024",viewBox:"0 0 2816 1024"},Object(l.e)("title",null,"Unity logo"),Object(l.e)("g",{id:"icomoon-ignore"}),Object(l.e)("path",{d:"M908.176 0l-416.539 108.948-61.639 106.186-125.1-0.914-304.898 297.631 304.898 297.565 125.034-0.914 61.78 106.12 416.464 108.948 111.575-406.447-63.395-105.272 63.395-105.272zM440.028 232.226l318.629-79.941-182.907 309.283h-365.861zM440.028 791.401l-230.139-229.332h365.861l182.907 309.273zM847.823 821.068l-182.973-309.217 182.973-309.349 88.349 309.349z"}),Object(l.e)("path",{d:"M1852.998 301.571c-55.666 0-93.027 23.143-120.864 67.045h-2.386v-55.874h-97.413v409.426h99.798v-232.254c0-55.865 34.985-94.167 82.695-94.167 45.316 0 79.098 26.971 79.098 75.020v251.401h99.798v-267.361c0-89.397-56.455-153.237-140.728-153.237z"}),Object(l.e)("path",{d:"M1480.526 548.796c0 54.272-31.012 92.574-81.897 92.574-46.124 0-75.126-26.339-75.126-74.219v-254.596h-99.798v272.941c0 89.397 50.876 147.656 141.526 147.656 57.243 0 89.054-21.55 116.882-59.051h2.386v47.88h95.938v-409.426h-99.911z"}),Object(l.e)("path",{d:"M2046.048 722.169h99.807v-409.426h-99.807z"}),Object(l.e)("path",{d:"M2046.048 267.342h99.807v-82.298h-99.807z"}),Object(l.e)("path",{d:"M2709.904 312.742l-59.3 184.355c-12.717 37.51-23.846 89.397-23.846 89.397h-2.526s-13.524-51.886-26.25-89.397l-66.964-184.355h-106.692l109.735 291.305c23.048 62.247 30.993 88.586 30.993 110.938 0 33.513-17.488 55.865-60.418 55.865h-38.169v85.4h63.602c82.695 0 111.406-32.731 142.418-123.711l143.827-419.796z"}),Object(l.e)("path",{d:"M2331.805 601.653v-217.077h63.602v-71.834h-63.602v-127.699h-99.122v127.699h-56.445v71.834h56.445v240.22c0 77.424 58.051 98.164 110.533 98.164 42.93 0 54.576-1.593 54.576-1.593v-79.15s-11.928 0.141-25.443 0.141c-23.855 0-40.545-10.379-40.545-40.706z"})),this.renderClose())},e.prototype.render=function(){var e=this,t=this.dialogData||{},n=t.open,i=t.authType;if(!n)return null;var o="";o=i===d.Login?this.buildLoginURL():this.buildRegisterURL(),this.loginRedirectURL&&(o+="&redirect_uri="+encodeURIComponent(this.loginRedirectURL));var r=!this._loading;return Object(l.e)("div",{class:"login-dialog"},Object(l.e)("div",{class:"backdrop",onClick:function(){return e.onClose()}}),Object(l.e)("div",{class:"model"},Object(l.e)("div",{class:"model-inner"},this.renderHeader(),Object(l.e)("div",{class:"content"},Object(l.e)("iframe",{ref:function(t){return e.iframe=t},class:"iframe "+(r&&"show")+" "+i,src:o,scrolling:"no",frameBorder:"0",onLoad:function(){return e.onIDPageLoad()}}),Object(l.e)("div",{class:"loading-wrapper "+(r&&"hide")},Object(l.e)("div",{class:"loading"}))))))},Object.defineProperty(e,"style",{get:function(){return".login-dialog .backdrop,.login-dialog .model{position:fixed;height:100%;width:100%;left:0;right:0;top:0;bottom:0;z-index:99999}.login-dialog .backdrop{background-color:rgba(0,0,0,.541176);opacity:.8;cursor:default}.login-dialog .model{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;padding:30px 0;pointer-events:none}.login-dialog .model-inner{background:#f5f8f9;pointer-events:auto;border-radius:4px}.login-dialog .model-inner .content{height:570px;overflow-y:scroll}.login-dialog .model-inner .iframe{display:none;height:570px;width:600px;overflow:hidden}.login-dialog .model-inner .iframe.show{display:block}.login-dialog .model-inner .iframe.register{height:921px}@media screen and (max-width:769px){.login-dialog .model-inner .content{height:450px}.login-dialog .model-inner .iframe{width:320px;height:450px}}.login-dialog .head{display:-ms-flexbox;display:flex;-ms-flex:0 0 auto;flex:0 0 auto;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;position:relative;padding:24px 0 0;cursor:default}.login-dialog .head .icon-unity-logo{height:48px;width:150px}.login-dialog .head .close-wrapper{position:absolute;top:8px;right:8px;height:24px;cursor:pointer}.login-dialog .head .close-wrapper .icon-close{width:24px;height:24px;fill:rgba(0,0,0,.8)}.login-dialog .head .close-wrapper .icon-close:hover{fill:rgba(0,0,0,.6)}.login-dialog .loading-wrapper{display:-ms-flexbox;display:flex;-ms-flex:0 0 auto;flex:0 0 auto;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:570px;width:600px}.login-dialog .loading-wrapper.hide{display:none}@media screen and (max-width:769px){.login-dialog .loading-wrapper{width:320px;height:450px}}.login-dialog .loading{border:4px solid #f3f3f3;-webkit-animation:spin 1s linear infinite;animation:spin 1s linear infinite;border-top:4px solid #555;border-radius:50%;width:32px;height:32px}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}"},enumerable:!0,configurable:!0}),e}();!function(e){e.int="int",e.staging="staging",e.prod="prod"}(p||(p={}));var b=function(){function e(e){Object(l.f)(this,e),this._accountsLoading=!0,this._height=72,this._windowHeight=0}return e.prototype.handleClick=function(e){e.target!==this.el&&(this._showDropdown=!1)},e.prototype.applyConfig=function(e){try{this._config=JSON.parse(e),this._config.user&&(this._user=this._config.user);var t="https://api.unity.com",n="https://id.unity.com";this._config.env&&(this._config.env in p?(t=v[this._config.env],n=x[this._config.env]):console.error("invalid env: int, staging, prod")),this._config.clientID||console.error("clientID is required"),window.UAS_API_BASE_PATH=t,window.UAS_ID_BASE_PATH=n,this._config.headerHeight>0&&(this._height=this._config.headerHeight)}catch(t){console.error("invalid config:",t),console.error(e)}},e.prototype.applyColors=function(e){!!e.theme&&this.el.style.setProperty("--theme-primary-color",e.theme)},e.prototype.componentWillLoad=function(){var e=this;window.innerHeight>0&&(this._windowHeight=window.innerHeight),this.config&&(this.applyConfig(this.config),o(function(t){var n=(t.model.users||[]).map(function(t){var n=t.userId,i=t.name.fullName,o=t.email,r=t.login,a=t.currentLoginUser,s={id:n,name:i,avatar:"",email:o,login:r,currentLoginUser:a};return a&&e._user&&(s.avatar=e._user.avatar,s.name=e._user.name),s})||[],i=n.findIndex(function(e){var t=e.currentLoginUser,n=e.login;return t&&n});i>=0?(e._user=Object.assign({},n[i]),n.splice(i,1),e._otherUsers=n):(e._user=null,e._otherUsers=n),e._accountsLoading=!1}))},e.prototype.toggleMenu=function(e){this._showDropdown=e},e.prototype.openLoginDialog=function(e){var t=e.detail,n=t.authType,i=t.userID;this._loginDialog={open:!0,authType:n,userID:i}},e.prototype.removeUser=function(e){var t=e.detail;if(t.userId){var n=u(this._otherUsers),i=n.findIndex(function(e){return e.id===t.userId});i>=0&&(n.splice(i,1),this._otherUsers=n)}},e.prototype.closeLoginDialog=function(){this._loginDialog={open:!1}},e.prototype.renderDropdown=function(){var e=this,t={};return this._windowHeight>0&&(t={maxHeight:this._windowHeight-this._height-40+"px"}),this._showDropdown?Object(l.e)("div",{class:"dropdown-wrapper",style:t},Object(l.e)("drop-down",{users:this._otherUsers,menuItems:this._config.menuItems,loading:this._accountsLoading,logoutRedirectURL:this._config.logoutRedirectURL,userProfileURL:this._config.userProfileURL,currentUser:this._user,clientID:this._config.clientID,switchAccountRidirectURL:this._config.switchAccountRidirectURL,onCloseDropdown:function(){return e._showDropdown=!1},onRemoveUser:function(t){return e.removeUser(t)},onOpenLoginDialog:function(t){return e.openLoginDialog(t)}})):null},e.prototype.render=function(){var e=this;return this._config?Object(l.e)("div",{class:"wrapper",style:{height:this._height+"px"}},Object(l.e)("a",{class:"avatar-wrapper",onClick:function(){return e.toggleMenu(!e._showDropdown)}},Object(l.e)("user-avatar",{user:this._user,size:c.Small})),this.renderDropdown(),Object(l.e)("login-dialog",{loginRedirectURL:this._config.loginRedirectURL,dialogData:this._loginDialog,clientID:this._config.clientID,onCloseLoginDialog:function(){return e.closeLoginDialog()}})):null},Object.defineProperty(e.prototype,"el",{get:function(){return Object(l.d)(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"watchers",{get:function(){return{config:["applyConfig"]}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return".wrapper{display:-ms-flexbox;display:flex;-ms-flex:0 0 auto;flex:0 0 auto;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;position:relative;height:72px;padding:0 8px;background-color:#000;cursor:pointer}.avatar-wrapper{text-decoration:none;padding:8px}.dropdown-wrapper{position:absolute;top:100%;right:0;border-radius:0 0 3px 3px;z-index:1000;border-top:1px solid hsla(0,0%,100%,.2);background-color:#000;overflow-y:auto}@media screen and (max-width:769px){.dropdown-wrapper{position:fixed;top:72px}}"},enumerable:!0,configurable:!0}),e}(),v=(a={},a[p.int]="https://api-int.unity.com",a[p.staging]="https://api-staging.unity.com",a[p.prod]="https://api.unity.com",a),x=(s={},s[p.int]="https://id-int.unity.com",s[p.staging]="https://id-staging.unity.com",s[p.prod]="https://id.unity.com",s),y=function(){function e(e){Object(l.f)(this,e)}return e.prototype.render=function(){var e=this.user;if(e){if(e.avatar)return Object(l.e)("img",{src:e.avatar,class:"avatar "+this.size});if(e.name){var t=r(e.name);return Object(l.e)("div",{class:"avatar "+this.size+" text-avatar"},t)}}return Object(l.e)("div",{class:"avatar "+this.size+" default"},Object(l.e)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Object(l.e)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"}),Object(l.e)("path",{d:"M0 0h24v24H0z",fill:"none"})))},Object.defineProperty(e,"style",{get:function(){return".avatar{-o-object-fit:cover;object-fit:cover;border-radius:50%}.avatar.large{line-height:72px;font-size:32px}.avatar.large,.avatar.large svg{width:72px;height:72px}.avatar.medium{line-height:40px;font-size:20px}.avatar.medium,.avatar.medium svg{width:40px;height:40px}.avatar.small{line-height:30px;font-size:16px}.avatar.small,.avatar.small svg{width:30px;height:30px}.avatar.xssmall{line-height:24px;font-size:12px}.avatar.xssmall,.avatar.xssmall svg{width:24px;height:24px}.avatar.text-avatar{color:#fff;text-align:center;text-transform:uppercase;background:linear-gradient(45deg,#e91e63,#ff9800 100%,#e91e63 0)}.avatar svg{fill:#fff}"},enumerable:!0,configurable:!0}),e}()}});