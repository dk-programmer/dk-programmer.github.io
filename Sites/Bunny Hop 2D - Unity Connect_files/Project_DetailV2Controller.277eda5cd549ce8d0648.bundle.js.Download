window.Project_DetailV2Controller=webpackJsonp_name_([6],[,,,,,,,,function(e,t){e.exports=browser_dll},,,,,,function(e,t){e.exports={NAME:"production",APP_NAME:"view_server",APP_VERSION:"1.0",SERVER_PORT:18088,IS_ONEBOX:!1,HOT_RELOAD:!1,LAZY_BUILD:!1,DISPLAY_TIME_IN_MESSENGER:!0,DEVTOOLS:!1,RELEASE_BUILD:!0,UGLIFY_JS:!0,CSS_LOCAL_IDENTIFIER:!0,LONG_TERM_CACHE:!0,WITH_CONSOLE_LOG:!0,CONSOLE_LOG_FORMAT:"json",STORYBOOK:!1,PUBLIC_PATH:"https://connect-prd-cdn.unity.com/cdn-origin/",LOG_FOLDER:"/var/silkcloud/logs/mp_view",PUBLIC_ASSETS_FOLDER:"/gopath/src/gitlab.internal.unity3d.com/unity-connect/connect/view_server/public/assets",BUILD_ASSETS_FOLDER:"/gopath/src/gitlab.internal.unity3d.com/unity-connect/connect/view_server/build/assets",BUILD_TARGET_SERVER_NAMESPACE:"server",REQUEST_BASE_URL:"",REQUEST_BASE_URL_INTERNAL:"http://localhost:8080",REQUEST_TIMEOUT:3e4,DEFAULT_URL:"https://connect.unity.com",DEFAULT_TITLE:"Unity Connect",DEFAULT_META_KEYWORDS:"Unity Connect",DEFAULT_META_DESCRIPTION:{en_US:"The first talent marketplace dedicated to the full spectrum of Unity creators — game developers, artists, programmers, VR/AR developers, and more. Find game dev jobs, source Unity talent, and post tasks to get help on your Unity projects.",zh_CN:"首个致力于Unity创作者（游戏开发、美术师、VR／AR从业者）的人才圈。找工作，招人才，获得帮助，取得成功。"},LOCALES:["en_US","zh_CN","ko_KR","ja_JP","ru_RU","es_ES","fr_FR","de_DE","pt_PT"],MIN_LOCALES:["en_US","zh_CN","ko_KR","ja_JP"],MOMENT_LOCALE:{en_US:"",zh_CN:"zh-cn",ko_KR:"ko",ja_JP:"ja",ru_RU:"ru",es_ES:"es",fr_FR:"fr",de_DE:"de",pt_PT:"pt"},NUMBRO_LOCALE:{en_US:"",zh_CN:"zh-CN",ko_KR:"ko-KR",ja_JP:"ja-JP",ru_RU:"ru-RU",es_ES:"es-ES",fr_FR:"fr-FR",de_DE:"de-DE",pt_PT:"pt-PT"},BASE_ID_URL:"https://id.unity.com",STORE_URL:"https://store.unity.com",LOGIN_POPUP:!0,CDN_URLS:["https://dzamqefpotdvf.cloudfront.net/","https://connect-cdn-china.unity.com/","https://connect-cdn-china.unitychina.cn/","https://connect.unity.com/message-attachments","https://connect-prd-cdn.unity.com/","https://connect-cdn-public-prd.unitychina.cn/","https://connect-cdn-private-prd.unitychina.cn/"],REGIONS:[{refId:"region.01",i18n_key:"region_01"},{refId:"region.02",i18n_key:"region_02"},{refId:"region.03",i18n_key:"region_03"},{refId:"region.04",i18n_key:"region_04"},{refId:"region.05",i18n_key:"region_05"},{refId:"region.06",i18n_key:"region_06"},{refId:"region.07",i18n_key:"region_07"},{refId:"region.08",i18n_key:"region_08"},{refId:"region.09",i18n_key:"region_09"}],PROJECT_ENABLED:!0,TFA_ENABLED:!0,PACKAGE_DOWNLOAD_LINKS:{mac:"https://d2ll4ywgl9x1oi.cloudfront.net/Connect-latest.dmg",windows:"https://d2ll4ywgl9x1oi.cloudfront.net/Connect-latest.exe"},PROXY_HOST:"",PROXY_PORT:"",REGION_AUTO_LOCATED_NOTE_ENABLED:!1,CLUSTERING:!0,LEARN_DEFAULT_URL:"https://learn.unity.com",LEARN_PREMIUM_MARKETING:"https://unity.com/learn-premium",LEARN_PREMIUM_STORE_FLOW:"https://store.unity.com/configure-plan/unity-learn-premium-30-day-trial",LEARN_PAYMENT_STORE_FLOW:"https://pay.unity.com/os2/orders/new",LEARN_AUTHOR_LIST:["5a95d5ef32b306001856489e","59fd0498090915002713b5c3","5abb2fec32b306001fbe91a8","5d74318eedbc2a56f0a6fe48","5db006f7edbc2a0020d998ec","5af69e9f090915001c83c1bb","584dba1f0909150027e1c7f5","5e305e98edbc2a67d6f1c4de","58b51db309091559199d4738","5846efae0909150024700562","5fb712aaedbc2a00209498e1"],CAPTCHA_CLIENT_KEY:"6Lcz1bMUAAAAACxsmcalX_VZlmLh7Kb-e-re0KKn",STORE_STATUS_MAP:{aptoide:"published",cloudmoolah:"published",onestore:"published",apptutti:"published",htc:"published",xiaomistore:"beta",huawei:"published"},APP_ID:"431669861070518",WEBGL_PLAYER_BASE_URL:"https://connect.unity3dusercontent.com/webgl",RECAPTCHA_ENABLE:!0,ASSET_UNLOCK_FPS_FIRST:"162774",ASSET_UNLOCK_KARTING_FIRST:"164043",ASSET_UNLOCK_KARTING_SECOND:"164146",ASSET_UNLOCK_KARTING_THIRD:"164147",AMPLITUDE_API_KEY:"a23922745183aa6e30250a7be015618c",ASSETSTORE_PAGE_BASEURL:"https://assetstore.unity.com",ASSETSTORE_ID:"1101ld9wQ",LIVE_HELP_SITE:"https://livehelp.unity.com",COUNTRY_API:"https://api.unity.com/v1/countries",PLAY_BASE_URL:"https://play.unity.com",ONE_TRUST_JS_SRC:"https://cdn.cookielaw.org/scripttemplates/otSDKStub.js",ONE_TRUST_JS_DATA_DOMAIN_SCRIPT:"a9f5fcb3-4c7f-4bb7-93bf-7607ffbdabe0",AIRBRAKE:{projectId:313870,projectKey:"0dc7db610abb1107234c4bdc727e3867"},GSTORE_WEBSITE:"https://developer.gplay.io/sign_up"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports=window.moment},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports={beta:"beta_YO5z",menu_activity:"menu_activity_3vyR",menu_discover:"menu_discover_22RY",menu_discover_users:"menu_discover_users_1IoJ",menu_discover_teams:"menu_discover_teams_3Jsv",menu_discover_blog:"menu_discover_blog_2pAQ",menu_projects:"menu_projects_1OrD",menu_jobs_search_jobs:"menu_jobs_search_jobs_2u0u",menu_post_job:"menu_post_job_Layv",menu_post_project:"menu_post_project_p04n",menu_notifications:"menu_notifications_1FLZ",menu_avatar_profile:"menu_avatar_profile_hdID",menu_avatar_references:"menu_avatar_references_1GS9",menu_avatar_my_team:"menu_avatar_my_team_313C",menu_avatar_create_team:"menu_avatar_create_team_2GG6",menu_avatar_create_team_plus:"menu_avatar_create_team_plus_1s59",menu_avatar_my_school:"menu_avatar_my_school_19lP",menu_avatar_create_school:"menu_avatar_create_school_2SRt",menu_avatar_create_school_plus:"menu_avatar_create_school_plus_33fU",menu_avatar_settings:"menu_avatar_settings_1Ju5",menu_avatar_credits_history:"menu_avatar_credits_history_2aKD",menu_avatar_help:"menu_avatar_help_3Yke",menu_avatar_contact:"menu_avatar_contact_RnwU",menu_avatar_logout:"menu_avatar_logout_2jw3",menu_avatar_teams:"menu_avatar_teams_1T5Z",menu_avatar_schools:"menu_avatar_schools_YRv8",menu_avatar_you:"menu_avatar_you_2JGZ",menu_avatar_my_group:"menu_avatar_my_group_1AkQ",menu_avatar_create_group:"menu_avatar_create_group_2Jq2",menu_messages:"menu_messages_1fI-",menu_connections:"menu_connections_3xmS",notification_see_all:"notification_see_all_1UNe",notification_next:"notification_next__vZV",popout_profile:"popout_profile_28i8",client_profile:"client_profile_1E74",freelancer_profile:"freelancer_profile_24aq",at_username:"at_username_1gzZ",popout_setting:"popout_setting_2HNJ",popout_logout:"popout_logout_1dIT",search_placeholder:"search_placeholder_2wre",search_for:"search_for_1Mzu",view_results_for:"view_results_for_2Mcl",job_owner:"job_owner_2fi7",messages_action:"messages_action_1ulT",notification_action:"notification_action_2FCp",login_action:"login_action_1iPm",logout_action:"logout_action_17SE",tooltip_notifications:"tooltip_notifications_7psO",tooltip_message:"tooltip_message_3HWv",tooltip_search:"tooltip_search_1VJJ",tooltip_app_switcher:"tooltip_app_switcher_Irtj",count_overflow:"count_overflow_2aWj",uh:"uh_1Tjp",th:"th_2i5o",jh:"jh_2-bD",no_messages:"no_messages_1_ZA",all_messages:"all_messages_1V1-",confirm_title:"confirm_title_1AOQ",confirm_text:"confirm_text_3-xR",notify_title:"notify_title_3qGc",notify_text:"notify_text_2aVe",review_title:"review_title_pe-6",review_text:"review_text_3k5P",browser_confirm_title:"browser_confirm_title_2bFT",browser_confirm_text:"browser_confirm_text_3tzH",delete_confirm_default_title:"delete_confirm_default_title_SiQ0",delete_confirm_default_text:"delete_confirm_default_text_1hEe",delete_confirm_comment_title:"delete_confirm_comment_title_2eTU",delete_confirm_comment_text:"delete_confirm_comment_text_1YPH",delete_confirm_post_title:"delete_confirm_post_title_L3U2",delete_confirm_post_text:"delete_confirm_post_text_3Y1z",delete_confirm_transfer_owner_title:"delete_confirm_transfer_owner_title_3fW5",delete_confirm_transfer_owner_text:"delete_confirm_transfer_owner_text_3v0g",delete_confirm_group_kick_title:"delete_confirm_group_kick_title_2LQl",delete_confirm_group_kick_text:"delete_confirm_group_kick_text_17xd",delete_confirm_announcement_title:"delete_confirm_announcement_title_U2md",delete_confirm_announcement_text:"delete_confirm_announcement_text_1yy-",delete_confirm_reject_refund_title:"delete_confirm_reject_refund_title_3-xa",delete_confirm_reject_refund_text:"delete_confirm_reject_refund_text_11tV",delete_confirm_accept_refund_title:"delete_confirm_accept_refund_title_1JEP",delete_confirm_accept_refund_text:"delete_confirm_accept_refund_text_3kJs",delete_confirm_reject_dispute_title:"delete_confirm_reject_dispute_title_I5Km",delete_confirm_reject_dispute_text:"delete_confirm_reject_dispute_text_W8th",delete_confirm_accept_dispute_title:"delete_confirm_accept_dispute_title_3KdI",delete_confirm_accept_dispute_text:"delete_confirm_accept_dispute_text_3vbo",recent_searches:"recent_searches_17c6",clear_all:"clear_all_2Xf_",popular_searches:"popular_searches_3FIK",job:"job_pcfq",candidate_type_t:"candidate_type_t_1zBK",candidate_type_s:"candidate_type_s_2IYs",candidate_type_c:"candidate_type_c_XweK",candidate_type_fullTime:"candidate_type_fullTime_22oA",candidate_type_partTime:"candidate_type_partTime_2xF7",candidate_type_internship:"candidate_type_internship_23zE",candidate_type_freelance:"candidate_type_freelance_BQ7v",candidate_type_game:"candidate_type_game_2mAP",candidate_type_showcase:"candidate_type_showcase_6Npl",candidate_type_article:"candidate_type_article_2iMP",candidate_type_g:"candidate_type_g_C3GL",lobby_default_1:"lobby_default_1_L-lm",lobby_default_2:"lobby_default_2_1BgI",discover:"discover_2Gh5",cancel:"cancel_iVBW",search:"search_3XMs",account:"account_1Ctn",profile_completeness:"profile_completeness_2Bj-",edit:"edit_qYt2",sign_out:"sign_out_2fwc",sign_in:"sign_in_pcEI",unity_id:"unity_id_2814",login_desc:"login_desc_1ASB",new_account:"new_account_1tOv",sunset_title:"sunset_title_1kxV",sunset_link:"sunset_link_3kgq"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=a(n(2)),_=a(n(1)),g=a(n(3)),v=n(5),b=n(18),y=a(n(4)),w=a(n(322)),j=(l=(0,v.decorator)({}),c=(0,y.default)(w.default),l(u=c((p=d=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,g.default),m(t,[{key:"componentDidMount",value:function(){var e=this;this.removeClickOutside=(0,b.addClickOutside)([this,this.props.parent],function(){e.props.closeMenu&&e.props.closeMenu()})}},{key:"componentWillUnmount",value:function(){this.removeClickOutside()}},{key:"renderNew",value:function(){return _.default.createElement("div",{className:this.ss("new")},this.__("new"))}},{key:"renderList",value:function(){var e=this;return this.props.items.map(function(t){var n=t.key,a=t.text,r=t.otherClassName,i=void 0===r?[]:r,s=t.path,l=t.renderChild,c=t.disable,u=t.onClick;if(c)return null;var d={};return s?d.href=s:u&&(d.onClick=u),_.default.createElement("a",f({key:n,className:e.ss.apply(e,["item"].concat(o(i)))},d),a,l&&l())})}},{key:"render",value:function(){return _.default.createElement("div",{className:this.ss("menu")},_.default.createElement("div",{className:this.ss("items")},this.renderList()))}}]),t}(),d.propTypes={items:h.default.array,parent:h.default.object,showNew:h.default.bool,closeMenu:h.default.func},u=p))||u)||u);t.default=j},,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function c(e,t){return(e=Math.round(e))>0?e=0:e<-t&&(e=-t),e}Object.defineProperty(t,"__esModule",{value:!0}),t.DeleteConfirmDialog=t.TfaNotifyDialog=t.TfaConfirmDialog=t.SunsetBar=t.default=t.MessagesAction=t.BarsAction=t.AvatarAction=t.ApplicationSwitcherAction=t.NotificationsAction=void 0;var u,d,p,f,m,h,_,g,v,b,y,w,j,E,k,C,O,P,S,N,M,T,x,I,R,D,A,U,L,z,W,H,B,q,F,K,G,V,J,Y,Q,X,Z,$,ee,te,ne,ae,oe,re,ie,se,le,ce,ue,de,pe,fe,me,he,_e,ge,ve,be,ye,we,je,Ee,ke,Ce,Oe,Pe,Se,Ne,Me,Te,xe,Ie,Re=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),De=l(["header.openCreateDialog"],["header.openCreateDialog"]),Ae=l(["loginUser"],["loginUser"]),Ue=l(["notification.unseenCount"],["notification.unseenCount"]),Le=l(["notification.status"],["notification.status"]),ze=l(["notification.switchStatus"],["notification.switchStatus"]),We=l(["header.setting.appSwitcherOpen"],["header.setting.appSwitcherOpen"]),He=l(["header.appSwitcherOpen"],["header.appSwitcherOpen"]),Be=l(["header.appSwitcherClose"],["header.appSwitcherClose"]),qe=l(["currentHost"],["currentHost"]),Fe=l(["currentPath"],["currentPath"]),Ke=l(["team.showBasicForm"],["team.showBasicForm"]),Ge=l(["header.postSchool"],["header.postSchool"]),Ve=l(["header.openCreateGroupDialog"],["header.openCreateGroupDialog"]),Je=l(["header.loginTo"],["header.loginTo"]),Ye=l(["header.setting.messagesOpen"],["header.setting.messagesOpen"]),Qe=l(["messages.channels"],["messages.channels"]),Xe=l(["messages.readState"],["messages.readState"]),Ze=l(["messages.workspaces"],["messages.workspaces"]),$e=l(["header.messagesOpen"],["header.messagesOpen"]),et=l(["header.messagesClose"],["header.messagesClose"]),tt=l(["header.setting.headerHeight"],["header.setting.headerHeight"]),nt=l(["header.setting.headerTop"],["header.setting.headerTop"]),at=l(["header.setting.scrollTop"],["header.setting.scrollTop"]),ot=l(["header.closeLoginWindow"],["header.closeLoginWindow"]),rt=l(["header.setCurrHeaderTop"],["header.setCurrHeaderTop"]),it=l(["messages.startSession"],["messages.startSession"]),st=l(["header.setHeaderPosition"],["header.setHeaderPosition"]),lt=l(["header.needReviewDialog.open"],["header.needReviewDialog.open"]),ct=l(["header.closeNeedReviewDialog"],["header.closeNeedReviewDialog"]),ut=l(["header.tfaConfirmDialog.open"],["header.tfaConfirmDialog.open"]),dt=l(["header.doTfaStatus"],["header.doTfaStatus"]),pt=l(["header.doTfa"],["header.doTfa"]),ft=l(["header.closeTfaConfirmDialog"],["header.closeTfaConfirmDialog"]),mt=l(["header.tfaNotifyDialog.open"],["header.tfaNotifyDialog.open"]),ht=l(["header.skipTfa"],["header.skipTfa"]),_t=l(["header.closeTfaNotifyDialog"],["header.closeTfaNotifyDialog"]),gt=l(["platform"],["platform"]),vt=l(["header.browserConfirmDialog.open"],["header.browserConfirmDialog.open"]),bt=l(["header.closeBrowserConfirmDialog"],["header.closeBrowserConfirmDialog"]),yt=l(["header.openBrowserConfirmDialog"],["header.openBrowserConfirmDialog"]),wt=l(["header.deleteConfirmDialog.open"],["header.deleteConfirmDialog.open"]),jt=l(["header.deleteConfirmDialog.type"],["header.deleteConfirmDialog.type"]),Et=l(["header.closeDeleteConfirm"],["header.closeDeleteConfirm"]),kt=l(["header.doConfirmDelete"],["header.doConfirmDelete"]),Ct=a(n(2)),Ot=a(n(1)),Pt=a(n(3)),St=n(5),Nt=n(0),Mt=n(23),Tt=n(18),xt=a(n(24)),It=a(n(84)),Rt=a(n(270)),Dt=a(n(100)),At=a(n(277)),Ut=a(n(101)),Lt=a(n(85)),zt=a(n(185)),Wt=a(n(291)),Ht=a(n(102)),Bt=n(26),qt=a(n(294)),Ft=a(n(301)),Kt=a(n(304)),Gt=a(n(307)),Vt=a(n(310)),Jt=a(n(313)),Yt=a(n(103)),Qt=a(n(71)),Xt=a(n(186)),Zt=a(n(14)),$t=a(n(183)),en=a(n(494)),tn=a(n(104)),nn=a(n(318)),an=a(n(321)),on=a(n(325)),rn=a(n(328)),sn=a(n(105)),ln=a(n(333)),cn=a(n(343)),un=a(n(346)),dn=a(n(25)),pn=a(n(19)),fn=a(n(4)),mn=a(n(349)),hn=a(n(6)),_n=a(n(67)),gn=Mt.presets.stiff,vn={menu_avatar_help_link:"https://support.unity3d.com/hc/en-us/sections/202036586-Connect",menu_avatar_contact_link:"https://forum.unity3d.com/forums/unity-connect.120/"},bn=(0,dn.default)({CREATE_COMPANY:null,MY_GROUPS:null,CREATE_SCHOOL:null,MY_REFERENCES:null,HELP:null,CONTACT_US:null,SETTINGS:null}),yn=(u=(0,St.decorator)({openCreateDialog:(0,Nt.signal)(De)}),d=(0,fn.default)(mn.default),p=(0,hn.default)(_n.default),u(f=d(f=p((h=m=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Pt.default),Re(t,[{key:"render",value:function(){var e=this;return Zt.default.PROJECT_ENABLED?Ot.default.createElement("div",{className:this.ss("post-project")},Ot.default.createElement("a",{className:this.ss("link","GA_btn_header_postProject"),onClick:function(){return e.props.openCreateDialog()}},this.__("menu_post_project"))):null}}]),t}(),m.propTypes={openCreateDialog:Ct.default.func},f=h))||f)||f)||f),wn=t.NotificationsAction=(_=(0,St.decorator)({loginUser:(0,Nt.state)(Ae),unseenCount:(0,Nt.state)(Ue),status:(0,Nt.state)(Le),switchStatus:(0,Nt.signal)(ze)}),g=(0,fn.default)(mn.default),v=(0,hn.default)(_n.default),_(b=g(b=v((w=y=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Pt.default),Re(t,[{key:"onClick",value:function(){(0,this.props.switchStatus)(),this.props.onClick&&this.props.onClick()}},{key:"render",value:function(){var e=this,t=this.props,n=t.loginUser,a=t.unseenCount,o=t.status;if(!n)return null;return Ot.default.createElement(xt.default,{text:this.__("tooltip_notifications"),position:"bottom"},Ot.default.createElement("div",{id:"notifications-action",className:this.ss("notifications-action",o&&"open")},Ot.default.createElement("button",{className:this.ss("notifications-icon","ifont","ifont-material-baseline-notifications"),"aria-label":this.__("tooltip_notifications"),onClick:function(){return e.onClick()}}),a>0&&Ot.default.createElement("div",{className:this.ss("badge")},a>99?this.__("count_overflow",{maxCount:99}):a)))}}]),t}(),y.propTypes={loginUser:Ct.default.object,unseenCount:Ct.default.number.isRequired,status:Ct.default.bool.isRequired,switchStatus:Ct.default.func,onClick:Ct.default.func},b=w))||b)||b)||b),jn=t.ApplicationSwitcherAction=(j=(0,St.decorator)({isAppSwitcherOpen:(0,Nt.state)(We),appSwitcherOpen:(0,Nt.signal)(He),appSwitcherClose:(0,Nt.signal)(Be)}),E=(0,fn.default)(mn.default),k=(0,hn.default)(_n.default),j(C=E(C=k((P=O=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Pt.default),Re(t,[{key:"onClick",value:function(){var e=this.props,t=e.isAppSwitcherOpen,n=e.appSwitcherOpen,a=e.appSwitcherClose;t?a():n(),this.props.onClick&&this.props.onClick()}},{key:"render",value:function(){var e=this,t=this.props,n=t.isAppSwitcherOpen,a=t.className;return Ot.default.createElement("div",{className:this.ss("app-switcher-wrap",a)},Ot.default.createElement(xt.default,{text:this.__("tooltip_app_switcher"),position:"bottom"},Ot.default.createElement("div",{className:this.ss("app-switcher-action",n&&"open"),id:"app-switcher-action"},Ot.default.createElement("button",{className:this.ss("app-switcher-icon","ifont","ifont-material-baseline-apps"),"aria-label":this.__("tooltip_app_switcher"),onClick:function(){return e.onClick()}}))),n&&Ot.default.createElement(En,{onDashboardClick:function(){return e.props.onDashboardClick&&e.props.onDashboardClick()},onAssetStoreClick:function(){return e.props.onAssetStoreClick&&e.props.onAssetStoreClick()},onAnswersClick:function(){return e.props.onAnswersClick&&e.props.onAnswersClick()},onForumClick:function(){return e.props.onForumClick&&e.props.onForumClick()},onDistributeClick:function(){return e.props.onDistributeClick&&e.props.onDistributeClick()},onLearnClick:function(){return e.props.onLearnClick&&e.props.onLearnClick()}}))}}]),t}(),O.propTypes={isAppSwitcherOpen:Ct.default.bool.isRequired,className:Ct.default.string,appSwitcherOpen:Ct.default.func,appSwitcherClose:Ct.default.func,onDashboardClick:Ct.default.func,onAssetStoreClick:Ct.default.func,onAnswersClick:Ct.default.func,onForumClick:Ct.default.func,onDistributeClick:Ct.default.func,onLearnClick:Ct.default.func,onClick:Ct.default.func},C=P))||C)||C)||C),En=(S=(0,St.decorator)({isAppSwitcherOpen:(0,Nt.state)(We),appSwitcherClose:(0,Nt.signal)(Be)}),N=(0,fn.default)(mn.default),M=(0,hn.default)(_n.default),S(T=N(T=M((I=x=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Pt.default),Re(t,[{key:"componentDidMount",value:function(){var e=this;this.removeClickOutside=(0,Tt.addClickOutside)([this,"app-switcher-action"],function(){e.props.appSwitcherClose()})}},{key:"componentWillUnmount",value:function(){this.removeClickOutside()}},{key:"render",value:function(){var e=this,t=[{name:"Asset Store",icon:"icons-app-assetstore",href:"https://assetstore.unity.com",onClick:function(){return e.props.onAssetStoreClick&&e.props.onAssetStoreClick()}},{name:"Dashboard",icon:"icons-app-dashboard",href:"https://dashboard.unity3d.com",onClick:function(){return e.props.onDashboardClick&&e.props.onDashboardClick()}},{name:"Distribute",icon:"UDP-Icon",href:"https://distribute.dashboard.unity.com",onClick:function(){return e.props.onDistributeClick&&e.props.onDistributeClick()}},{name:"Forum",icon:"icons-app-forum",href:"https://forum.unity.com",onClick:function(){return e.props.onForumClick&&e.props.onForumClick()}},{name:"Learn",icon:"icons-explore",href:"https://learn.unity.com/",onClick:function(){return e.props.onLearnClick&&e.props.onLearnClick()}}].map(function(t){return Ot.default.createElement("a",{className:e.ss("app-item"),href:t.href,key:t.name,onClick:function(){return t.onClick()}},Ot.default.createElement("div",{className:e.ss("app-icon","ifont","ifont-"+t.icon)}),Ot.default.createElement("div",{className:e.ss("app-name")},t.name))});return Ot.default.createElement("div",{className:this.ss("app-switcher")},Ot.default.createElement("div",{className:this.ss("switcher-wrap")},t))}}]),t}(),x.propTypes={isAppSwitcherOpen:Ct.default.bool.isRequired,appSwitcherClose:Ct.default.func,onDashboardClick:Ct.default.func,onAssetStoreClick:Ct.default.func,onAnswersClick:Ct.default.func,onForumClick:Ct.default.func,onDistributeClick:Ct.default.func,onLearnClick:Ct.default.func},T=I))||T)||T)||T),kn=!1,Cn=t.AvatarAction=(R=(0,St.decorator)({loginUser:(0,Nt.state)(Ae),currentHost:(0,Nt.state)(qe),currentPath:(0,Nt.state)(Fe),showForm:(0,Nt.signal)(Ke),postSchool:(0,Nt.signal)(Ge),postGroup:(0,Nt.signal)(Ve),loginTo:(0,Nt.signal)(Je)}),D=(0,fn.default)(mn.default),A=(0,hn.default)(_n.default),R(U=D(U=A((z=L=function(e){function t(){var e,n,a,s;r(this,t);for(var l=arguments.length,c=Array(l),u=0;u<l;u++)c[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.onMenuClicked=function(e){var t,n=a.props,r=n.showForm,i=n.postSchool,s=(t={},o(t,bn.CREATE_COMPANY,r),o(t,bn.CREATE_SCHOOL,i),o(t,bn.MY_GROUPS,function(){return(0,pn.default)("/groups")}),o(t,bn.MY_REFERENCES,function(){return(0,pn.default)("/ref")}),o(t,bn.SETTINGS,function(){return(0,pn.default)("/settings")}),t),l=e.detail;s[l]&&s[l]()},s=n,i(a,s)}return s(t,Pt.default),Re(t,[{key:"componentDidMount",value:function(){kn||(kn=!0,window.addEventListener("uasMenuClicked",this.onMenuClicked))}},{key:"componentWillUnmount",value:function(){window.addEventListener("uasMenuClicked",this.onMenuClicked)}},{key:"render",value:function(){var e=this.props,t=e.loginUser,n=e.currentHost,a=e.currentPath,o="https://"+n+"/public/pages/auth/cbiframe.html?redirect_to="+encodeURIComponent(a)+"&source=account_switch",r="https://"+n+"/auth/account_switch/callback?noiframe=true&redirect_to="+encodeURIComponent(a),i="https://"+n+"/auth/logout/callback?redirectUri="+a,s=Zt.default.NAME,l="prod";l="production"===s?"prod":"staging"===s?"staging":"int";var c={headerHeight:72,menuItems:[{key:bn.CREATE_COMPANY,title:this.__("menu_avatar_create_team")},{key:bn.MY_GROUPS,title:this.__("menu_avatar_my_group")},{key:bn.CREATE_SCHOOL,title:this.__("menu_avatar_create_school")},{key:bn.MY_REFERENCES,title:this.__("menu_avatar_references")},{key:bn.HELP,title:this.__("menu_avatar_help"),href:vn.menu_avatar_help_link},{key:bn.CONTACT_US,title:this.__("menu_avatar_contact"),href:vn.menu_avatar_contact_link},{key:bn.SETTINGS,title:this.__("menu_avatar_settings")}],env:l,loginRedirectURL:o,switchAccountRidirectURL:r,logoutRedirectURL:i,clientID:"marketplace"};return t&&(c.user={avatar:t.avatar,name:t.name},c.userProfileURL="https://"+n+"/u/"+t.id),Ot.default.createElement("div",{className:this.ss("account-switcher")},Ot.default.createElement("unity-account-switcher",{config:JSON.stringify(c)}))}}]),t}(),L.propTypes={loginUser:Ct.default.object,currentHost:Ct.default.string,currentPath:Ct.default.string,showForm:Ct.default.func,postSchool:Ct.default.func,postGroup:Ct.default.func,loginTo:Ct.default.func},U=z))||U)||U)||U),On=t.BarsAction=(W=(0,fn.default)(mn.default),H=(0,hn.default)(_n.default),W(B=H(B=function(e){function t(){var e,n,a,o;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={hover:!1},o=n,i(a,o)}return s(t,Pt.default),Re(t,[{key:"componentDidMount",value:function(){var e=this;this.removeClickOutside=(0,Tt.addClickOutside)([this],function(){e.setState({hover:!1})})}},{key:"componentWillUnmount",value:function(){this.removeClickOutside()}},{key:"render",value:function(){var e=this,t=this.state.hover;return Ot.default.createElement("div",{className:this.ss("bars-action",t&&"hover")},Ot.default.createElement("button",{className:this.ss("button","ifont","ifont-bars"),onClick:function(){return e.setState({hover:!t})}}),Ot.default.createElement("div",{className:this.ss("popout")},t&&Ot.default.createElement(nn.default,{onClose:function(){return e.setState({hover:!1})}})))}}]),t}())||B)||B),Pn=t.MessagesAction=(q=(0,St.decorator)({isMessagesOpen:(0,Nt.state)(Ye),channels:(0,Nt.state)(Qe),readState:(0,Nt.state)(Xe),loginUser:(0,Nt.state)(Ae),workspaces:(0,Nt.state)(Ze),messagesOpen:(0,Nt.signal)($e),messagesClose:(0,Nt.signal)(et)}),F=(0,fn.default)(mn.default),K=(0,hn.default)(_n.default),q(G=F(G=K((J=V=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Pt.default),Re(t,[{key:"onOpen",value:function(){var e=this.props,t=e.isMessagesOpen,n=e.messagesOpen,a=e.messagesClose;t?a():n(),this.props.onClick&&this.props.onClick()}},{key:"render",value:function(){var e=this,t=this.props,n=t.isMessagesOpen,a=t.channels,o=t.readState,r=t.loginUser,i=t.workspaces;if(!r)return null;var s=null,l=Object.values(a).filter(function(e){var t=i[e.workspaceId];return t&&""===t.organizationId}).reduce(function(e,t){var n=t.id;return e+o[n].mentionCount},0);if(l>0){s=Ot.default.createElement("div",{className:this.ss("badge")},l>99?this.__("count_overflow",{maxCount:99}):l)}else Object.values(a).filter(function(e){return!e.isMute&&o[e.id]&&o[e.id].ackMessageId<o[e.id].lastMessageId}).length>0&&(s=Ot.default.createElement("div",{className:this.ss("badge","badge-hint")}));return Ot.default.createElement("div",{className:this.ss("messages-wrap")},Ot.default.createElement(xt.default,{text:this.__("messages_action"),position:"bottom"},Ot.default.createElement("div",{id:"messages-action",className:this.ss("messages-action",n&&"open")},Ot.default.createElement("button",{className:this.ss("messages-icon","ifont","ifont-material-baseline-question_answer"),"aria-label":this.__("messages_action"),onClick:function(){return e.onOpen()}}),s)),n&&Ot.default.createElement(qt.default,null))}}]),t}(),V.propTypes={isMessagesOpen:Ct.default.bool.isRequired,messagesOpen:Ct.default.func,messagesClose:Ct.default.func,loginUser:Ct.default.object,workspaces:Ct.default.object,channels:Ct.default.object,readState:Ct.default.object,onClick:Ct.default.func},G=J))||G)||G)||G),Sn=(Y=(0,St.decorator)({currentPath:(0,Nt.state)(Fe),loginUser:(0,Nt.state)(Ae),headerHeight:(0,Nt.state)(tt),headerTop:(0,Nt.state)(nt),scrollTop:(0,Nt.state)(at),notificationStatus:(0,Nt.state)(Le),closeLoginWindow:(0,Nt.signal)(ot),setCurrHeaderTop:(0,Nt.signal)(rt),startSession:(0,Nt.signal)(it),setHeaderPosition:(0,Nt.signal)(st)}),Q=(0,fn.default)(mn.default),X=(0,hn.default)(_n.default),Y(Z=Q(Z=X((ee=$=function(e){function t(){var e,n,a,o;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={},a.onHandleScroll=function(){var e=a.props,t=e.scrollTop,n=e.headerTop,o=e.setHeaderPosition,r=e.headerHeight,i=document.getElementById("pageBody").parentNode,s=i.scrollTop,l=i.scrollHeight,c=i.clientHeight;(0,Bt.isTouch)()?n<0&&o({headerTop:0,scrollTop:s}):s>t?o({headerTop:Math.min(n,s>r?-r:-s),scrollTop:s}):s<t&&s<=l-c&&o({headerTop:Math.max(n,s>r?0:-s),scrollTop:s})},o=n,i(a,o)}return s(t,Pt.default),Re(t,[{key:"componentDidMount",value:function(){document.getElementById("pageBody").parentNode.addEventListener("scroll",this.onHandleScroll),this.isLogin()&&(0,this.props.startSession)()}},{key:"componentWillUnmount",value:function(){document.getElementById("pageBody").parentNode.removeEventListener("scroll",this.onHandleScroll)}},{key:"isLogin",value:function(){return!!this.props.loginUser}},{key:"inSignUp",value:function(){return"/sign-up"===this.props.currentPath}},{key:"renderMobileSearchBox",value:function(){var e=this;return Ot.default.createElement("div",{className:this.ss("mobile-search-box")},Ot.default.createElement(Wt.default,{hideMobileSearch:function(){return e.setState({showMobileSearch:!1})},autoFocus:!0}))}},{key:"renderMenuItems",value:function(){var e=this;if(this.inSignUp())return null;var t=this.props.currentPath,n=this.state.showMobileSearch,a="/search"!==t;return Ot.default.createElement("div",{className:this.ss("main-menu-wrapper")},Ot.default.createElement("div",{className:this.ss("main-menu")},Ot.default.createElement("div",{className:this.ss("menu-left")},Ot.default.createElement(an.default,null),Ot.default.createElement(on.default,null),Ot.default.createElement(rn.default,null),Ot.default.createElement(sn.default,null)),Ot.default.createElement("div",{className:this.ss("menu-right")},a&&Ot.default.createElement(Wt.default,null),Ot.default.createElement(yn,null))),Ot.default.createElement("button",{className:this.ss("mobile-search"),onClick:function(){return e.setState({showMobileSearch:!n})}},Ot.default.createElement("a",{className:this.ss("search-icon","ifont","ifont-icons-search")})),n&&this.renderMobileSearchBox())}},{key:"renderUserActions",value:function(){return this.inSignUp()?Ot.default.createElement("div",{className:this.ss("user-actions")},Ot.default.createElement("div",{className:this.ss("beta-user")},Ot.default.createElement("a",{className:this.ss("logout-btn"),href:"/auth/logout"},this.__("logout_action")))):Ot.default.createElement("div",{className:this.ss("user-actions")},Ot.default.createElement(Ht.default,{right:[Ot.default.createElement(Pn,{key:"messages"}),Ot.default.createElement(wn,{key:"notifications"}),Ot.default.createElement(jn,{key:"application_switcher"}),Ot.default.createElement(Cn,{key:"avatar"}),Ot.default.createElement(On,{key:"bars"})]}))}},{key:"renderLogo",value:function(){return Ot.default.createElement("div",{className:this.ss("logo")},Ot.default.createElement("a",{href:"/"},Ot.default.createElement("img",{role:"presentation",src:n(350)})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.currentPath,a=t.headerHeight,o=t.headerTop,r=t.closeLoginWindow,i=t.setCurrHeaderTop,s=!("/learn-more"===n);return Ot.default.createElement("div",null,Ot.default.createElement(tn.default,null),Ot.default.createElement(Rt.default,null),Ot.default.createElement(It.default,null),Ot.default.createElement(At.default,null),Ot.default.createElement(Gt.default,null),Ot.default.createElement(Mt.Motion,{style:{headerTop:(0,Mt.spring)(o,gn)}},function(t){var n={position:"fixed",top:c(t.headerTop,a)};return"undefined"!=typeof window&&setTimeout(function(){i({currHeaderTop:n.top})},0),Ot.default.createElement("div",{className:e.ss("header-wrap"),style:n},Ot.default.createElement(Ft.default,null),Ot.default.createElement("div",{className:e.ss("header")},e.renderLogo(),e.renderMenuItems(),e.renderUserActions()),s&&Ot.default.createElement(Nn,null),Ot.default.createElement(cn.default,null),Ot.default.createElement(un.default,null))}),Ot.default.createElement(Dt.default,null),Ot.default.createElement(Ut.default,{onClose:function(){return r()}}),Ot.default.createElement(Lt.default,null),Ot.default.createElement(zt.default,null),Ot.default.createElement(Vt.default,null),Ot.default.createElement(Jt.default,null),Ot.default.createElement(Yt.default,null),Ot.default.createElement(Kt.default,null),Ot.default.createElement(Mn,null),Ot.default.createElement(Tn,null),Ot.default.createElement(xn,null),Ot.default.createElement(In,null),Ot.default.createElement(Rn,null),Ot.default.createElement(ln.default,null))}}]),t}(),$.propTypes={currentPath:Ct.default.string.isRequired,loginUser:Ct.default.object,headerHeight:Ct.default.number,headerTop:Ct.default.number.isRequired,scrollTop:Ct.default.number.isRequired,notificationStatus:Ct.default.bool.isRequired,closeLoginWindow:Ct.default.func,setCurrHeaderTop:Ct.default.func,startSession:Ct.default.func,setHeaderPosition:Ct.default.func},Z=ee))||Z)||Z)||Z);t.default=Sn;var Nn=t.SunsetBar=(te=(0,fn.default)(mn.default),ne=(0,hn.default)(_n.default),te(ae=ne(ae=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Pt.default),Re(t,[{key:"render",value:function(){return Ot.default.createElement("div",{className:this.ss("sunset-bar-wrap")},Ot.default.createElement("div",{className:this.ss("sunset-bar")},Ot.default.createElement("div",{className:this.ss("sunset-title")},this.__("sunset_title")),Ot.default.createElement("a",{className:this.ss("sunset-link"),href:"/learn-more"},this.__("sunset_link"))))}}]),t}())||ae)||ae),Mn=(oe=(0,St.decorator)({needReviewOpen:(0,Nt.state)(lt),closeNeedReviewDialog:(0,Nt.signal)(ct)}),re=(0,fn.default)(mn.default),ie=(0,hn.default)(_n.default),oe(se=re(se=ie((ce=le=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Pt.default),Re(t,[{key:"render",value:function(){var e=this.props,t=e.needReviewOpen,n=e.closeNeedReviewDialog;return Ot.default.createElement(Qt.default,{theme:"default",open:t,title:this.__("review_title"),description:this.__("review_text"),hideCancel:!0,onClose:function(){return n()},onConfirm:function(){return n()}})}}]),t}(),le.propTypes={needReviewOpen:Ct.default.bool,closeNeedReviewDialog:Ct.default.func},se=ce))||se)||se)||se),Tn=t.TfaConfirmDialog=(ue=(0,St.decorator)({tfaConfirmOpen:(0,Nt.state)(ut),doTfaStatus:(0,Nt.state)(dt),doTfa:(0,Nt.signal)(pt),closeTfaConfirmDialog:(0,Nt.signal)(ft)}),de=(0,fn.default)(mn.default),pe=(0,hn.default)(_n.default),ue(fe=de(fe=pe((he=me=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Pt.default),Re(t,[{key:"render",value:function(){var e=this.props,t=e.tfaConfirmOpen,n=e.doTfaStatus,a=e.doTfa,o=e.closeTfaConfirmDialog;return Ot.default.createElement(Qt.default,{theme:"tfa",open:t,title:this.__("confirm_title"),description:this.__("confirm_text"),confirmStatus:n,onConfirm:function(){return a()},onClose:function(){return o()}})}}]),t}(),me.propTypes={tfaConfirmOpen:Ct.default.bool,doTfaStatus:Ct.default.string,doTfa:Ct.default.func,closeTfaConfirmDialog:Ct.default.func},fe=he))||fe)||fe)||fe),xn=t.TfaNotifyDialog=(_e=(0,St.decorator)({tfaNotifyOpen:(0,Nt.state)(mt),doTfaStatus:(0,Nt.state)(dt),doTfa:(0,Nt.signal)(pt),skipTfa:(0,Nt.signal)(ht),closeTfaNotifyDialog:(0,Nt.signal)(_t)}),ge=(0,fn.default)(mn.default),ve=(0,hn.default)(_n.default),_e(be=ge(be=ve((we=ye=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Pt.default),Re(t,[{key:"render",value:function(){var e=this.props,t=e.tfaNotifyOpen,n=e.doTfaStatus,a=e.doTfa,o=e.skipTfa,r=e.closeTfaNotifyDialog;return Ot.default.createElement(Xt.default,{theme:"tfa",open:t,title:this.__("notify_title"),description:this.__("notify_text"),confirmStatus:n,onOK:function(){return a()},onNO:function(){return o()},onClose:function(){return r()}})}}]),t}(),ye.propTypes={tfaNotifyOpen:Ct.default.bool,doTfaStatus:Ct.default.string,doTfa:Ct.default.func,skipTfa:Ct.default.func,closeTfaNotifyDialog:Ct.default.func},be=we))||be)||be)||be),In=(je=(0,St.decorator)({platform:(0,Nt.state)(gt),browserConfirmOpen:(0,Nt.state)(vt),closeBrowserConfirmDialog:(0,Nt.signal)(bt),openBrowserConfirmDialog:(0,Nt.signal)(yt)}),Ee=(0,fn.default)(mn.default),ke=(0,hn.default)(_n.default),je(Ce=Ee(Ce=ke((Pe=Oe=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Pt.default),Re(t,[{key:"componentDidMount",value:function(){var e=(this.props.platform||{}).ua;(0,$t.default)(e)||(0,en.default)(e)||this.checkBrowserVersion()}},{key:"versionSimplify",value:function(e){if(!e)return null;var t=e.split(".");return isFinite(t[0])?parseInt(t[0],10):null}},{key:"checkBrowserVersion",value:function(){var e=this.props,t=e.platform,n=e.openBrowserConfirmDialog,a=t||{name:"",version:""},o=a.name,r=a.version,i=this.versionSimplify(r);if(i){if(o&&"safari"===o.toLowerCase()){if(i>=10)return;n()}if(o&&"chrome"===o.toLowerCase()){if(i>=49)return;n()}if(o&&"firefox"===o.toLowerCase()){if(i>=51)return;n()}o&&"ie"===o.toLowerCase()&&n()}else console.error("can not parse version number: "+r)}},{key:"render",value:function(){var e=this.props,t=e.browserConfirmOpen,n=e.closeBrowserConfirmDialog,a=e.platform||{name:"",version:""},o=a.name,r=a.version,i="";return o&&"safari"===o.toLowerCase()&&(i=10),o&&"chrome"===o.toLowerCase()&&(i=49),o&&"firefox"===o.toLowerCase()&&(i=51),o&&"ie"===o.toLowerCase()&&(i="Chrome/Edge"),Ot.default.createElement(Qt.default,{theme:"default",hideCancel:!0,open:t,title:this.__("browser_confirm_title"),description:this.__("browser_confirm_text",{version:r,recommendVersion:i}),onConfirm:function(){return n()},onClose:function(){return n()}})}}]),t}(),Oe.propTypes={browserConfirmOpen:Ct.default.bool,platform:Ct.default.object,closeBrowserConfirmDialog:Ct.default.func,openBrowserConfirmDialog:Ct.default.func},Ce=Pe))||Ce)||Ce)||Ce),Rn=t.DeleteConfirmDialog=(Se=(0,St.decorator)({deleteConfirmOpen:(0,Nt.state)(wt),deleteConfirmType:(0,Nt.state)(jt),closeDeleteConfirm:(0,Nt.signal)(Et),doConfirmDelete:(0,Nt.signal)(kt)}),Ne=(0,fn.default)(mn.default),Me=(0,hn.default)(_n.default),Se(Te=Ne(Te=Me((Ie=xe=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Pt.default),Re(t,[{key:"render",value:function(){var e=this.props,t=e.deleteConfirmOpen,n=e.deleteConfirmType,a=e.closeDeleteConfirm,o=e.doConfirmDelete;return Ot.default.createElement(Qt.default,{open:t,theme:"delete",title:this.__("delete_confirm_"+n+"_title"),description:this.__("delete_confirm_"+n+"_text"),onConfirm:function(){return o()},onClose:function(){return a()}})}}]),t}(),xe.propTypes={deleteConfirmOpen:Ct.default.bool,deleteConfirmType:Ct.default.oneOf(["default","comment","post","transfer_owner","group_kick","announcement","reject_refund","accept_refund","reject_dispute","accept_dispute"]),closeDeleteConfirm:Ct.default.func,doConfirmDelete:Ct.default.func},Te=Ie))||Te)||Te)||Te)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["report.status"],["report.status"]),_=s(["report.processStatus"],["report.processStatus"]),g=s(["report.reportForm"],["report.reportForm"]),v=s(["report.itemType"],["report.itemType"]),b=s(["report.reportTitle"],["report.reportTitle"]),y=s(["report.close"],["report.close"]),w=s(["report.submitReport"],["report.submitReport"]),j=s(["report.changeType"],["report.changeType"]),E=s(["report.changeInputReasons"],["report.changeInputReasons"]),k=a(n(2)),C=a(n(1)),O=n(5),P=n(0),S=a(n(3)),N=a(n(12)),M=a(n(72)),T=a(n(13)),x=a(n(47)),I=a(n(37)),R=n(7),D=a(n(4)),A=a(n(358)),U=a(n(6)),L=a(n(359)),z=(l=(0,O.decorator)({status:(0,P.state)(h),processStatus:(0,P.state)(_),reportForm:(0,P.state)(g),itemType:(0,P.state)(v),reportTitle:(0,P.state)(b),close:(0,P.signal)(y),submitReport:(0,P.signal)(w),changeType:(0,P.signal)(j),changeInputReasons:(0,P.signal)(E)}),c=(0,D.default)(A.default),u=(0,U.default)(L.default),l(d=c(d=u((f=p=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.onClose=function(){a.props.close({formPath:["report","reportForm"]})},a.options=["spam","copyright_violation","abusive_contents","adult_contents","other"],i=n,r(a,i)}return i(t,S.default),m(t,[{key:"componentDidUpdate",value:function(e){var t=this;!1===e.status&&!0===this.props.status&&setTimeout(function(){return t.setFocus()},100)}},{key:"onSubmit",value:function(){this.props.submitReport({formPath:["report","reportForm"]})}},{key:"setFocus",value:function(){var e=N.default.findDOMNode(this.refs.focusButton);e&&e.focus()}},{key:"renderOtherOption",value:function(){var e=this.props,t=e.reportForm,n=e.changeType,a=e.changeInputReasons;return C.default.createElement("div",{key:"other",className:this.ss("report-option-row")},C.default.createElement(x.default,{key:"option_other",className:this.ss("report-option-item"),label:"",value:"other",isChecked:"other"===t.type.value,onCheck:function(e,t){return n({value:t})}}),C.default.createElement(I.default,{className:this.ss("input"),placeholder:this.__("input_placeholder"),disabled:"other"!==t.type.value,value:t.inputReasons.value,errorText:t.inputReasons.isTouched&&this.__(t.inputReasons.errorMessage),onChange:function(e,t){return a({value:t})}}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.reportForm,a=t.status,o=t.processStatus,r=t.itemType,i=t.reportTitle,s=t.changeType,l=this.options.map(function(t){return"other"===t?e.renderOtherOption():C.default.createElement(x.default,{key:"option_"+t,className:e.ss("report-option-item"),label:e.__("report_option_"+t),value:t,isChecked:n.type.value===t,onCheck:function(e,t){return s({value:t})}})});return C.default.createElement(M.default,{open:a,className:this.ss("dialog-wrap"),title:i?this.__("title_report_"+i):this.__("title_report_"+r),onCloseModal:this.onClose,maxHeight:!0},C.default.createElement("div",{className:this.ss("report-wrap")},C.default.createElement("h1",{className:this.ss("report-title")},this.__("report_title")),C.default.createElement("div",{className:this.ss("report-options")},l),C.default.createElement("div",{className:this.ss("button-wrap")},C.default.createElement(T.default,{ref:"focusButton",theme:"default",loading:(0,R.isLoading)(o),className:this.ss("button","btn-submit"),label:this.__("btn_submit"),onClick:function(){return e.onSubmit()}}))))}}]),t}(),p.propTypes={status:k.default.bool,processStatus:k.default.string,reportForm:k.default.object,itemType:k.default.string,reportTitle:k.default.string,close:k.default.func,submitReport:k.default.func,changeType:k.default.func,changeInputReasons:k.default.func},d=f))||d)||d)||d);t.default=z},,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),p=a(n(2)),f=a(n(1)),m=a(n(3)),h=a(n(4)),_=a(n(182)),g=(s=(0,h.default)(_.default))((u=c=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a._handleCheck=function(e){!a.props.disable&&a.props.onCheck&&a.props.onCheck(e,!a.props.checked)},i=n,r(a,i)}return i(t,m.default),d(t,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.label,a=e.style,o=e.checked,r=e.disable,i=e.className,s=e.boxClassName,l=e.checkedClassName,c=e.checkClassName,u=e.reverse,d=e.theme,p=e.labelClassName,m=o?["checked",l]:["check",c];return f.default.createElement("div",{key:t,className:this.ss(i,u&&"reverse","theme-"+d),style:a},f.default.createElement("div",{className:this.ss("container",s,r&&"disable"),onClick:this._handleCheck},f.default.createElement("button",{className:this.ss.apply(this,m),type:"button"},f.default.createElement("div",{className:this.ss("inner","ifont","ifont-material-baseline-check")})),n&&f.default.createElement("div",{className:this.ss("label",p),title:n},n)))}}]),t}(),c.propTypes={id:p.default.string,label:p.default.oneOfType([p.default.string,p.default.array]),style:p.default.object,checked:p.default.bool,onCheck:p.default.func,className:p.default.string,boxClassName:p.default.string,checkClassName:p.default.string,checkedClassName:p.default.string,labelClassName:p.default.string,reverse:p.default.bool,theme:p.default.oneOf(["default","blue","blue-primary","egl"]),disable:p.default.bool},c.defaultProps={theme:"default",disable:!1},l=u))||l;t.default=g},,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t,n){"atomic"===e.getType()&&e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&"GAMEGALLERY"===n.getEntity(t).getType()},t)}function i(e){var t=e.getCurrentContent(),n=e.getSelection(),a=n.getStartKey(),o=n.getEndKey();if(a===o){var i=!1;return r(t.getBlockForKey(o),function(){i=!0},t),i}return!1}function s(e,t){var n=e.getCurrentContent(),a=(0,u.getSelectedEntity)(e),r=n.getEntity(a).getData().contents,i=void 0===r?[]:r,s=[].concat(o(i));return-1!==t&&t<i.length?(s.splice(t,1),n=(0,u.mergeAtomicEntityData)(n,a,{contents:s}),u.EditorState.push(e,n,"apply-entity")):e}function l(e){var t=e.uploadIds,n=e.uploads,a=e.entityKey,r=e.editorKey,i=e.editorState,s=e.setEditorState,l=i.getCurrentContent(),c=l.getEntity(a).getData().contents,d=void 0===c?[]:c,p=[].concat(o(d));if(t.length>0){t.forEach(function(e){var t=e&&n[e];p.push({uploadId:t.id,contentId:t.contentId})});var f=(0,u.mergeAtomicEntityData)(l,a,{contents:p});s({editorKey:r,editorState:u.EditorState.push(i,f,"apply-entity")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.findGalleryEntities=r,t.isGalleryBlockSelected=i,t.default=function(e){var t=e.editorKey,n=e.renderOnly;if(!t)throw new Error("editorKey is empty");var a=p.default;e.decorator&&(a=e.decorator(a)),a=(0,c.default)(a,{editorKey:t,renderOnly:n});var o=l;return{handleKeyCommand:n?void 0:function(e,t,n){var a=n.getProps,o=n.setEditorState;switch(e){case"backspace":case"backspace-word":case"backspace-to-start-of-line":case"delete":case"delete-word":case"delete-to-end-of-block":if(i(t)){var r=a().controller,l=r.getState("project.gallery.itemPos");o(s(t,l));var c=Math.max(0,l-1);return r.getSignal("project.setItemPos")({itemPos:c}),"handled"}}return"not-handled"},handleReturn:n?void 0:function(e,t,n){var a=n.setEditorState;return i(t)?(a((0,u.moveToNextBlock)(t)),"handled"):"not-handled"},keyBindingFn:n?void 0:function(e,t){var a=t.getEditorState,o=t.getProps;if(!e.shiftKey){var r=a();if(i(r)){var s=o().controller,l=s.getState("project.gallery.itemPos"),c=s.getSignal("project.setItemPos");if(37===e.keyCode)return c({itemPos:Math.max(0,l-1)}),"";if(39===e.keyCode){var d=(0,u.getSelectedEntityData)(r).contents,p=void 0===d?[]:d,f=!0===n?Math.max(0,p.length-1):p.length;return c({itemPos:Math.min(f,l+1)}),""}}}},decorators:[{strategy:r,component:a}],UploadVideoDialog:n?function(){return null}:(0,c.default)(d.default,{editorKey:t,onOK:o})}};var c=a(n(36)),u=n(10),d=a(n(65)),p=a(n(219))},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,d,p,f,m,h,_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},g=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),v=c(["countryByIp"],["countryByIp"]),b=c(["project.contentMap"],["project.contentMap"]),y=c(["project.uploads"],["project.uploads"]),w=c(["project.retryUploadAttachment"],["project.retryUploadAttachment"]),j=c(["project.openContent"],["project.openContent"]),E=c(["draft.setEditorState"],["draft.setEditorState"]),k=a(n(1)),C=a(n(2)),O=a(n(3)),P=n(5),S=n(0),N=a(n(15)),M=a(n(215)),T=n(7),x=n(123),I=n(11),R=n(10),D=a(n(44)),A=a(n(4)),U=a(n(220)),L=a(n(6)),z=a(n(221)),W=n(74),H=(u=(0,P.decorator)({countryByIp:(0,S.state)(v),contentMap:(0,S.state)(b),uploads:(0,S.state)(y),retryUploadAttachment:(0,S.signal)(w),openContent:(0,S.signal)(j),setEditorState:(0,S.signal)(E)}),d=(0,A.default)(U.default),p=(0,L.default)(z.default),u(f=d(f=p((h=m=function(e){function t(){var e,n,a,o;i(this,t);for(var r=arguments.length,l=Array(r),c=0;c<r;c++)l[c]=arguments[c];return n=a=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={},o=n,s(a,o)}return l(t,O.default),g(t,[{key:"componentDidMount",value:function(){this.checkUpload()}},{key:"componentDidUpdate",value:function(){this.checkUpload()}},{key:"onImageClick",value:function(e,t){var n=this.props,a=n.renderOnly,o=n.focus,r=n.openContent;a?r({contentId:t}):o(e)}},{key:"onThumbClick",value:function(e){(0,D.default)(e)}},{key:"getEntityData",value:function(){var e=this.props,t=e.entityKey;return e.editorState.getCurrentContent().getEntity(t).getData()}},{key:"checkUpload",value:function(){var e=this.props,t=e.uploads,n=e.contentMap,a=e.item,i=a.uploadId,s=a.contentId,l=r(a,["uploadId","contentId"]),c=i&&t[i];if(c&&c.contentId&&n[c.contentId]&&!s){var u=this.getEntityData().contents,d=void 0===u?[]:u,p=[].concat(o(d)),f=d.findIndex(function(e){return e.uploadId===i});if(-1!==f){p.splice(f,1,_({},l,{contentId:c.contentId}));var m=this.props,h=m.entityKey,g=m.editorKey,v=m.editorState,b=m.setEditorState,y=(0,R.mergeAtomicEntityData)(v.getCurrentContent(),h,{contents:p});b({editorKey:g,editorState:R.EditorState.set(v,{currentContent:y})})}this.__placeholderSrc=c.dataUrl}}},{key:"retry",value:function(e,t){e.preventDefault(),(0,this.props.retryUploadAttachment)(t)}},{key:"renderLoading",value:function(e){var t=e.loaded,n=void 0===t?0:t,a=e.total,o=100*n/(void 0===a?1:a);return k.default.createElement("div",{className:this.ss("loading-wrap")},k.default.createElement("div",{className:this.ss("loading-text")},this.__("image_uploading")),k.default.createElement("div",{className:this.ss("loading-bar")},k.default.createElement("div",{className:this.ss("loading"),style:{width:o+"%"}})))}},{key:"renderFailed",value:function(e){var t=this;return k.default.createElement("div",{className:this.ss("loading-wrap")},k.default.createElement("div",{className:this.ss("loading-text")},this.__("image_uploading_failed")),k.default.createElement("button",{className:this.ss("loading-button"),onClick:function(n){return t.retry(n,e)}},k.default.createElement("span",{className:this.ss("content")},k.default.createElement("span",{className:this.ss("ifont","ifont-icons_refresh","retry")}),k.default.createElement("span",{className:this.ss("text")},this.__("image_uploading_retry")))))}},{key:"renderEmbedThumbnail",value:function(e){var t=this;if(!e)return null;var n=this.props,a=n.width,o=n.height,r=a?Math.round(100*o/a):1,i=e||{},s=i.oembed,l=(i.thumbnail||{}).url||(0,I.securedURL)(s.thumbnail_url);return k.default.createElement("div",{className:this.ss("video")},k.default.createElement("div",{style:{paddingBottom:r+"%"}}),k.default.createElement("div",{className:this.ss("iframe-wrap")},k.default.createElement(N.default,{src:l,width:a,height:o,sizes:"1000px"})),k.default.createElement("div",{className:this.ss("video-icon-wrap"),onClick:function(){return t.onThumbClick(e.url)}},k.default.createElement("div",{className:this.ss("icon","ifont","ifont-play")})))}},{key:"renderEmbed",value:function(e){var t=e||{},n=t.oembed,a=(t.thumbnail||{}).url,o=this.props,r=o.width,i=o.height,s=o.animating,l=r?Math.round(100*i/r):1,c=e&&"webgl"===e.type,u=void 0,d=void 0;n?(u=a||(0,I.securedURL)(n.thumbnail_url),d=(0,x.normalizeHtml)({html:n.html})):c&&(u=W,d='<iframe width="100%" height="100%" src="'+e.url+'" scrolling="yes" frameborder="0" allowfullscreen="allowfullscreen"></iframe>');var p=c||!s;return k.default.createElement("div",{className:this.ss("video")},k.default.createElement("div",{style:{paddingBottom:l+"%"}}),k.default.createElement("div",{ref:"iframe",className:this.ss("iframe-wrap"),dangerouslySetInnerHTML:{__html:d}}),!p&&k.default.createElement("div",{className:this.ss("iframe-wrap")},k.default.createElement(N.default,{src:u,width:r,height:i,sizes:"1000px"})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.item,a=t.focus,o=t.uploads,r=t.contentMap,i=t.width,s=t.height,l=t.renderOnly,c=t.countryByIp,u=n.uploadId,d=n.contentId,p=d&&r[d],f=o[u],m=void 0;if(p&&"img"!==p.type)m="CN"!==c||!p.oembed||"YouTube"!==p.oembed.provider_name&&"Vimeo"!==p.oembed.provider_name?this.renderEmbed(p):this.renderEmbedThumbnail(p);else if(p&&"img"===p.type){var h=this.__placeholderSrc,_=p.originalImage,g=_.url,v=_.gif;m=k.default.createElement("div",{className:this.ss("image"),onClick:function(t){return e.onImageClick(t,d)}},k.default.createElement(N.default,{src:g,sizes:"1000px",placeholderSrc:h,width:i,height:s,gif:!!v}),k.default.createElement(M.default,{contentId:p.id,theme:"gallery",renderOnly:l}))}else if(f){var b=f.dataUrl;m=k.default.createElement("div",{className:this.ss("image"),onClick:a},k.default.createElement(N.default,{src:b,sizes:"1000px",width:i,height:s}),(0,T.isLoading)(f.status)&&this.renderLoading(f),(0,T.isFailed)(f.status)&&this.renderFailed(f))}return k.default.createElement("div",{className:this.ss("image-wrapper",l&&"render-only")},m)}}]),t}(),m.propTypes={countryByIp:C.default.string,item:C.default.object,uploads:C.default.object,contentMap:C.default.object,width:C.default.number,height:C.default.number,animating:C.default.bool,renderOnly:C.default.bool,retryUploadAttachment:C.default.func,openContent:C.default.func,focus:C.default.func,editorKey:C.default.string,entityKey:C.default.string,editorState:C.default.object,setEditorState:C.default.func},f=h))||f)||f)||f);t.default=H},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),m=s(["project.contentMap"],["project.contentMap"]),h=s(["project.uploads"],["project.uploads"]),_=a(n(1)),g=a(n(2)),v=a(n(3)),b=n(5),y=n(0),w=a(n(15)),j=n(7),E=n(11),k=a(n(4)),C=a(n(222)),O=n(74),P=(l=(0,b.decorator)({contentMap:(0,y.state)(m),uploads:(0,y.state)(h)}),c=(0,k.default)(C.default),l(u=c((p=d=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,v.default),f(t,[{key:"renderEmbed",value:function(e){var t=this.props,n=t.width,a=t.height,o=e||{},r=o.oembed,i=o.thumbnail,s=o.originalImage,l=void 0;return r?l=(i||{}).url||(0,E.securedURL)(r.thumbnail_url):e&&"img"===e.type?l=(0,E.securedURL)(s&&s.url):e&&"webgl"===e.type&&(l=O),_.default.createElement(w.default,{src:l,width:n,height:a,sizes:"1000px"})}},{key:"render",value:function(){var e=this.props,t=e.isFocused,n=e.focus,a=e.item,o=e.uploads,r=e.contentMap,i=e.width,s=e.height,l=e.theme,c=e.renderOnly,u=a.uploadId,d=a.contentId,p=d&&r[d],f=o[u],m=p||{},h=m.externalRef,g=m.externalType,v=!!h&&"asset_store"===g,b=_.default.createElement("div",{className:this.ss("asset-store-icon","ifont","ifont-assetstore-icon")}),y=p&&"img"!==p.type,E=_.default.createElement("div",{className:this.ss("video-icon","ifont","ifont-icons_play")}),k=_.default.createElement("div",{className:this.ss("delete-wrap")},_.default.createElement("button",{className:this.ss("delete","ifont","ifont-icons_trash"),onClick:this.props.onDelete})),C=void 0;if(p&&"img"!==p.type)C=this.renderEmbed(p);else if(p&&"img"===p.type){var O=f&&f.dataUrl,P=p.originalImage,S=P.url,N=P.gif;C=_.default.createElement(w.default,{src:S,sizes:"1000px",placeholderSrc:O,width:i,height:s,gif:!!N})}else if(f){var M=f.dataUrl;C=_.default.createElement(w.default,{src:M,width:i,height:s,sizes:"1000px"})}return _.default.createElement("div",{className:this.ss("image",t&&"focus",l),onClick:n},C,!t&&y&&E,!t&&v&&b,!c&&k,"showcase"===l&&_.default.createElement("div",{className:this.ss("thumb-mark")}),((0,j.isLoading)(f&&f.status)||(0,j.isFailed)(f&&f.status))&&_.default.createElement("div",{className:this.ss("loading-wrap")}))}}]),t}(),d.propTypes={item:g.default.object,uploads:g.default.object,contentMap:g.default.object,isFocused:g.default.bool,renderOnly:g.default.bool,width:g.default.number,height:g.default.number,theme:g.default.oneOf(["showcase","game"]),focus:g.default.func,onDelete:g.default.func},d.defaultProps={theme:"game"},u=p))||u)||u);t.default=P},,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t,n){"atomic"===e.getType()&&e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&"SHOWCASEGALLERY"===n.getEntity(t).getType()},t)}function i(e){var t=e.getCurrentContent(),n=e.getSelection(),a=n.getStartKey(),o=n.getEndKey();if(a===o){var i=!1;return r(t.getBlockForKey(o),function(){i=!0},t),i}return!1}function s(e,t){var n=e.getCurrentContent(),a=(0,u.getSelectedEntity)(e),r=n.getEntity(a).getData().contents,i=void 0===r?[]:r,s=[].concat(o(i));return-1!==t&&t<i.length?(s.splice(t,1),n=(0,u.mergeAtomicEntityData)(n,a,{contents:s}),u.EditorState.push(e,n,"apply-entity")):e}function l(e){var t=e.uploadIds,n=e.uploads,a=e.editorKey,r=e.entityKey,i=e.editorState,s=e.setEditorState,l=i.getCurrentContent(),c=l.getEntity(r).getData().contents,d=void 0===c?[]:c,p=[].concat(o(d));if(t.length>0){t.forEach(function(e){var t=e&&n[e];p.push({uploadId:t.id,contentId:t.contentId})});var f=(0,u.mergeAtomicEntityData)(l,r,{contents:p});s({editorKey:a,editorState:u.EditorState.push(i,f,"apply-entity")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.findGalleryEntities=r,t.isGalleryBlockSelected=i,t.default=function(e){var t=e.editorKey,n=e.renderOnly;if(!t)throw new Error("editorKey is empty");var a=p.default;e.decorator&&(a=e.decorator(a)),a=(0,c.default)(a,{editorKey:t,renderOnly:n});var o=l;return{handleKeyCommand:n?void 0:function(e,t,n){var a=n.getProps,o=n.setEditorState;switch(e){case"backspace":case"backspace-word":case"backspace-to-start-of-line":case"delete":case"delete-word":case"delete-to-end-of-block":if(i(t)){var r=a().controller,l=r.getState("project.gallery.itemPos");o(s(t,l));var c=Math.max(0,l-1);return r.getSignal("project.setItemPos")({itemPos:c}),"handled"}}return"not-handled"},handleReturn:n?void 0:function(e,t,n){var a=n.setEditorState;return i(t)?(a((0,u.moveToNextBlock)(t)),"handled"):"not-handled"},keyBindingFn:n?void 0:function(e,t){var a=t.getEditorState,o=t.getProps;if(!e.shiftKey){var r=a();if(i(r)){var s=o().controller,l=s.getState("project.gallery.itemPos"),c=s.getSignal("project.setItemPos");if(37===e.keyCode)return c({itemPos:Math.max(0,l-1)}),"";if(39===e.keyCode){var d=(0,u.getSelectedEntityData)(r).contents,p=void 0===d?[]:d,f=!0===n?Math.max(0,p.length-1):p.length;return c({itemPos:Math.min(f,l+1)}),""}}}},decorators:[{strategy:r,component:a}],UploadVideoDialog:n?function(){return null}:(0,c.default)(d.default,{editorKey:t,onOK:o})}};var c=a(n(36)),u=n(10),d=a(n(65)),p=a(n(232))},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),p=a(n(2)),f=a(n(1)),m=a(n(12)),h=a(n(3)),_=a(n(4)),g=a(n(243)),v=(s=(0,_.default)(g.default))((u=c=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={show:!1,btnElementHeight:0},a.closeDropDownButton=function(){var e=a.props.onSwitch;a.setState({show:!1},function(){e&&e(!1)})},i=n,r(a,i)}return i(t,h.default),d(t,[{key:"onShow",value:function(){var e=this.props.onSwitch,t=m.default.findDOMNode(this.refs.btnElement).offsetHeight;this.setState({show:!0,btnElementHeight:t+2},function(){e&&e(!0)})}},{key:"onChoice",value:function(e){this.props.onClick&&this.props.onClick(e),this.setState({show:!1})}},{key:"renderItems",value:function(){var e=this;return this.props.buttonItems.map(function(t){var n=t.value,a=t.text,o=t.icon,r=t.iconClassName;return f.default.createElement("div",{onClick:function(){return e.onChoice(n)},key:n,className:e.ss("item",!o&&"no-icon")},o&&f.default.createElement("div",{className:e.ss("icon","ifont",o,r)}),f.default.createElement("a",{className:e.ss("item-text")},a))})}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.buttonElement,o=t.position,r=t.verticalPosition,i={top:this.state.btnElementHeight+"px"};return o&&(i[o]="-1px"),"top"===r&&(i[r]="-4px"),f.default.createElement("div",{className:this.ss("dropdown",n)},f.default.createElement("div",{ref:"btnElement",className:this.ss("dropdown-element"),onClick:function(){return e.onShow()}},a),this.state.show&&f.default.createElement("div",{className:this.ss("dropdown-menus-bg"),onClick:this.closeDropDownButton}),this.state.show&&f.default.createElement("div",{className:this.ss("dropdown-menus"),style:i},this.renderItems()))}}]),t}(),c.propTypes={buttonElement:p.default.element,buttonItems:p.default.arrayOf(p.default.shape({text:p.default.string.isRequired,value:p.default.any,icon:p.default.string,iconClassName:p.default.string})).isRequired,className:p.default.string,onSwitch:p.default.func,onClick:p.default.func,position:p.default.oneOf(["left","right"]),verticalPosition:p.default.oneOf(["top","bottom"])},l=u))||l;t.default=v},,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u,d,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=a(n(1)),m=a(n(2)),h=a(n(3)),_=a(n(4)),g=a(n(266)),v=a(n(6)),b=a(n(267)),y=(s=(0,_.default)(g.default),l=(0,v.default)(b.default),s(c=l((d=u=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,h.default),p(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.type;return f.default.createElement("div",{className:this.ss(t,"container")},this.__(n))}}]),t}(),u.propTypes={className:m.default.string,type:m.default.oneOf(["admin","moderator","staff"])},c=d))||c)||c);t.default=y},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.EndBarComponent=t.default=void 0;var l,c,u,d,p,f,m,h,_,g,v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},b=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),y=s(["search.searchResult.currentPage"],["search.searchResult.currentPage"]),w=s(["search.searchResult.pages"],["search.searchResult.pages"]),j=s(["search.searchStatus"],["search.searchStatus"]),E=s(["search.loadMoreStatus"],["search.loadMoreStatus"]),k=s(["footer.height"],["footer.height"]),C=a(n(2)),O=a(n(1)),P=n(5),S=n(0),N=a(n(3)),M=a(n(13)),T=n(7),x=a(n(70)),I=a(n(4)),R=a(n(268)),D=a(n(6)),A=a(n(269)),U=(l=(0,P.decorator)({currentPage:(0,S.state)(y),pages:(0,S.state)(w),searchStatus:(0,S.state)(j),loadMoreStatus:(0,S.state)(E),footerHeight:(0,S.state)(k)}))((d=u=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.onHandleScroll=function(){var e=a.props,t=e.searchStatus,n=e.loadMoreStatus;!((0,T.isLoading)(t)||(0,T.isLoading)(n))&&a.hasMoreResult()&&a.isScrollToEnd()&&a.hasMoreResult()&&a.onPage()},i=n,r(a,i)}return i(t,N.default),b(t,[{key:"componentDidMount",value:function(){document.getElementById("pageBody").parentNode.addEventListener("scroll",this.onHandleScroll)}},{key:"componentWillUnmount",value:function(){document.getElementById("pageBody").parentNode.removeEventListener("scroll",this.onHandleScroll)}},{key:"onPage",value:function(){var e=this.props,t=e.searchStatus,n=e.loadMoreStatus;!((0,T.isLoading)(t)||(0,T.isLoading)(n))&&this.hasMoreResult()&&this.props.onPage&&this.props.onPage()}},{key:"isScrollToEnd",value:function(){var e=document.getElementById("pageBody").parentNode,t=e.scrollTop,n=e.scrollHeight;return t+e.clientHeight>=n}},{key:"hasMoreResult",value:function(){var e=this.props,t=e.currentPage,n=e.pages,a=e.hasMore,o=!1;if(a)o=a();else if(n&&n.length>0){var r=n.indexOf(t);r>=0&&r<n.length-1&&(o=!0)}return o}},{key:"render",value:function(){var e=this,t=(0,x.default)(this.props,"hasMore","onPage");return O.default.createElement(L,v({},t,{hasMore:this.hasMoreResult(),onPage:function(){return e.onPage()}}))}}]),t}(),u.propTypes={currentPage:C.default.number,pages:C.default.array,searchStatus:C.default.string,loadMoreStatus:C.default.string,footerHeight:C.default.number,onPage:C.default.func,hasMore:C.default.func},c=d))||c;t.default=U;var L=t.EndBarComponent=(p=(0,P.decorator)({loadMoreStatus:(0,S.state)(E)}),f=(0,I.default)(R.default),m=(0,D.default)(A.default),p(h=f(h=m((g=_=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,N.default),b(t,[{key:"render",value:function(){var e=this.props,t=e.userDefinedLoadMoreStaus,n=e.loadMoreStatus,a=e.hasMore,o=e.onPage,r=e.theme,i=null;return(0,T.isLoading)(t||n)?i="livehelp"===r?O.default.createElement("div",{className:this.ss("searchInProgress")},O.default.createElement("div",{className:this.ss("loading-text")},this.__("loading_text"))):O.default.createElement("div",{className:this.ss("searchInProgress")},O.default.createElement("div",{className:this.ss("loading")})):a&&(i="post"===r?O.default.createElement(M.default,{theme:"gray",widthType:"full",size:"xlarge",label:this.__("view_more"),onClick:function(){return o()}}):O.default.createElement(M.default,{theme:"default",className:this.ss("more"),label:this.__("more"),onClick:function(){return o()}})),O.default.createElement("div",{key:"status",className:this.ss("statusBar",r)},i)}}]),t}(),_.propTypes={loadMoreStatus:C.default.string,userDefinedLoadMoreStaus:C.default.string,hasMore:C.default.bool,theme:C.default.oneOf(["default","post","flex","livehelp"]),onPage:C.default.func},_.defaultProps={theme:"default"},h=g))||h)||h)||h)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["header.setting.headerHeight"],["header.setting.headerHeight"]),_=s(["notification.status"],["notification.status"]),g=s(["notification.firstLoad"],["notification.firstLoad"]),v=s(["notification.unreadCount"],["notification.unreadCount"]),b=s(["notification.total"],["notification.total"]),y=s(["notification.page"],["notification.page"]),w=s(["notification.pageTotal"],["notification.pageTotal"]),j=s(["notification.results"],["notification.results"]),E=s(["notification.processStatus"],["notification.processStatus"]),k=s(["header.setting.currHeaderTop"],["header.setting.currHeaderTop"]),C=s(["notification.switchStatusToFalse"],["notification.switchStatusToFalse"]),O=s(["notification.getNotifications"],["notification.getNotifications"]),P=s(["notification.makeAllRead"],["notification.makeAllRead"]),S=a(n(2)),N=a(n(1)),M=a(n(12)),T=n(5),x=n(0),I=a(n(3)),R=n(18),D=a(n(17)),A=a(n(24)),U=a(n(272)),L=n(7),z=a(n(4)),W=a(n(275)),H=a(n(6)),B=a(n(276)),q=(l=(0,T.decorator)({headerHeight:(0,x.state)(h),status:(0,x.state)(_),firstLoad:(0,x.state)(g),unreadCount:(0,x.state)(v),total:(0,x.state)(b),page:(0,x.state)(y),pageTotal:(0,x.state)(w),results:(0,x.state)(j),processStatus:(0,x.state)(E),currHeaderTop:(0,x.state)(k),switchStatusToFalse:(0,x.signal)(C),getNotifications:(0,x.signal)(O),makeAllRead:(0,x.signal)(P)}),c=(0,z.default)(W.default),u=(0,H.default)(B.default),l(d=c(d=u((f=p=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.onHandleScroll=function(){a.isScrollToEnd()&&!a.isEnd()&&a.onPage()},i=n,r(a,i)}return i(t,I.default),m(t,[{key:"componentDidMount",value:function(){var e=this;M.default.findDOMNode(this.refs.ntfList).parentNode.addEventListener("scroll",this.onHandleScroll),this.removeClickOutside=(0,R.addClickOutside)([this,"notifications-action"],function(){e.props.switchStatusToFalse()})}},{key:"componentWillUnmount",value:function(){M.default.findDOMNode(this.refs.ntfList).parentNode.removeEventListener("scroll",this.onHandleScroll),this.removeClickOutside()}},{key:"onPage",value:function(){var e=this.props.processStatus;(0,L.isLoading)(e)||this.isEnd()||this.props.getNotifications()}},{key:"isScrollToEnd",value:function(){var e=M.default.findDOMNode(this.refs.ntfList).parentNode,t=e.scrollTop,n=e.scrollHeight;return t+e.clientHeight>=n}},{key:"isEnd",value:function(){var e=this.props;return e.page>=e.pageTotal}},{key:"renderTitle",value:function(){var e=this,t=this.props.unreadCount>0&&N.default.createElement("div",{className:this.ss("count")},this.props.unreadCount);return N.default.createElement("div",{className:this.ss("header")},N.default.createElement("div",{className:this.ss("title")},N.default.createElement("div",{className:this.ss("title-txt")},this.__("title")),t,N.default.createElement("div",{className:this.ss("make-all")},N.default.createElement(A.default,{text:this.__("tooltip_make_all"),position:"bottom-left"},N.default.createElement("div",{className:this.ss("ifont","ifont-icon-mark-all-read","make-all-btn"),onClick:function(){return e.props.makeAllRead()}})))))}},{key:"render",value:function(){var e=this.props,t=e.status,n=e.currHeaderTop,a=e.headerHeight;return N.default.createElement("div",{className:this.ss("notifications-wrap",t&&"open"),style:{top:a+n+"px"}},N.default.createElement("div",{className:this.ss("notifications")},this.renderTitle(),N.default.createElement(D.default,null,N.default.createElement(U.default,{ref:"ntfList"}))))}}]),t}(),p.propTypes={headerHeight:S.default.number,status:S.default.bool,firstLoad:S.default.bool,unreadCount:S.default.number,total:S.default.number,page:S.default.number,pageTotal:S.default.number,results:S.default.array,processStatus:S.default.string,currHeaderTop:S.default.number.isRequired,switchStatusToFalse:S.default.func,getNotifications:S.default.func,makeAllRead:S.default.func},d=f))||d)||d)||d);t.default=q},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["header.login.open"],["header.login.open"]),_=s(["header.login.url"],["header.login.url"]),g=a(n(2)),v=a(n(1)),b=n(5),y=n(0),w=a(n(3)),j=a(n(12)),E=a(n(20)),k=a(n(4)),C=a(n(287)),O=a(n(6)),P=a(n(288)),S=(l=(0,b.decorator)({open:(0,y.state)(h),url:(0,y.state)(_)}),c=(0,k.default)(C.default),u=(0,O.default)(P.default),l(d=c(d=u((f=p=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={loaded:!1},a.onIFrameLoaded=function(){a.setState({loaded:a.props.open})},a.onConfirm=function(){a.props.onConfirm&&a.props.onConfirm()},a.onClose=function(){a.props.onClose&&a.props.onClose()},i=n,r(a,i)}return i(t,w.default),m(t,[{key:"componentDidUpdate",value:function(){if(this.refs.idPage&&!this._iframeResize){var e=n(289);this._iframeResize=e({checkOrigin:!1,log:!0,sizeWidth:!0},j.default.findDOMNode(this.refs.idPage))[0].iFrameResizer}!this.refs.idPage&&this._iframeResize&&(this._iframeResize.close(),this._iframeResize=null)}},{key:"componentWillUnmount",value:function(){this._iframeResize&&(this._iframeResize.close(),this._iframeResize=null)}},{key:"render",value:function(){var e=this.props,t=e.open,a=e.url,o={height:425,width:400},r=v.default.createElement("div",{className:this.ss("loading-wrap")},v.default.createElement("div",{className:this.ss("loading")}));return v.default.createElement(E.default,{open:t,position:"center",onCloseModal:this.onClose},v.default.createElement("div",{className:this.ss("login")},v.default.createElement("div",{className:this.ss("title-wrap")},v.default.createElement("img",{className:this.ss("logo"),role:"presentation",src:n(290)}),v.default.createElement("button",{className:this.ss("button-close"),onClick:this.onClose},v.default.createElement("div",{className:this.ss("close","ifont","ifont-icon-close")}))),v.default.createElement("div",{className:this.ss("content-wrap")},v.default.createElement("iframe",{ref:"idPage",src:a,scrolling:"no",frameBorder:"0",onLoad:this.onIFrameLoaded,style:o}),t&&!this.state.loaded&&r)))}}]),t}(),p.propTypes={open:g.default.bool,url:g.default.string,onConfirm:g.default.func,onClose:g.default.func},d=f))||d)||d)||d);t.default=S},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),p=a(n(2)),f=a(n(1)),m=a(n(12)),h=a(n(3)),_=n(23),g=a(n(4)),v=a(n(293)),b=_.presets.stiff,y=(s=(0,g.default)(v.default))((u=c=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={rightHiddenWidth:"",rightWidth:""},i=n,r(a,i)}return i(t,h.default),d(t,[{key:"componentDidMount",value:function(){var e=this;this._handleResize=function(){return e.onHandleResize()},window.addEventListener("resize",this._handleResize),setTimeout(this._handleResize,0)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._handleResize)}},{key:"onHandleResize",value:function(){var e=m.default.findDOMNode(this.refRightHidden),t=m.default.findDOMNode(this.refRight);if(e&&t){var n=Array.from(e.children).reduce(function(e,t){return e+t.offsetWidth},0),a=Array.from(t.children).reduce(function(e,t){return e+t.offsetWidth},0);this.state.rightHiddenWidth===n&&this.state.rightWidth===a||this.setState({rightHiddenWidth:n,rightWidth:a})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,a=t.rightHidden,o=t.right,r=t.open,i=this.state,s=i.rightHiddenWidth,l=i.rightWidth;if(""===s||""===l)return f.default.createElement("div",{className:this.ss("drawer")},f.default.createElement("div",{className:this.ss("children")},n),f.default.createElement("div",{ref:function(t){e.refRightHidden=t},className:this.ss("right-hidden")},f.default.createElement("div",{ref:"rightHidden",className:this.ss("right-hidden-inner")},a)),f.default.createElement("div",{ref:function(t){e.refRight=t},className:this.ss("right")},o));var c=r?{rightHiddenWidth:(0,_.spring)(Math.max(0,s-l),b),rightHiddenOpacity:(0,_.spring)(1,b),rightWidth:(0,_.spring)(0,b),rightOpacity:(0,_.spring)(0,b)}:{rightHiddenWidth:(0,_.spring)(0,b),rightHiddenOpacity:(0,_.spring)(0,b),rightWidth:(0,_.spring)(l,b),rightOpacity:(0,_.spring)(1,b)};return f.default.createElement(_.Motion,{style:c},function(t){var r=Math.round(t.rightHiddenWidth);r<0?r=0:r>Math.max(0,s-l)&&(r=Math.max(0,s-l));var i=Math.round(t.rightWidth);i<0?i=0:i>l&&(i=l);var c=t.rightHiddenOpacity,u=t.rightOpacity,d={visibility:0===c?"hidden":"visible",width:(r>0?r:1e-4)+"px",opacity:c},p={visibility:0===u?"hidden":"visible",marginLeft:l-i+"px",width:(i>0?i:1e-4)+"px",opacity:u};return f.default.createElement("div",{className:e.ss("drawer")},f.default.createElement("div",{className:e.ss("children")},n),f.default.createElement("div",{ref:function(t){e.refRightHidden=t},className:e.ss("right-hidden"),style:d},f.default.createElement("div",{ref:"rightHidden",className:e.ss("right-hidden-inner")},a)),f.default.createElement("div",{ref:function(t){e.refRight=t},className:e.ss("right"),style:p},o))})}}]),t}(),c.propTypes={rightHidden:p.default.node,right:p.default.node.isRequired,children:p.default.node,open:p.default.bool},l=u))||l;t.default=y},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["header.postProject.open"],["header.postProject.open"]),_=s(["header.postProject.isSelectGameMode"],["header.postProject.isSelectGameMode"]),g=s(["header.postProject.noAnimation"],["header.postProject.noAnimation"]),v=s(["header.createProjectByTypeInternal"],["header.createProjectByTypeInternal"]),b=s(["header.closeCreateDialog"],["header.closeCreateDialog"]),y=s(["header.toggleSelectGame"],["header.toggleSelectGame"]),w=a(n(2)),j=a(n(1)),E=a(n(3)),k=n(5),C=n(0),O=a(n(20)),P=a(n(4)),S=a(n(316)),N=a(n(6)),M=a(n(317)),T=(l=(0,k.decorator)({open:(0,C.state)(h),isSelectGameMode:(0,C.state)(_),noAnimation:(0,C.state)(g),createProjectByType:(0,C.signal)(v),closeCreateDialog:(0,C.signal)(b),toggleSelectGame:(0,C.signal)(y)}),c=(0,P.default)(S.default),u=(0,N.default)(M.default),l(d=c(d=u((f=p=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={},a.createProject=function(e){"game"===e?a.props.toggleSelectGame():a.props.createProjectByType({type:e})},i=n,r(a,i)}return i(t,E.default),m(t,[{key:"renderPostCard",value:function(e){var t=this,n=e.type,a=e.iconName;return j.default.createElement("button",{key:"card-"+n,className:this.ss("card",n),onClick:function(){return t.createProject(n)}},j.default.createElement("div",{className:this.ss(n,"card-icon","ifont","ifont-"+a)}),j.default.createElement("div",{className:this.ss("card-title")},this.__(n+"_title")),j.default.createElement("div",{className:this.ss("card-description")},this.__(n+"_description")))}},{key:"renderDescription",value:function(){var e=this;return this.props.isSelectGameMode?j.default.createElement("div",{className:this.ss("description-top")},this.__("description_game_select"),j.default.createElement("a",{onClick:function(){return e.props.toggleSelectGame()}},this.__("return_to_main")),"."):j.default.createElement("div",{className:this.ss("description-top")},this.__("description_top"))}},{key:"renderProjectSelect",value:function(){var e=this,t=[{type:"article",iconName:"icons-article"},{type:"game",iconName:"icons-game"},{type:"showcase",iconName:"icons-showcase"}];return j.default.createElement("div",{className:this.ss("type-cards")},t.map(function(t){return e.renderPostCard(t)}))}},{key:"renderGameItem",value:function(e){var t=this,n=e.type,a=e.iconName;return j.default.createElement("div",{key:n,className:this.ss("card")},j.default.createElement("div",{className:this.ss("icon",n,"ifont","ifont-"+a)}),j.default.createElement("div",{className:this.ss("card-title")},this.__("select_"+n+"_title")),j.default.createElement("div",{className:this.ss("card-description")},this.__("select_"+n+"_description")),j.default.createElement("a",{className:this.ss("card-button"),onClick:function(){return t.props.createProjectByType({type:n})}},this.__("select_"+n+"_post")))}},{key:"renderGameSelect",value:function(){var e=this,t=[{type:"webgl",iconName:"icons-open-in-browser"},{type:"game",iconName:"icons-showcase"}];return j.default.createElement("div",{className:this.ss("webgl-cards")},t.map(function(t){return e.renderGameItem(t)}))}},{key:"render",value:function(){var e=this.props,t=e.open,n=e.noAnimation,a=e.isSelectGameMode,o=e.closeCreateDialog,r=a?"title_game_select":"title";return j.default.createElement(O.default,{open:t,noAnimation:n,position:"center",onCloseModal:function(){return o()}},j.default.createElement("div",{className:this.ss("content-wrap")},j.default.createElement("div",{className:this.ss("content")},j.default.createElement("div",{className:this.ss("title")},this.__(r)),this.renderDescription(),a?this.renderGameSelect():this.renderProjectSelect()),j.default.createElement("div",{className:this.ss("notice")},j.default.createElement("div",{className:this.ss("notice-info")},j.default.createElement("div",{className:this.ss("notice-title")},this.__("notice_title")),j.default.createElement("div",{className:this.ss("notice-description")},this.__("notice_description"))),j.default.createElement("div",{className:this.ss("notice-button")},j.default.createElement("button",{className:this.ss("button"),onClick:function(){return o()}},this.__("button_ok"))))))}}]),t}(),p.propTypes={open:w.default.bool,noAnimation:w.default.bool,isSelectGameMode:w.default.bool,createProjectByType:w.default.func,closeCreateDialog:w.default.func,toggleSelectGame:w.default.func},d=f))||d)||d)||d);t.default=T},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),p=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["header.weixinConfig"],["header.weixinConfig"]),f=a(n(2)),m=a(n(1)),h=a(n(3)),_=n(5),g=n(0),v=(s=(0,_.decorator)({weixinConfig:(0,g.signal)(p)}))((u=c=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={},i=n,r(a,i)}return i(t,h.default),d(t,[{key:"componentDidMount",value:function(){this.props.weixinConfig&&this.props.weixinConfig()}},{key:"render",value:function(){return m.default.createElement("noscript",null)}}]),t}(),c.propTypes={weixinConfig:f.default.func},l=u))||l;t.default=v},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["currentPath"],["currentPath"]),_=s(["header.sendCDPRequest"],["header.sendCDPRequest"]),g=a(n(2)),v=a(n(1)),b=a(n(3)),y=n(5),w=n(0),j=n(49),E=a(n(4)),k=a(n(331)),C=a(n(6)),O=a(n(332)),P=(l=(0,y.decorator)({currentPath:(0,w.state)(h),sendCDPRequest:(0,w.signal)(_)}),c=(0,E.default)(k.default),u=(0,C.default)(O.default),l(d=c(d=u((f=p=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,b.default),m(t,[{key:"onMenuClick",value:function(e,t){var n={menuType:"jobs",subtype:e};j.amplitudeEvents.headerDiscoverClick(),this.props.sendCDPRequest({type:"menu",data:n,redirectUrl:t})}},{key:"render",value:function(){var e=this,t=this.props,n=t.currentPath,a=t.title,o=t.font,r="/discover"===n,i="menu_text";a&&(i=a);var s={};return o&&(s={fontSize:o}),v.default.createElement("div",{className:this.ss("first-menu")},v.default.createElement("div",{className:this.ss("icon-wrapper",r&&"active"),style:s,onClick:function(){return e.onMenuClick("discovery","/discover")}},this.__(i),!1))}}]),t}(),p.propTypes={currentPath:g.default.string,title:g.default.string,font:g.default.number,sendCDPRequest:g.default.func},d=f))||d)||d)||d);t.default=P},function(e,t){e.exports={region_01:"region_01_2r-0",region_02:"region_02_u92M",region_03:"region_03_1VFE",region_04:"region_04_3raK",region_05:"region_05_2LbU",region_06:"region_06_2PwW",region_07:"region_07_1gbD",region_08:"region_08_1IDR",region_09:"region_09_2v3S"}},function(e,t){e.exports={publish_time:"publish_time_1jN3",article:"article_GfHm",game:"game_2Pw7",showcase:"showcase_LI-P",view_hint:"view_hint_3DMU",like_hint:"like_hint_34Ph",comment_hint:"comment_hint_fFHJ",repost_hint:"repost_hint_31Ll",report:"report_32uG",untitled_content:"untitled_content_AIhP",untitled:"untitled_2r_C",view_challenge:"view_challenge_3Hg7",private:"private_3It4",group_owner:"group_owner_3vyN",group_admin:"group_admin_1D-W",time_text_now:"time_text_now_33Jh",time_text_min:"time_text_min_uH-a",time_text_mnins:"time_text_mnins_3MsF",time_text_hour:"time_text_hour_nBax",time_text_hours:"time_text_hours_2hGD",time_text_yestarday:"time_text_yestarday_2o8q"}},,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function l(){return(Re.default.WEBGL_PLAYER_BASE_URL||"").replace("/webgl","")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,u,d,p,f,m,h=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),_=s(["project"],["project"]),g=s(["currentPath"],["currentPath"]),v=s(["currentHost"],["currentHost"]),b=s(["currentUserId"],["currentUserId"]),y=s(["project.like"],["project.like"]),w=s(["project.share.show"],["project.share.show"]),j=s(["project.cover.show"],["project.cover.show"]),E=s(["project.contentMap"],["project.contentMap"]),k=s(["project.globalChallenge"],["project.globalChallenge"]),C=s(["project.bannerCopy"],["project.bannerCopy"]),O=s(["project.challenge"],["project.challenge"]),P=s(["project.showChallenge"],["project.showChallenge"]),S=s(["project.edit"],["project.edit"]),N=s(["project.recommend"],["project.recommend"]),M=s(["project.comments"],["project.comments"]),T=s(["project.loadMoreStatus"],["project.loadMoreStatus"]),x=s(["project.uploads"],["project.uploads"]),I=s(["project.showWebglToolBar"],["project.showWebglToolBar"]),R=s(["project.uploadId"],["project.uploadId"]),D=s(["pageType"],["pageType"]),A=s(["loginUser.isAdmin"],["loginUser.isAdmin"]),U=s(["loginUser.id"],["loginUser.id"]),L=s(["webgl"],["webgl"]),z=s(["project.setMute"],["project.setMute"]),W=s(["project.setProjectState"],["project.setProjectState"]),H=s(["project.setUploadingPreview"],["project.setUploadingPreview"]),B=s(["project.setRemoveWebgl"],["project.setRemoveWebgl"]),q=s(["project.setShowStopRecord"],["project.setShowStopRecord"]),F=s(["project.setUploadId"],["project.setUploadId"]),K=s(["project.setHideRecord"],["project.setHideRecord"]),G=s(["project.setTime"],["project.setTime"]),V=s(["project.setShowWebglToolBar"],["project.setShowWebglToolBar"]),J=s(["project.setEnableMobile"],["project.setEnableMobile"]),Y=s(["project.webglLoadMore"],["project.webglLoadMore"]),Q=s(["project.toggleLike"],["project.toggleLike"]),X=s(["header.copyLink"],["header.copyLink"]),Z=s(["project.onLogPlaySuccess"],["project.onLogPlaySuccess"]),$=s(["project.openSubmitWebglDialog"],["project.openSubmitWebglDialog"]),ee=s(["project.openScreenshotDialog"],["project.openScreenshotDialog"]),te=s(["project.initWebgl"],["project.initWebgl"]),ne=s(["header.sendCDPRequest"],["header.sendCDPRequest"]),ae=s(["project.hideCover"],["project.hideCover"]),oe=s(["project.openShare"],["project.openShare"]),re=s(["project.closeShare"],["project.closeShare"]),ie=s(["report.open"],["report.open"]),se=s(["project.hideChallenge"],["project.hideChallenge"]),le=s(["project.uploadAttachment"],["project.uploadAttachment"]),ce=s(["project.retryUploadAttachment"],["project.retryUploadAttachment"]),ue=s(["project.continueUploadAttachmentMultipart"],["project.continueUploadAttachmentMultipart"]);t.getWebglOrigin=l;var de=a(n(2)),pe=a(n(1)),fe=n(5),me=n(0),he=a(n(3)),_e=a(n(360)),ge=a(n(371)),ve=a(n(383)),be=a(n(387)),ye=a(n(391)),we=a(n(400)),je=a(n(403)),Ee=a(n(406)),ke=n(187),Ce=a(n(85)),Oe=a(n(409)),Pe=a(n(500)),Se=a(n(19)),Ne=a(n(411)),Me=a(n(414)),Te=n(7),xe=a(Te),Ie=a(n(417)),Re=a(n(14)),De=n(143),Ae=n(176),Ue=a(n(76)),Le=a(n(4)),ze=a(n(428)),We=a(n(6)),He=a(n(429)),Be=n(49),qe=a(n(430)),Fe=15,Ke=!1,Ge=(c=(0,fe.decorator)({project:(0,me.state)(_),currentPath:(0,me.state)(g),currentHost:(0,me.state)(v),currentUserId:(0,me.state)(b),like:(0,me.state)(y),showShare:(0,me.state)(w),showCover:(0,me.state)(j),contentMap:(0,me.state)(E),globalChallenge:(0,me.state)(k),bannerCopy:(0,me.state)(C),challenge:(0,me.state)(O),showChallenge:(0,me.state)(P),edit:(0,me.state)(S),recommend:(0,me.state)(N),comments:(0,me.state)(M),loadMoreStatus:(0,me.state)(T),uploads:(0,me.state)(x),showWebglToolBar:(0,me.state)(I),uploadId:(0,me.state)(R),pageType:(0,me.state)(D),isAdmin:(0,me.state)(A),loginUserId:(0,me.state)(U),webgl:(0,me.state)(L),setMute:(0,me.signal)(z),setProjectState:(0,me.signal)(W),setUploadingPreview:(0,me.signal)(H),setRemoveWebgl:(0,me.signal)(B),setShowStopRecord:(0,me.signal)(q),setUploadId:(0,me.signal)(F),setHideRecord:(0,me.signal)(K),setTime:(0,me.signal)(G),setShowWebglToolBar:(0,me.signal)(V),setEnableMobile:(0,me.signal)(J),loadMore:(0,me.signal)(Y),toggleLike:(0,me.signal)(Q),copyLink:(0,me.signal)(X),onLogPlaySuccess:(0,me.signal)(Z),openSubmitWebglDialog:(0,me.signal)($),openScreenshotDialog:(0,me.signal)(ee),initWebgl:(0,me.signal)(te),sendCDPRequest:(0,me.signal)(ne),hideCover:(0,me.signal)(ae),openShare:(0,me.signal)(oe),closeShare:(0,me.signal)(re),reportOpen:(0,me.signal)(ie),hideChallenge:(0,me.signal)(se),uploadAttachment:(0,me.signal)(le),retryUploadAttachment:(0,me.signal)(ce),continueUploadAttachmentMultipart:(0,me.signal)(ue)}),u=(0,Le.default)(ze.default),d=(0,We.default)(He.default),c(p=u(p=d((m=f=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={reportPopup:!1},a.setAmplitudeUserPropertiesOnce=(0,Pe.default)(Be.setUserProperties),a.handleKeyPress=function(e){var t=e.keyCode,n=l();18===t&&document.getElementById("webgl_iframe").contentWindow.postMessage({action:"screenshot"},n)},a.receiveMessage=function(e){var t=a.props,n=t.onLogPlaySuccess,o=t.openScreenshotDialog,r=t.sendCDPRequest,i=t.uploadAttachment,s=t.project.projectData,c=s.id,u=s.title,d=t.openShare,p=t.reportOpen,f=t.toggleLike,m=t.hideCover,h=t.setShowWebglToolBar,_=t.setEnableMobile,g=t.setTime,v=t.setHideRecord,b=t.setUploadingPreview,y=t.setShowStopRecord,w=t.setMute,j=t.setRemoveWebgl,E=t.setUploadId,k=t.setProjectState,C=l(),O=e.origin,P=e.data;if(O===C&&P)if("increasePlayCount"===P.action)h({value:!0}),n();else if("screenshot"===P.action){if(P.dataUrl){o({value:P.dataUrl,projectId:""});var S="Button";P.byHotkey&&(S="Alt/Option"),r({type:De.CDPConnectTypes.CDPTypeWebglScreenshots,eventType:Ae.EventType.connect,data:{type:S,projectId:c}})}}else if("share"===P.action)P.device&&navigator.share?navigator.share({text:a.__("share_body",{title:u}),url:window.location.href}):d();else if("report"===P.action)p({itemId:c,itemType:"project",reportTitle:"webgl"});else if("like"===P.action)f();else if("webglmount"===P.action)m(),_({value:P.enableMobile});else if("reportClick"===P.action)a.setState({reportPopup:!0});else if("uploadPreview"===P.action){var N=Date.now()+"_"+Math.random().toString().slice(2,6),M=document.getElementById("webgl_iframe").contentWindow,T=a.dataURLtoBlob(P.dataUrl),x={id:N,file:new File([T],"previewVideo.webm",{type:"video/webm"}),uploadType:"preview"};M.postMessage({action:"start upload"},C),E({value:N}),window.onbeforeunload=function(){return"You are uploading the preview record"},i({upload:x}),a.trackUploading()}else if("reset"===P.action)j({value:!0}),h({value:!1}),g({value:Fe}),y({value:!1}),setTimeout(function(){j({value:!1})},300);else if("timer"===P.action)g({value:P.time});else if("uploadingPreview"===P.action)b({value:P.value});else if("hideRecord"===P.action)v({value:P.value});else if("showStopRecord"===P.action)y({value:P.value});else if("mute"===P.action)w({value:P.value});else if("retry"===P.action){var I=a.props,R=I.uploads,D=I.retryUploadAttachment,A=R[I.uploadId];window.onbeforeunload=function(){return"You are uploading the preview record"},D(A),a.trackUploading()}else"processing"===P.action?k({key:"processing",value:P.value}):"showPauseBackGround"===P.action?Ke&&k({key:"pauseBackGround",value:!0}):"pauseState"===P.action?k({key:"pauseState",value:P.value}):"fileSelect"===P.action&&document.getElementById("thumbnailSelect").click()},i=n,r(a,i)}return i(t,he.default),h(t,[{key:"componentDidMount",value:function(){window.addEventListener("message",this.receiveMessage),window.addEventListener("keydown",this.handleKeyPress),this.props.initWebgl(),(0,Be.isAmplitudeInitialized)()&&(this.props.loginUserId&&this.setAmplitudeUserPropertiesOnce({id:this.props.loginUserId,role:this.props.isAdmin?Be.USER_ROLES.ADMIN:Be.USER_ROLES.CUSTOMER}),Be.amplitudeEvents.webglDetailPageView({id:this.props.project.projectData.id,title:this.props.project.projectData.title,type:this.getProjectType()}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.receiveMessage),window.removeEventListener("keydown",this.handleKeyPress)}},{key:"onShareLinkCopy",value:function(e){(0,this.props.copyLink)({content:e})}},{key:"onScrollEnd",value:function(){var e=this.props,t=e.comments,n=e.loadMore,a=e.loadMoreStatus,o=(t||{}).hasMore;!(0,Te.isLoading)(a)&&o&&n({loading:!0})}},{key:"onChallengeBannerNotNowClick",value:function(){this.props.hideChallenge(),Be.amplitudeEvents.webglDetailChallengeBannerNotNow({id:this.props.project.projectData.id,title:this.props.project.projectData.title,type:this.getProjectType()})}},{key:"onChallengeBannerJoinClick",value:function(){this.props.openSubmitWebglDialog(),Be.amplitudeEvents.webglDetailChallengeBannerJoin({id:this.props.project.projectData.id,title:this.props.project.projectData.title,type:this.getProjectType()})}},{key:"onRecommendedItemClick",value:function(e){Be.amplitudeEvents.webglDetailRecommendedItemClick({id:e.id,title:e.title})}},{key:"onMadeWithUnityClick",value:function(){Be.amplitudeEvents.webglDetailMadeWithUnityClick()}},{key:"onAuthorClick",value:function(){Be.amplitudeEvents.webglDetailAuthorClick()}},{key:"onMadeWithMicrogameClick",value:function(e){Be.amplitudeEvents.webglDetailMadeWithMicrogameClick({type:this.getProjectType(e)})}},{key:"onCommentCreated",value:function(){Be.amplitudeEvents.webglDetailCommentCreated()}},{key:"onCommentLikeClick",value:function(){Be.amplitudeEvents.webglDetailCommentLikeClick()}},{key:"onCommentReplyClick",value:function(){Be.amplitudeEvents.webglDetailCommentReplyClick()}},{key:"onReplyCommentCreated",value:function(){Be.amplitudeEvents.webglDetailReplyCommentCreated()}},{key:"onWebglEditClick",value:function(){Be.amplitudeEvents.webglDetailEditClick()}},{key:"onWebglReportClick",value:function(){Be.amplitudeEvents.webglDetailReportClick()}},{key:"onWebglDeleteClick",value:function(){Be.amplitudeEvents.webglDetailDeleteClick()}},{key:"onWebglLikeClick",value:function(){Be.amplitudeEvents.webglDetailLikeClick()}},{key:"onShareEmbedClick",value:function(){Be.amplitudeEvents.webglDetailShareEmbedClick()}},{key:"onShareMailClick",value:function(){Be.amplitudeEvents.webglDetailShareMailClick()}},{key:"onShareMessengerClick",value:function(){Be.amplitudeEvents.webglDetailShareMessengerClick()}},{key:"onShareTwitterClick",value:function(){Be.amplitudeEvents.webglDetailShareTwitterClick()}},{key:"onShareFacebookClick",value:function(){Be.amplitudeEvents.webglDetailShareFacebookClick()}},{key:"onShareRedditClick",value:function(){Be.amplitudeEvents.webglDetailShareRedditClick()}},{key:"onShareCopyClick",value:function(){Be.amplitudeEvents.webglDetailShareCopyClick()}},{key:"onWebglFullscreenClick",value:function(){Be.amplitudeEvents.webglDetailFullscreenClick()}},{key:"onWebglUnmuteClick",value:function(){Be.amplitudeEvents.webglDetailUnmuteClick()}},{key:"onWebglScreenshotCommentClick",value:function(){Be.amplitudeEvents.webglDetailScreenshotCommentClick()}},{key:"onWebglRecordClick",value:function(){Be.amplitudeEvents.webglDetailRecordClick()}},{key:"onWebglPauseRecordingClick",value:function(){Be.amplitudeEvents.webglDetailPauseRecordingClick()}},{key:"onWebglStopRecordingClick",value:function(){Be.amplitudeEvents.webglDetailStopRecordingClick()}},{key:"getProjectType",value:function(e){var t="";switch(e||this.props.project.webglPKG.mgType){case"mg_platformer":t="2d";break;case"mg_fps":t="fps";break;case"mg_karting":t="karting";break;case"mg_lego":t="lego";break;default:t="other"}return t}},{key:"trackUploading",value:function(){var e=this.props,t=e.uploads,n=e.uploadId,a=l(),o=setInterval(function(){var e=t[n],r=e.loaded,i=void 0===r?0:r,s=e.total,l=void 0===s?1:s,c=e.status,u=e.contentId,d=document.getElementById("webgl_iframe").contentWindow;c===xe.default.succeeded||c===xe.default.failed?(window.onbeforeunload=function(){},d.postMessage({action:"uploadReport",data:c,contentId:u},a),clearInterval(o)):d.postMessage({action:"uploadProgress",data:100*i/l},a)},500)}},{key:"dataURLtoBlob",value:function(e){for(var t=e.split(","),n=t[0].match(/:(.*?);/)[1],a=atob(t[1]),o=a.length,r=new Uint8Array(o);o--;)r[o]=a.charCodeAt(o);return new Blob([r],{type:n})}},{key:"reportPopup",value:function(){var e=l();document.getElementById("webgl_iframe").contentWindow.postMessage({action:"clickReport"},e),this.setState({reportPopup:!1})}},{key:"renderSubmitWebglButton",value:function(e){var t=this,n=this.props.project.projectData.challengeId,a=e.slug;return n?pe.default.createElement("div",{className:this.ss("button-wrapper")},pe.default.createElement("button",{onClick:function(){return(0,Se.default)("/challenges/"+a)}},this.__("check_status"))):pe.default.createElement("div",{className:this.ss("button-wrapper")},pe.default.createElement("button",{onClick:function(){return t.onChallengeBannerJoinClick()}},this.__("submit_game")))}},{key:"renderChallenge",value:function(){var e=this,t=this.props,n=t.globalChallenge,a=t.bannerCopy,o=t.challenge,r=t.project.projectData.challengeId,i=t.edit;if(!t.showChallenge||!i||!o&&!n)return null;var s=o||n,l=s.id,c=s.title,u=this.__("tips",{title:c});return a&&(u=a),r===l&&(u=this.__("tips_success")),pe.default.createElement("div",{className:this.ss("challenge-wrapper")},pe.default.createElement("div",{className:this.ss("challenge","main-content")},pe.default.createElement("div",{className:this.ss("info")},pe.default.createElement("div",{className:this.ss("tips")},u)),pe.default.createElement("button",{className:this.ss("not-now"),onClick:function(){return e.onChallengeBannerNotNowClick()}},this.__("not_now")),this.renderSubmitWebglButton(s)))}},{key:"renderShare",value:function(){var e=this,t=this.props,n=t.currentHost,a=t.currentPath,o=t.showShare,r="https://"+n+a;return pe.default.createElement("div",{className:this.ss("share","main-content")},pe.default.createElement("div",{className:this.ss("testssss")},o),pe.default.createElement("div",{className:this.ss("left")},pe.default.createElement("div",{className:this.ss("share-title")},this.__("share_game_link")),pe.default.createElement("div",{className:this.ss("share-content")},r,pe.default.createElement("a",{className:this.ss("copy"),onClick:function(){return e.onShareLinkCopy(r)}},this.__("copy")))),pe.default.createElement("div",{className:this.ss("share-tips")},pe.default.createElement("div",{className:this.ss("icon-mac","ifont","ifont-icons-desktop-mac")}),this.__("share_tips")))}},{key:"renderStatistics",value:function(e){var t=this.props,n=t.currentUserId,a=t.toggleLike,o=this.props.project,r=o.projectData,i=o.like,s=r||{},l=s.viewCount,c=s.likeCount,u=s.commentCount,d=s.playCount,p=s.userId,f=!i&&n!==p;return pe.default.createElement("div",{className:this.ss(e&&"statistics-mobile","statistics")},pe.default.createElement("div",{className:this.ss("item","like",i&&"active",!f&&"disable")},pe.default.createElement("div",{className:this.ss("icon","ifont","ifont-icons-thumb-up"),onClick:function(){return a()}}),pe.default.createElement("div",{className:this.ss("text")},this.__("likes_hint",{count:c}))),pe.default.createElement("div",{className:this.ss("item")},pe.default.createElement("div",{className:this.ss("icon","ifont","ifont-icons-comments")}),pe.default.createElement("div",{className:this.ss("text")},this.__("comments_hint",{count:u}))),pe.default.createElement("div",{className:this.ss("item")},pe.default.createElement("div",{className:this.ss("icon","ifont","ifont-icons-visibility")}),pe.default.createElement("div",{className:this.ss("text")},this.__("views_hint",{count:l}))),pe.default.createElement("div",{className:this.ss("item")},pe.default.createElement("div",{className:this.ss("icon","ifont","ifont-icons-gamepad")}),pe.default.createElement("div",{className:this.ss("text")},this.__("play_hint",{count:d}))))}},{key:"renderExpired",value:function(){return pe.default.createElement("div",{className:this.ss("content")},pe.default.createElement("div",{className:this.ss("expired-content")},this.__("project_expired")))}},{key:"renderRecommends",value:function(){var e=this,t=this.props.recommend||{},n=t.items,a=t.userMap,o=t.teamMap;if(!n)return null;var r=n.map(function(t){return pe.default.createElement(ve.default,{onClick:function(){return e.onRecommendedItemClick(t)},key:t.id,project:t,userMap:a,teamMap:o})});return pe.default.createElement("div",{className:this.ss("recommend-list")},r)}},{key:"renderContent",value:function(){var e=this,t=this.props,n=t.showCover,a=t.pageType,o=this.state.reportPopup,r="detail"===a,i=null;return r&&(i=pe.default.createElement("div",null,pe.default.createElement("div",{className:this.ss("divider")}),pe.default.createElement("div",{className:this.ss("comments-recommends")},pe.default.createElement("div",{className:this.ss("comment-list")},pe.default.createElement(be.default,{onCommentCreated:function(){return e.onCommentCreated()},onCommentLikeClick:function(){return e.onCommentLikeClick()},onReplyCommentCreated:function(){return e.onReplyCommentCreated()},onCommentReplyClick:function(){return e.onCommentReplyClick()}})),this.renderRecommends()))),pe.default.createElement("div",{className:this.ss("content")},pe.default.createElement("div",{className:this.ss("cover",(!r||n)&&"hide")}),this.renderChallenge(),pe.default.createElement("div",{className:this.ss("background")},pe.default.createElement("div",{className:this.ss("black-background")})),pe.default.createElement("div",{className:this.ss("click-region",o&&"display"),onClick:function(){return e.reportPopup()}}),pe.default.createElement("div",{className:this.ss("main","main-content")},pe.default.createElement(ge.default,{onMadeWithUnityClick:function(){return e.onMadeWithUnityClick()},onAuthorClick:function(){return e.onAuthorClick()},onWebglEditClick:function(){return e.onWebglEditClick()},onWebglReportClick:function(){return e.onWebglReportClick()},onWebglDeleteClick:function(){return e.onWebglDeleteClick()},onWebglLikeClick:function(){return e.onWebglLikeClick()},onWebglFullscreenClick:function(){return e.onWebglFullscreenClick()},onWebglUnmuteClick:function(){return e.onWebglUnmuteClick()},onWebglScreenshotCommentClick:function(){return e.onWebglScreenshotCommentClick()},onWebglRecordClick:function(){return e.onWebglRecordClick()},onWebglPauseRecordingClick:function(){return e.onWebglPauseRecordingClick()},onWebglStopRecordingClick:function(){return e.onWebglStopRecordingClick()},onMadeWithMicrogameClick:function(t){return e.onMadeWithMicrogameClick(t)}}),pe.default.createElement(Me.default,null),i))}},{key:"render",value:function(){var e=this;return pe.default.createElement(_e.default,{onScrollEnd:function(){return e.onScrollEnd()}},pe.default.createElement(ke.DeleteProjectBySelfConfirm,null),pe.default.createElement(Ue.default,null),pe.default.createElement(qe.default,null),pe.default.createElement(ye.default,{onEmbedClick:function(){return e.onShareEmbedClick()},onMailClick:function(){return e.onShareMailClick()},onMessengerClick:function(){return e.onShareMessengerClick()},onTwitterClick:function(){return e.onShareTwitterClick()},onFacebookClick:function(){return e.onShareFacebookClick()},onRedditClick:function(){return e.onShareRedditClick()},onCopyClick:function(){return e.onShareCopyClick()}}),pe.default.createElement(Ne.default,null),this.renderContent(),pe.default.createElement(ke.DeleteSubmissionBySelfConfirm,null),pe.default.createElement(we.default,null),pe.default.createElement(je.default,null),pe.default.createElement(Ee.default,null),pe.default.createElement(Ie.default,null),pe.default.createElement(Ce.default,{theme:"fixed"}),pe.default.createElement(Oe.default,null))}}]),t}(),f.propTypes={project:de.default.object,currentPath:de.default.string,currentHost:de.default.string,currentUserId:de.default.string,like:de.default.bool,showCover:de.default.bool,showShare:de.default.bool,contentMap:de.default.object,globalChallenge:de.default.object,bannerCopy:de.default.string,challenge:de.default.object,showChallenge:de.default.bool,edit:de.default.bool,recommend:de.default.object,comments:de.default.object,loadMoreStatus:de.default.string,uploads:de.default.object,showWebglToolBar:de.default.bool,uploadId:de.default.string,pageType:de.default.string,isAdmin:de.default.bool,loginUserId:de.default.string,webgl:de.default.object,setProjectState:de.default.func,setMute:de.default.func,setShowStopRecord:de.default.func,setRemoveWebgl:de.default.func,setUploadId:de.default.func,setUploadingPreview:de.default.func,setHideRecord:de.default.func,setTime:de.default.func,setShowWebglToolBar:de.default.func,setEnableMobile:de.default.func,loadMore:de.default.func,toggleLike:de.default.func,copyLink:de.default.func,onLogPlaySuccess:de.default.func,openSubmitWebglDialog:de.default.func,openScreenshotDialog:de.default.func,initWebgl:de.default.func,sendCDPRequest:de.default.func,hideCover:de.default.func,openShare:de.default.func,closeShare:de.default.func,reportOpen:de.default.func,hideChallenge:de.default.func,uploadAttachment:de.default.func,retryUploadAttachment:de.default.func,continueUploadAttachmentMultipart:de.default.func},p=m))||p)||p)||p);t.default=Ge},function(e,t,n){e.exports=n.p+"../styles/i/emojis/unhappy.f70dd13b4dd80f680a97165ecfbda5f3.png"},function(e,t,n){e.exports=n.p+"../styles/i/emojis/nerd.97ed24c71e81974914bf411d5c3cf19a.png"},function(e,t,n){e.exports=n.p+"../styles/i/emojis/laugh.c3de3ed8d90cc9eaebd74b5f77c7be28.png"},function(e,t,n){e.exports=n.p+"../styles/i/emojis/love.f2fbc1e2fec18d4702245796cc59f7e0.png"},function(e,t,n){e.exports=n.p+"../styles/i/emojis/grinning.cfdeb202b2c134dc529610792a54b365.png"},,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),p=a(n(2)),f=a(n(1)),m=a(n(3)),h=n(23),_=a(n(43)),g=n(26),v=n(11),b=a(n(4)),y=a(n(234)),w=h.presets.noWobble,j=(s=(0,b.default)(y.default))((u=c=function(e){function t(e,n){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),i=0;if(a.context.cookies.scrollerHeight)i=parseInt(a.context.cookies.scrollerHeight,10);else if(a.context.platform){var s=a.context.platform,l=s.name,c=s.os;c&&c.family&&c.family.indexOf("Windows")>-1?i="Microsoft Edge"===l?12:17:c&&c.family&&c.family.indexOf("Ubuntu")>-1&&("Firefox"===l?i=15:"Chrome"===l&&(i=13))}return a.state={scrollerHeight:i,scrollTo:null},a.dimension={scrollLeft:0,scrollWidth:0,offsetWidth:0},a.currentStepId=0,a}return i(t,m.default),d(t,[{key:"componentDidMount",value:function(){var e=this;this._handleResize=function(){return e.handleResize()},window.addEventListener("resize",this._handleResize),this._handleMouseMove=function(t){return e.handleMouseMove(t)},this._handleMouseUp=function(t){return e.handleMouseUp(t)},window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp),this.setScrollerHeight(),setTimeout(function(){return e.setScrollerState()},0)}},{key:"componentDidUpdate",value:function(){var e=this,t=this.dimension,n=t.scrollLeft,a=t.scrollWidth,o=t.offsetWidth;0===n&&a===o&&setTimeout(function(){return e.setScrollerState()},0)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._handleResize),window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp),this.setScrollerHeightTimeout&&(clearTimeout(this.setScrollerHeightTimeout),this.setScrollerHeightTimeout=null)}},{key:"getScrollerNode",value:function(){return this.refs.scroller||{}}},{key:"getScrollbarOffset",value:function(){var e=this.dimension,t=e.scrollLeft,n=e.offsetWidth,a=e.scrollWidth;if(0===a||a<=n)return 0;if((0,g.isDevice)())return 0;var o=t/(a-n);return(n-this.getScrollbarWidth())*o}},{key:"getScrollbarWidth",value:function(){var e=this.dimension,t=e.offsetWidth,n=e.scrollWidth;return 0===n||n<=t?0:(0,g.isDevice)()?0:Math.max(14,t/n*t)}},{key:"setScrollerHeight",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.setScrollerHeightTimeout&&(clearTimeout(this.setScrollerHeightTimeout),this.setScrollerHeightTimeout=null),this.setScrollerHeightTimeout=setTimeout(function(){var t=n(235)();e.state.scrollerHeight!==t&&(e.setState({scrollerHeight:t}),_.default.set("scrollerHeight",t,{expires:7})),e.setScrollerHeight(15e3)},t)}},{key:"setScrollerState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getScrollerNode();if(t){var n=this.dimension,a=n.scrollLeft,o=n.scrollWidth,r=n.offsetWidth;e&&this.props.onScrollEnd&&!this.scrollToEnd(this.dimension)&&this.scrollToEnd(t)&&this.props.onScrollEnd();var i={isScroll:e,scrollLeft:t.scrollLeft,scrollWidth:t.scrollWidth,offsetWidth:t.offsetWidth};a!==t.scrollLeft||o!==t.scrollWidth||r!==t.offsetWidth?(this.dimension={scrollLeft:t.scrollLeft,scrollWidth:t.scrollWidth,offsetWidth:t.offsetWidth},(0,g.isDevice)()||this.forceUpdate(),this.props.onUpdate&&this.props.onUpdate(i)):e&&this.props.onUpdate&&this.props.onUpdate(i)}}},{key:"handleOnScroll",value:function(){this.setScrollerState(!0),this.props.onScroll&&this.props.onScroll(this.getScrollerNode())}},{key:"handleResize",value:function(){this.setScrollerState()}},{key:"handleMouseDown",value:function(e){var t=this;e.preventDefault();var n=e.pageX,a=e.target,o=["scroller","scrollbar"].filter(function(e){return(0,v.isParent)(t.refs[e],a)})[0];this.setState({isPressed:!0,initialScrollLeft:this.dimension.scrollLeft,initialPageX:n,clickAt:o})}},{key:"handleMouseMove",value:function(e){var t=e.pageX,n=this.state,a=n.isPressed,o=n.initialScrollLeft,r=n.initialPageX,i=n.clickAt,s=this.dimension,l=s.offsetWidth,c=s.scrollWidth;if(a){var u=t-r;if("scrollbar"===i){var d=(c-l)/(l-this.getScrollbarWidth());this.scrollTo(u*d+o)}"scroller"===i&&this.scrollTo(o-u)}}},{key:"handleMouseUp",value:function(){this.state.isPressed&&this.setState({isPressed:!1})}},{key:"scrollTo",value:function(e){var t=this;if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])){this.setState({scrollTo:null});var n=this.getScrollerNode();return e<0&&(e=0),e>n.scrollWidth-n.offsetWidth&&(e=n.scrollWidth-n.offsetWidth),void(n.scrollLeft!==e?n.scrollLeft=e:setTimeout(function(){return t.handleOnScroll()},0))}this.setState({scrollTo:{stepId:this.currentStepId,scrollLeft:e}})}},{key:"scrollToEnd",value:function(e){var t=e.scrollLeft,n=e.scrollWidth;return t+e.clientWidth>=n-1}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.theme,o=t.fade,r=t.children,i=t.position,s=t.hideScrollbar,l=this.state,c=l.scrollTo,u=l.scrollerHeight,d=l.isPressed,p={width:this.getScrollbarWidth()+"px",left:this.getScrollbarOffset()+"px"},m=f.default.createElement("div",{ref:"scrollbar",className:this.ss("scrollbar")},f.default.createElement("div",{className:this.ss("track")}),f.default.createElement("div",{className:this.ss("thumb"),style:p,onMouseDown:function(t){return e.handleMouseDown(t)}})),_=void 0;if(c&&c.stepId===this.currentStepId){var v={scrollLeft:this.dimension.scrollLeft},b={scrollLeft:(0,h.spring)(c.scrollLeft,w)};_=f.default.createElement(h.Motion,{defaultStyle:v,style:b},function(t){var n=t.scrollLeft;if(c.stepId===e.currentStepId){n===c.scrollLeft&&e.currentStepId++;var a=e.getScrollerNode();n<0&&(n=0),n>a.scrollWidth-a.offsetWidth&&(n=a.scrollWidth-a.offsetWidth),a.scrollLeft!==n?a.scrollLeft=n:setTimeout(function(){return e.handleOnScroll()},0)}return f.default.createElement("noscript",null)})}var y=50;return this.dimension.offsetWidth&&(0,g.isDevice)()&&(y=u),f.default.createElement("div",{className:this.ss("scroller-wrap",o&&"fade",d&&"isPressed",a)},f.default.createElement("div",{ref:"scroller",className:this.ss("scroller",i,n),style:{marginBottom:-y+"px",paddingBottom:y-u+"px"},onScroll:function(){return e.handleOnScroll()},onMouseDown:s?function(t){return e.handleMouseDown(t)}:void 0},r),!s&&m,_)}}]),t}(),c.propTypes={onUpdate:p.default.func,className:p.default.string,theme:p.default.string,fade:p.default.bool,children:p.default.any,hideScrollbar:p.default.bool,onScroll:p.default.func,onScrollEnd:p.default.func,position:p.default.oneOf(["top","center","auto"])},c.contextTypes={platform:p.default.object,cookies:p.default.object},c.defaultProps={theme:"dark",fade:!0,position:"auto"},l=u))||l;t.default=j},,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=s(["loginUser"],["loginUser"]),m=s(["notification.unseenCount"],["notification.unseenCount"]),h=s(["messages.channels"],["messages.channels"]),_=s(["messages.readState"],["messages.readState"]),g=s(["messages.connected"],["messages.connected"]),v=s(["notification.connected"],["notification.connected"]),b=a(n(2)),y=a(n(3)),w=n(5),j=n(0),E=(l=(0,w.decorator)({loginUser:(0,j.state)(f),unseenCount:(0,j.state)(m),channels:(0,j.state)(h),readState:(0,j.state)(_),messagesConnected:(0,j.state)(g),notificationConnected:(0,j.state)(v)}))((d=u=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,y.default),p(t,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.loginUser,n=e.unseenCount,a=void 0===n?0:n,o=e.channels,r=e.readState,i=e.messagesConnected,s=e.notificationConnected;if(t&&i&&s){var l=Object.values(o).reduce(function(e,t){var n=t.id;return e+r[n].mentionCount},0);this.sendMentionCount(l);var c=a+l;this.setBadge(c)}}},{key:"componentWillUnmount",value:function(){void 0!==this.number&&this.setBadge(0)}},{key:"setBadge",value:function(e){if(e!==this.number){this.number=e;var t=this.context.publicPath,a=n(492).default;a(e>0?t+"images/favicons/favicon-dot.png?v=1":t+"images/favicons/favicon.png?v=1")}}},{key:"sendMentionCount",value:function(e){e!==this.mentionCount&&(this.mentionCount=e,window.sendSignalToHost&&window.sendSignalToHost("badge_setCount",{badgeCount:Math.min(e,99)}))}},{key:"render",value:function(){return null}}]),t}(),u.contextTypes={publicPath:b.default.string},u.propTypes={loginUser:b.default.object,unseenCount:b.default.number,channels:b.default.object,readState:b.default.object,messagesConnected:b.default.bool,notificationConnected:b.default.bool},c=d))||c;t.default=E},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["footer.langStatus"],["footer.langStatus"]),_=s(["footer.regionStatus"],["footer.regionStatus"]),g=s(["footer.height"],["footer.height"]),v=s(["region"],["region"]),b=s(["locale"],["locale"]),y=s(["footer.languageChange"],["footer.languageChange"]),w=s(["footer.regionChange"],["footer.regionChange"]),j=s(["footer.switchLangStatus"],["footer.switchLangStatus"]),E=s(["footer.switchRegionStatus"],["footer.switchRegionStatus"]),k=s(["footer.setHeight"],["footer.setHeight"]),C=a(n(2)),O=a(n(1)),P=a(n(12)),S=a(n(14)),N=n(5),M=n(0),T=a(n(3)),x=n(18),I=n(26),R=a(n(351)),D=a(n(46)),A=a(n(4)),U=a(n(354)),L=n(6),z=a(L),W=a(n(355)),H=a(n(106)),B=n(11),q=(l=(0,N.decorator)({langStatus:(0,M.state)(h),regionStatus:(0,M.state)(_),height:(0,M.state)(g),region:(0,M.state)(v),locale:(0,M.state)(b),languageChange:(0,M.signal)(y),regionChange:(0,M.signal)(w),switchLangStatus:(0,M.signal)(j),switchRegionStatus:(0,M.signal)(E),setHeight:(0,M.signal)(k)}),c=(0,A.default)(U.default),u=(0,z.default)(W.default),l(d=c(d=u((f=p=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.onChangeLang=function(e){e!==a.props.locale&&a.props.languageChange({locale:e})},a.onChangeRegion=function(e){e!==a.props.region&&a.props.regionChange({regionRefId:e})},a.renderIcon=function(){return O.default.createElement("div",{className:a.ss("icon-arrow-down","ifont","ifont-material-baseline-keyboard_arrow_up")})},i=n,r(a,i)}return i(t,T.default),m(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){return e.onSetHeight()},0),this.removeClickOutsideLang=(0,x.addClickOutside)([this.refs.language],function(){e.onSwitchStatus(!1,0)}),this.removeClickOutsideRegion=(0,x.addClickOutside)([this.refs.region],function(){e.onSwitchStatus(!1,1)})}},{key:"componentWillUnmount",value:function(){this.removeClickOutsideLang(),this.removeClickOutsideRegion()}},{key:"onSwitchStatus",value:function(e,t){var n=this.props,a=n.langStatus,o=n.regionStatus,r=n.type;"sticky"===r&&(0,I.isTouch)()||"non-sticky"===r&&!(0,I.isTouch)()||(e?(0===t&&this.props.switchLangStatus({open:!a}),1===t&&this.props.switchRegionStatus({open:!o})):(0===t&&a&&this.props.switchLangStatus({open:!1}),1===t&&o&&this.props.switchRegionStatus({open:!1})))}},{key:"onSetHeight",value:function(){var e=P.default.findDOMNode(this.refs.footer);if(e){var t=this.props.height;e.offsetHeight!==t&&this.props.setHeight({height:e.offsetHeight})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.region,a=t.theme,o=[],r=["https://unity3d.com/legal/","https://unity3d.com/legal/privacy-policy","https://unity3d.com/legal/cookie-policy#cookies"];t.isLiveHelp?r.push("https://support.unity3d.com/hc/en-us/sections/360002585211-Live-Help-User-FAQ"):r.push("https://support.unity3d.com/hc/en-us/sections/202036586-Connect"),r.push("https://unity3d.com/legal/terms-of-service"),r.forEach(function(t,n){o.push(O.default.createElement("div",{key:"link"+n,className:e.ss("link")},O.default.createElement("a",{href:t,target:"_blank",rel:"noreferrer"},e.__("link_text_"+n))))});O.default.createElement("div",{className:this.ss("shares")},O.default.createElement("div",{className:this.ss("share","ifont","ifont-icons-twitter")}),O.default.createElement("div",{className:this.ss("share","ifont","ifont-icons-facebook")}),O.default.createElement("div",{className:this.ss("share","ifont","ifont-icons-github")}),O.default.createElement("div",{className:this.ss("share","ifont","ifont-icons-linkedin")}));var i=S.default.MIN_LOCALES.map(function(e){return{text:(0,B.getLangText)(e),value:e}}),s=S.default.REGIONS.map(function(t){return{text:(0,L.i18n)(e.context,H.default,t.i18n_key),value:t.refId}}),l=this.context.locale||"en_US";return O.default.createElement("div",{ref:"footer",className:this.ss("footer",a)},O.default.createElement("div",{className:this.ss("context")},O.default.createElement("div",{className:this.ss("copyright")},this.__("copyright",{year:(new Date).getFullYear()})),O.default.createElement("div",{className:this.ss("links")},o,O.default.createElement("div",{key:"link_contact_us",className:this.ss("link","link-contact-us")},O.default.createElement("a",{href:"mailto:connect_support@unity3d.com?subject="+this.__("mail_subject")},this.__("contact_us")))),O.default.createElement("a",{className:this.ss("contact-us"),href:"mailto:connect_support@unity3d.com?subject="+this.__("mail_subject")},this.__("contact_us")),O.default.createElement("div",{className:this.ss("choice-control")},O.default.createElement("span",{className:this.ss("label")},this.__("choice_lang")),O.default.createElement(D.default,{className:this.ss("select"),buttonClassName:this.ss("select-btn"),textClassName:this.ss("select-text"),iconClassName:this.ss("select-flag"),optGroupClassName:this.ss("select-items"),selects:i,value:l,renderIcon:this.renderIcon,onChange:function(t,n,a){return e.onChangeLang(a)}})),O.default.createElement("div",{className:this.ss("choice-control","region")},O.default.createElement("span",{className:this.ss("label")},this.__("choice_region")),O.default.createElement(D.default,{className:this.ss("select"),buttonClassName:this.ss("select-btn"),textClassName:this.ss("select-text"),iconClassName:this.ss("select-flag"),optGroupClassName:this.ss("select-items"),selects:s,value:n,renderIcon:this.renderIcon,onChange:function(t,n,a){return e.onChangeRegion(a)}})),!1),O.default.createElement(R.default,null))}}]),t}(),p.propTypes={theme:C.default.string,langStatus:C.default.bool,regionStatus:C.default.bool,height:C.default.number,region:C.default.string,locale:C.default.string,type:C.default.oneOf(["sticky","non-sticky"]),isLiveHelp:C.default.bool,languageChange:C.default.func,regionChange:C.default.func,switchLangStatus:C.default.func,switchRegionStatus:C.default.func,setHeight:C.default.func},d=f))||d)||d)||d);t.default=q},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u,d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=a(n(2)),m=a(n(1)),h=a(n(3)),_=a(n(15)),g=a(n(495)),v=a(n(4)),b=a(n(963)),y=(s=(0,v.default)(b.default))((u=c=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,h.default),p(t,[{key:"onImgClick",value:function(e){var t=this.props.onImageClick;t&&t(e)}},{key:"getWrapSizeStyle",value:function(){var e=this.props,t=e.maxWrapHeight,n=e.wrapHeight;return t?{maxHeight:t}:n?{height:n,maxHeight:"unset"}:{}}},{key:"renderProps",value:function(){var e=this.props,t=e.isMWU,n=e.contentIds,a=void 0===n?[]:n,o=e.contentMap,r=a.findIndex(function(e){return o[e]&&"asset_store"===o[e].externalType})>=0,i=m.default.createElement("div",{className:this.ss("mwu","ifont","ifont-icons-socialicons-unity")}),s=m.default.createElement("div",{className:this.ss("asset-store","ifont","ifont-assetstore-icon")});return t||r?m.default.createElement("div",{className:this.ss("props")},m.default.createElement("div",{className:this.ss("icons")},t&&i,r&&s)):null}},{key:"renderMedia",value:function(e,t,n,a){var o=this,r=this.props,i=r.enableImageOpen,s=r.sizes,l=void 0,c=e.id,u=e.type,p=e.originalImage,f=e.contentType,h=e.downloadUrl,g={};if(s&&s[a]&&s[a][n+1]){var v=s[a][n+1];g.width=v.width,g.height=v.height}if("img"===u){var b=p.url,y=p.gif;l=m.default.createElement("div",{key:"image_"+t,className:this.ss("image-wrapper","image-"+n,"image"),onClick:function(){return i&&o.onImgClick(c)}},m.default.createElement(_.default,d({src:b,sizes:"705px",gif:!!y},g)))}else l=m.default.createElement("div",{key:"image_"+t,className:this.ss("image-wrapper","image-"+n,"video"),onClick:function(){return i&&o.onImgClick(c)}},m.default.createElement(_.default,d({src:h,sizes:"705px",contentType:f},g)),m.default.createElement("div",{className:this.ss("video-icon-wrap")},m.default.createElement("div",{className:this.ss("video-icon-inner")},m.default.createElement("div",{className:this.ss("video-icon","ifont","ifont-icons_play")}))));return l}},{key:"render",value:function(){var e=this,t=this.props,n=t.contentIds,a=void 0===n?[]:n,o=t.contentMap,r=t.thumbnail,i=t.maxImageCount,s=t.onlyShowImage,l=t.showMore,c=t.theme,u=[],d=[];if(!(u=s?a.filter(function(e){return o[e]&&"img"===o[e].type}):a.filter(function(e){return o[e]&&("img"===o[e].type||o[e].contentType.indexOf("video")>-1)}))||0===u.length){var p=r&&r.url;return p?m.default.createElement("div",{className:this.ss("images","images-1")},m.default.createElement("div",{key:"image_default",className:this.ss("image-wrapper","image-0")},m.default.createElement(_.default,{src:p,sizes:"705px"})),this.renderProps()):m.default.createElement("div",{className:this.ss("images","images-1")},m.default.createElement(g.default,{size:"normal"}),this.renderProps())}var f=(d=u.length>i?u.slice(0,i):u).map(function(t,n){return e.renderMedia(o[t],t,n,d.length)});return m.default.createElement("div",{className:this.ss("images","images-"+d.length,c&&"theme-"+c),style:this.getWrapSizeStyle()},f,l&&u.length>i&&m.default.createElement("div",{className:this.ss("more")},m.default.createElement("div",{className:this.ss("top")},u.length),m.default.createElement("div",{className:this.ss("bottom-right")}),m.default.createElement("div",{className:this.ss("bottom-bottom")})),this.renderProps())}}]),t}(),c.propTypes={theme:f.default.string,contentIds:f.default.array,contentMap:f.default.object,thumbnail:f.default.object,isMWU:f.default.bool,maxImageCount:f.default.number,onlyShowImage:f.default.bool,enableImageOpen:f.default.bool,showMore:f.default.bool,sizes:f.default.object,wrapHeight:f.default.number,maxWrapHeight:f.default.number,onImageClick:f.default.func},c.defaultProps={showMore:!0,enableImageOpen:!1,onlyShowImage:!0,maxImageCount:9},l=u))||l;t.default=y},function(e,t){e.exports={created_time:"created_time_1NWt",comment_created_at:"comment_created_at_3BQS",view_hint:"view_hint_1CQE",like_hint:"like_hint_26qY",comment_hint:"comment_hint_2i_w",repost_hint:"repost_hint_2I3J",text_post_like:"text_post_like_2pVV",number_people:"number_people_1u1O",editPost:"editPost_H4hl",deletePost:"deletePost_OZrI",reportUser:"reportUser_3j6q",action_post:"action_post_2d5W",action_post_in:"action_post_in_bjTP",action_repost_article:"action_repost_article_12JT",action_repost_game:"action_repost_game_YJDh",action_repost_showcase:"action_repost_showcase_Rsfl",action_repost_post:"action_repost_post_12vb",pin:"pin_1-aA",un_pin:"un_pin_1ocQ",pinned:"pinned_2WFe",group_owner:"group_owner_2J5V",group_admin:"group_admin_5dt-",remove_featured:"remove_featured_1Ef9",add_featured:"add_featured_3Msb",time_text_now:"time_text_now_1bzJ",time_text_min:"time_text_min_3ovt",time_text_mnins:"time_text_mnins_2Bqd",time_text_hour:"time_text_hour_1Fbu",time_text_hours:"time_text_hours_LTYD",time_text_yestarday:"time_text_yestarday_3ht7",text_reply:"text_reply_214B",reply_at:"reply_at_yzhU",colon:"colon_277Q",btn_view_more:"btn_view_more_RCV8",btn_comment_view_more:"btn_comment_view_more_rZlz",hint_like:"hint_like_3hEx",hint_reply:"hint_reply_2nLi"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u,d,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=a(n(1)),m=a(n(2)),h=a(n(3)),_=a(n(24)),g=a(n(25)),v=a(n(4)),b=a(n(986)),y=a(n(6)),w=a(n(987)),j=(0,g.default)({view:null,like:null,comment:null,repost:null}),E=(s=(0,v.default)(b.default),l=(0,y.default)(w.default),s(c=l((d=u=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,h.default),p(t,[{key:"renderFoot",value:function(e){var t=this,n=this.props,a=n.liking,o=n.viewCount,r=n.commentCount,i=n.likeCount,s=n.challengeId,l=n.onClickLike,c=n.onClickComment,u=n.onClickRepost,d=n.hideRepost,p=[];if("viewCount"in this.props){var m="";m=e?o:o>0?o:this.__("view_hint"),p.push({icon:"icons-open-eye",text:m,type:j.view,onClick:void 0,toolTipCount:o,hint:this.__("view_hint")})}if("likeCount"in this.props){var h="";h=e?i:i>0?i:this.__("like_hint");var g=a;p.push({icon:g?"material-baseline-thumb_up":"material-outline-thumb_up",text:h,type:j.like,onClick:l,toolTipCount:i,hint:this.__("like_hint"),otherClassName:this.ss("icon-like")})}if("commentCount"in this.props){var v="";v=e?r:r>0?r:this.__("comment_hint"),p.push({icon:"material-outline-mode_comment",text:v,type:j.comment,onClick:c,toolTipCount:r,hint:this.__("comment_hint")})}d||p.push({icon:"material-outline-share",text:this.__("repost_hint"),type:j.repost,onClick:u,hint:this.__("repost_hint")});var b=p.map(function(e,n){var o=e.icon,r=e.text,i=e.type,s=e.onClick,l=e.toolTipCount,c=e.hint,u=e.otherClassName,d=void 0!==s,p=i===j.like&&a,m=["menu",i,d&&"can-click",p&&"selected"],h="menu_"+n,g=f.default.createElement("button",{key:h,className:t.ss.apply(t,m),onClick:s},f.default.createElement("div",{className:t.ss("icon",u,"ifont","ifont-"+o)}),"like"===i&&!p&&f.default.createElement("div",{className:t.ss("icon","icon-like-active","ifont","ifont-material-baseline-thumb_up")}),f.default.createElement("div",{className:t.ss("icon-text")},r));return l>0?f.default.createElement(_.default,{key:h,text:c,position:"top"},g):g});return f.default.createElement("div",{className:this.ss("feed-foot",e?"mobile-show":"mobile-hide")},b,this.renderChallenge(s))}},{key:"renderChallenge",value:function(e){return e?f.default.createElement("a",{className:this.ss("challenge"),href:"/challenges/"+e},f.default.createElement("div",{className:this.ss("icon","ifont","ifont-icons_trophy")}),this.__("view_challenge")):null}},{key:"render",value:function(){return f.default.createElement("div",{className:this.ss("card-foot")},this.renderFoot(!1),this.renderFoot(!0))}}]),t}(),u.propTypes={liking:m.default.bool,viewCount:m.default.number,likeCount:m.default.number,commentCount:m.default.number,challengeId:m.default.string,hideRepost:m.default.bool,onClickLike:m.default.func,onClickComment:m.default.func,onClickRepost:m.default.func},u.defaultProps={hideRepost:!1},c=d))||c)||c);t.default=E},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u,d,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["header.setting.windowWidth"],["header.setting.windowWidth"]),m=a(n(2)),h=a(n(1)),_=a(n(3)),g=n(5),v=n(0),b=n(23),y=a(n(15)),w=a(n(213)),j=n(11),E=a(n(4)),k=a(n(357)),C=b.presets.stiff,O=["video/x-m4v","video/webm","video/x-ms-wmv","video/x-msvideo","video/3gpp","video/ogg","video/flv","video/x-flv","video/mp4","video/quicktime","video/mpeg","video/ogv"],P=(s=(0,g.decorator)({windowWidth:(0,v.state)(f)}),l=(0,E.default)(k.default),s(c=l((d=u=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={loading:!0},a.onPrevious=function(e){e&&(0,j.pauseEvent)(e);var t=a.props,n=t.mediaData,o=t.mediaSignals;(n||{}).activeId&&o.moveToContent&&o.moveToContent({step:-1})},a.onNext=function(e){e&&(0,j.pauseEvent)(e);var t=a.props,n=t.mediaData,o=t.mediaSignals;(n||{}).activeId&&o.moveToContent&&o.moveToContent({step:1})},a.onClose=function(e){e&&(0,j.pauseEvent)(e);var t=a.props,n=t.mediaData,o=t.mediaSignals;(n||{}).activeId&&o.closeContent&&o.closeContent()},i=n,r(a,i)}return i(t,_.default),p(t,[{key:"componentDidMount",value:function(){var e=this;this._handKeyDown=function(t){return e.onKeyDown(t)},window.addEventListener("keydown",this._handKeyDown,!0)}},{key:"componentWillReceiveProps",value:function(e){((e||{}).mediaData||{}).activeId&&this.setState({loading:!0})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this._handKeyDown,!0)}},{key:"onKeyDown",value:function(e){var t=e.keyCode;if((this.props.mediaData||{}).activeId)switch(t){case 37:case 38:this.onPrevious(e);break;case 39:case 40:this.onNext(e);break;case 27:this.onClose(e)}}},{key:"getMaxWidth",value:function(){var e=this.props.windowWidth;return e?Math.min(e,1e3):1e3}},{key:"renderMedia",value:function(e,t){var n=void 0,a=!1,o=!1,r=e.type,i=e.originalImage,s=e.image,l=e.contentType,c=e.downloadUrl;if("img"===r){var u=i||s||{},d=u.url,p=u.gif,f=u.width,m=u.height;a=f<this.getMaxWidth(),n=h.default.createElement("div",{className:this.ss("image"),style:a?{width:f,height:m}:{}},h.default.createElement(y.default,{src:d,sizes:"1000px",gif:!!p,width:f,height:m,maxWidth:a?f:0}))}else n=(o=-1!==O.indexOf(l))&&h.default.createElement("div",{className:this.ss("image","video"),onClick:function(e){return(0,j.pauseEvent)(e)}},h.default.createElement(w.default,{src:c,size:"auto",width:608,height:342,directPlay:!0,progress:!0}));return h.default.createElement("div",{className:this.ss("image-inner",(a||o)&&"center"),style:t},n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.mediaData||{},o=a.activeId,r=a.contentMap;if(!o)return null;var i=r[o]||{},s={modalScale:.75,modalOpacity:0},l=o?{modalScale:(0,b.spring)(1,C),modalOpacity:(0,b.spring)(1,C)}:{modalScale:(0,b.spring)(.75,C),modalOpacity:(0,b.spring)(0,C)};return h.default.createElement(b.Motion,{defaultStyle:s,style:l},function(t){var a=t.modalScale,o=t.modalOpacity;if(o<.1)return null;var r={transform:"scale3d("+a+", "+a+", 1)",opacity:o};return h.default.createElement("div",{className:e.ss("image-popup-wrap")},h.default.createElement("div",{className:e.ss("image-popup-bg")}),h.default.createElement("div",{className:e.ss(n,"image-wrap"),onClick:e.onClose},e.renderMedia(i,r)))})}}]),t}(),u.propTypes={windowWidth:m.default.number,className:m.default.string,mediaData:m.default.object,mediaSignals:m.default.object,skipLoading:m.default.bool},c=d))||c)||c);t.default=P},,,,,,function(e,t){e.exports=window.numbro},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports={container:"container_1P9lhz_n",disable:"disable_oFQltvWf","container-egl":"container-egl_23xvYGcc",check:"check_3jfC--VB",inner:"inner_3Aw7Vcap",label:"label_-c6YllrX","label-egl":"label-egl_2WxF0_X4",checked:"checked_24oUu3LD",reverse:"reverse_39iORdVs","theme-blue":"theme-blue_2lljgjqA","theme-blue-primary":"theme-blue-primary_PHwcOlYv","theme-egl":"theme-egl_2Q0VVg_s"}},,,,,,function(e,t,n){e.exports=n.p+"../styles/i/gamestore/amazon.0d249072828a1cafb47a8b57ec5b5452.png"},function(e,t,n){e.exports=n.p+"../styles/i/gamestore/facebook.9931aee40feba19e6b2db2145a8a8059.png"},function(e,t,n){e.exports=n.p+"../styles/i/gamestore/gear_vr.6242eb1b2b3b2bee2718f838e000f241.png"},function(e,t,n){e.exports=n.p+"../styles/i/gamestore/gog.a77823ab0b2e33f7cb7a3c57deda08b2.png"},function(e,t,n){e.exports=n.p+"../styles/i/gamestore/google_play.7c0a6d0ce3931c68ef0edc27de94ab60.png"},function(e,t,n){e.exports=n.p+"../styles/i/gamestore/humble.d80e1282b670c5990ff786ac96c609b8.png"},function(e,t,n){e.exports=n.p+"../styles/i/gamestore/indie_game.b437df4926792a65973d208380810985.png"},function(e,t,n){e.exports=n.p+"../styles/i/gamestore/itch.86e4d5cb22ffef729a1a7346e844d6b3.png"},function(e,t,n){e.exports=n.p+"../styles/i/gamestore/itune.683d6f1c4c06e104c6dca62d614e4dd0.png"},function(e,t,n){e.exports=n.p+"../styles/i/gamestore/kongregate.ddd3c454fc593916aeea1f0cd417204f.png"},function(e,t,n){e.exports=n.p+"../styles/i/gamestore/nintendo.3f4b4fee08f0f6f7fcdba0ae1953d68b.png"},function(e,t,n){e.exports=n.p+"../styles/i/gamestore/oculus.9c5fc9eb9393fe7d97be7dd47d8d4bc6.png"},function(e,t,n){e.exports=n.p+"../styles/i/gamestore/playstation.700911c9ab70a385018507877832f5fa.png"},function(e,t,n){e.exports=n.p+"../styles/i/gamestore/steam.88a9155f6c57a0f34c93948f50e182e0.png"},function(e,t,n){e.exports=n.p+"../styles/i/gamestore/tizen.95557c95ecc8dc12f4ffbb7b8573f560.png"},function(e,t,n){e.exports=n.p+"../styles/i/gamestore/windows.ce130451cf5729bb276a11ff56d9ea8c.png"},function(e,t,n){e.exports=n.p+"../styles/i/gamestore/winphone.9fe77ed3710978718a0e17030dcd22d7.png"},function(e,t,n){e.exports=n.p+"../styles/i/gamestore/xbox.b472f2fe74e4888b98c692bc0b660101.png"},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),p=a(n(1)),f=a(n(2)),m=a(n(3)),h=n(10),_=a(n(4)),g=a(n(207)),v=a(n(29)),b=a(n(86)),y=a(n(30)),w=(s=(0,_.default)(g.default))((u=c=function(e){function t(e,n){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),i={editorKey:e.editorKey,renderOnly:e.renderOnly,nextEditorKey:e.nextEditorKey,returnToNextEditor:!0};return a.titleNormalizePlugin=(0,b.default)(i),a.navigationPlugin=(0,v.default)(i),a.autoSavePlugin=(0,y.default)(i),a.draftPlugins=[a.titleNormalizePlugin,a.navigationPlugin,a.autoSavePlugin],a}return i(t,m.default),d(t,[{key:"render",value:function(){var e=this.props,t=e.editorKey,n=e.placeholder,a=e.defaultEditorState,o=e.renderOnly;return p.default.createElement("div",{className:this.ss("title-wrap")},p.default.createElement(h.Editor,{editorKey:t,placeholder:n,defaultEditorState:a,renderOnly:o,plugins:this.draftPlugins}))}}]),t}(),c.propTypes={editorKey:f.default.string.isRequired,nextEditorKey:f.default.string,placeholder:f.default.string,defaultEditorState:f.default.object,renderOnly:f.default.bool},c.defaultProps={renderOnly:!1},l=u))||l;t.default=w},function(e,t){e.exports={"title-wrap":"title-wrap_2oXf8ZMG"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),p=a(n(1)),f=a(n(2)),m=a(n(3)),h=n(10),_=a(n(4)),g=a(n(209)),v=a(n(29)),b=a(n(30)),y=(s=(0,_.default)(g.default))((u=c=function(e){function t(e,n){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),i={editorKey:e.editorKey,renderOnly:e.renderOnly,prevEditorKey:e.prevEditorKey,nextEditorKey:e.nextEditorKey,returnToNextEditor:!0};return a.navigationPlugin=(0,v.default)(i),a.autoSavePlugin=(0,b.default)(i),a.draftPlugins=[a.navigationPlugin,a.autoSavePlugin],a}return i(t,m.default),d(t,[{key:"render",value:function(){var e=this.props,t=e.editorKey,n=e.placeholder,a=e.defaultEditorState,o=e.renderOnly;return p.default.createElement("div",{className:this.ss("subTitle-wrap")},p.default.createElement(h.Editor,{editorKey:t,placeholder:n,defaultEditorState:a,renderOnly:o,plugins:this.draftPlugins}))}}]),t}(),c.propTypes={editorKey:f.default.string.isRequired,prevEditorKey:f.default.string,nextEditorKey:f.default.string,placeholder:f.default.string,defaultEditorState:f.default.object,renderOnly:f.default.bool},c.defaultProps={renderOnly:!1},l=u))||l;t.default=y},function(e,t){e.exports={"subTitle-wrap":"subTitle-wrap_1vjY-uGP"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),_=s(["draft.editorStates.",""],["draft.editorStates.",""]),g=s(["editorKey"],["editorKey"]),v=s(["draft.setEditorState"],["draft.setEditorState"]),b=a(n(1)),y=a(n(2)),w=a(n(3)),j=a(n(12)),E=n(5),k=n(0),C=n(10),O=a(n(4)),P=a(n(211)),S=a(n(58)),N=a(n(59)),M=a(n(30)),T=a(n(60)),x=a(n(61)),I=a(n(62)),R=a(n(63)),D=a(n(48)),A=a(n(64)),U=a(n(216)),L=a(n(88)),z=a(n(130)),W=a(n(66)),H=a(n(29)),B=(l=(0,E.decorator)({editorState:(0,k.state)(_,(0,k.props)(g)),setEditorState:(0,k.signal)(v)}),c=(0,O.default)(P.default),l(u=c((p=d=function(e){function t(e,n){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));f.call(a);var i={editorKey:e.editorKey,renderOnly:e.renderOnly,placeholder:e.placeholder,prevEditorKey:e.prevEditorKey,theme:e.theme};a.codeBlockPlugin=(0,S.default)(i),a.blockBreakoutPlugin=(0,T.default)(i),a.richTextPlugin=(0,N.default)(i),a.navigationPlugin=(0,H.default)(i),a.sideToolbarPlugin=(0,x.default)(i),a.inlineToolbarPlugin=(0,I.default)(i),a.mentionToolbarPlugin=(0,D.default)(i),a.alignmentToolbarPlugin=(0,R.default)(i),a.dragDropPlugin=(0,A.default)(i),a.atomicPlugin=(0,W.default)(i);var s=(0,C.composeDecorators)(a.alignmentToolbarPlugin.decorator,a.dragDropPlugin.decorator,a.atomicPlugin.decorator),l=m({},i,{decorator:s});return a.imagePlugin=(0,z.default)(l),a.videoPlugin=(0,U.default)(l),a.attachmentPlugin=(0,L.default)(l),a.autoSavePlugin=(0,M.default)(i),a.draftPlugins=[a.sideToolbarPlugin,a.inlineToolbarPlugin,a.mentionToolbarPlugin,a.alignmentToolbarPlugin,a.imagePlugin,a.videoPlugin,a.attachmentPlugin,a.atomicPlugin,a.dragDropPlugin,a.codeBlockPlugin,a.blockBreakoutPlugin,a.richTextPlugin,a.navigationPlugin,a.autoSavePlugin],a}return i(t,w.default),h(t,[{key:"render",value:function(){var e=this.props,t=e.editorKey,n=e.defaultEditorState,a=e.defaultEditable,o=e.renderOnly,r=this.dragDropPlugin,i=this.sideToolbarPlugin,s=this.inlineToolbarPlugin,l=this.mentionToolbarPlugin,c=this.alignmentToolbarPlugin,u=this.videoPlugin;return b.default.createElement("div",{className:this.ss("body-wrap",o&&"render-only"),onClick:o?void 0:this.focus},b.default.createElement(r.EditorWrapper,null,b.default.createElement(C.Editor,{editorKey:t,defaultEditorState:n,defaultEditable:a,renderOnly:o,plugins:this.draftPlugins}),b.default.createElement(s.InlineToolbar,null),b.default.createElement(i.SideToolbar,null),b.default.createElement(l.MentionToolbar,null),b.default.createElement(c.AlignmentToolbar,null),b.default.createElement(u.UploadVideoDialog,null)))}}]),t}(),d.propTypes={editorKey:y.default.string.isRequired,prevEditorKey:y.default.string,placeholder:y.default.string,defaultEditorState:y.default.object,defaultEditable:y.default.bool,renderOnly:y.default.bool,theme:y.default.oneOf(["normal","popup"]),editorState:y.default.object,setEditorState:y.default.func},d.defaultProps={renderOnly:!1,defaultEditable:!0,theme:"normal"},f=function(){var e=this;this.focus=function(t){var n=e.props,a=n.editorKey,o=n.editorState,r=n.setEditorState;j.default.findDOMNode(e)===t.target&&r({editorKey:a,editorState:(0,C.moveToLastBlock)(o)})}},u=p))||u)||u);t.default=B},function(e,t){e.exports={"body-wrap":"body-wrap_3_u6570J","render-only":"render-only_1zMxzzL2"}},,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){"atomic"===e.getType()&&e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&"VIDEO"===n.getEntity(t).getType()},t)}function r(e){var t=e.uploadIds,n=e.uploads,a=e.editorKey,o=e.editorState,r=e.setEditorState;if(t&&t.length>0){var i=o.getSelection().getFocusKey(),s=o;t.forEach(function(e){var t=n[e];s=(0,c.addAtomicBlockBefore)(s,i,"VIDEO",{contentId:t.contentId})}),r({editorKey:a,editorState:s})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.editorKey,n=e.renderOnly;if(!t)throw new Error("editorKey is empty");var a=l.default;e.decorator&&(a=e.decorator(a));var c=r;return{decorators:[{strategy:o,component:a=(0,i.default)(a,{editorKey:t,renderOnly:n})}],UploadVideoDialog:n?function(){return null}:(0,i.default)(s.default,{editorKey:t,onOK:c})}};var i=a(n(36)),s=a(n(65)),l=a(n(214)),c=n(10)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),_=s(["draft.editorStates.",""],["draft.editorStates.",""]),g=s(["editorKey"],["editorKey"]),v=s(["draft.setEditorState"],["draft.setEditorState"]),b=a(n(1)),y=a(n(2)),w=a(n(3)),j=a(n(12)),E=n(5),k=n(0),C=n(10),O=a(n(4)),P=a(n(218)),S=a(n(58)),N=a(n(59)),M=a(n(30)),T=a(n(60)),x=a(n(61)),I=a(n(62)),R=a(n(63)),D=a(n(48)),A=a(n(64)),U=a(n(66)),L=a(n(91)),z=a(n(227)),W=a(n(29)),H=(l=(0,E.decorator)({editorState:(0,k.state)(_,(0,k.props)(g)),setEditorState:(0,k.signal)(v)}),c=(0,O.default)(P.default),l(u=c((p=d=function(e){function t(e,n){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));f.call(a);var i={editorKey:e.editorKey,renderOnly:e.renderOnly,placeholder:e.placeholder,prevEditorKey:e.prevEditorKey,allowImage:!1,allowVideo:!1,allowAttachment:!1,theme:e.theme};a.codeBlockPlugin=(0,S.default)(i),a.blockBreakoutPlugin=(0,T.default)(i),a.richTextPlugin=(0,N.default)(i),a.navigationPlugin=(0,W.default)(i),a.sideToolbarPlugin=(0,x.default)(i),a.inlineToolbarPlugin=(0,I.default)(i),a.mentionToolbarPlugin=(0,D.default)(i),a.alignmentToolbarPlugin=(0,R.default)(i),a.dragDropPlugin=(0,A.default)(i),a.atomicPlugin=(0,U.default)(i);var s=(0,C.composeDecorators)(a.alignmentToolbarPlugin.decorator,a.dragDropPlugin.decorator,a.atomicPlugin.decorator),l=m({},i,{decorator:s});return a.gameGalleryPlugin=(0,L.default)(l),a.normalizePlugin=(0,z.default)(i),a.autoSavePlugin=(0,M.default)(i),a.draftPlugins=[a.sideToolbarPlugin,a.inlineToolbarPlugin,a.mentionToolbarPlugin,a.alignmentToolbarPlugin,a.gameGalleryPlugin,a.atomicPlugin,a.dragDropPlugin,a.codeBlockPlugin,a.blockBreakoutPlugin,a.richTextPlugin,a.navigationPlugin,a.normalizePlugin,a.autoSavePlugin],a}return i(t,w.default),h(t,[{key:"render",value:function(){var e=this.props,t=e.editorKey,n=e.defaultEditorState,a=e.defaultEditable,o=e.renderOnly,r=this.dragDropPlugin,i=this.sideToolbarPlugin,s=this.inlineToolbarPlugin,l=this.mentionToolbarPlugin,c=this.alignmentToolbarPlugin,u=this.gameGalleryPlugin;return b.default.createElement("div",{className:this.ss("body-wrap",o&&"render-only"),onClick:o?void 0:this.focus},b.default.createElement(r.EditorWrapper,null,b.default.createElement(C.Editor,{editorKey:t,defaultEditorState:n,defaultEditable:a,renderOnly:o,plugins:this.draftPlugins}),b.default.createElement(s.InlineToolbar,null),b.default.createElement(i.SideToolbar,null),b.default.createElement(l.MentionToolbar,null),b.default.createElement(c.AlignmentToolbar,null),b.default.createElement(u.UploadVideoDialog,null)))}}]),t}(),d.propTypes={editorKey:y.default.string.isRequired,prevEditorKey:y.default.string,placeholder:y.default.string,defaultEditorState:y.default.object,defaultEditable:y.default.bool,renderOnly:y.default.bool,theme:y.default.oneOf(["normal","popup"]),editorState:y.default.object,setEditorState:y.default.func},d.defaultProps={renderOnly:!1,defaultEditable:!0,theme:"normal"},f=function(){var e=this;this.focus=function(t){var n=e.props,a=n.editorKey,o=n.editorState,r=n.setEditorState;j.default.findDOMNode(e)===t.target&&r({editorKey:a,editorState:(0,C.moveToLastBlock)(o)})}},u=p))||u)||u);t.default=H},function(e,t){e.exports={"body-wrap":"body-wrap_1SvejbOt","render-only":"render-only_3ujjgVh-"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,d,p,f,m,h,_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},g=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),v=c(["project.gallery.itemPos"],["project.gallery.itemPos"]),b=c(["project.setItemPos"],["project.setItemPos"]),y=c(["project.gallery.thumbPos"],["project.gallery.thumbPos"]),w=c(["project.setThumbPos"],["project.setThumbPos"]),j=c(["project.uploads"],["project.uploads"]),E=c(["project.uploadVideo.pendingUploadIds"],["project.uploadVideo.pendingUploadIds"]),k=c(["project.contentMap"],["project.contentMap"]),C=c(["draft.editorStates.",""],["draft.editorStates.",""]),O=c(["editorKey"],["editorKey"]),P=c(["draft.setEditorState"],["draft.setEditorState"]),S=c(["project.positions"],["project.positions"]),N=c(["project.unsetPressed"],["project.unsetPressed"]),M=c(["project.setPressed"],["project.setPressed"]),T=c(["project.updatePressed"],["project.updatePressed"]),x=a(n(1)),I=a(n(2)),R=a(n(3)),D=a(n(12)),A=n(5),U=n(0),L=a(n(92)),z=a(n(93)),W=a(n(223)),H=a(n(94)),B=n(10),q=n(11),F=a(n(4)),K=a(n(225)),G=a(n(6)),V=a(n(226)),J=(u=(0,A.decorator)({itemPos:(0,U.state)(v),setItemPos:(0,U.signal)(b),thumbPos:(0,U.state)(y),setThumbPos:(0,U.signal)(w),uploads:(0,U.state)(j),uploadIds:(0,U.state)(E),contentMap:(0,U.state)(k),editorState:(0,U.state)(C,(0,U.props)(O)),setEditorState:(0,U.signal)(P),positions:(0,U.state)(S),unsetPressed:(0,U.signal)(N),setPressed:(0,U.signal)(M),updatePressed:(0,U.signal)(T)}),d=(0,F.default)(K.default),p=(0,G.default)(V.default),u(f=d(f=p((h=m=function(e){function t(){var e,n,a,l;i(this,t);for(var c=arguments.length,u=Array(c),d=0;d<c;d++)u[d]=arguments[d];return n=a=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.state={},a.onNext=function(e,t){var n=t.animating,o=t.pageSize;n||a.focusToClick(e,function(){a.setThumbPos(a.props.thumbPos+o-1)})},a.onPrev=function(e,t){var n=t.animating,o=t.pageSize;n||a.focusToClick(e,function(){a.setThumbPos(a.props.thumbPos-o+1)})},a.onClickThumbnail=function(e){var t=e.index;a.setItemPos(t)},a.onClickGallery=function(e){a.props.focus&&a.props.focus(e)},a.onMouseMove=function(e){var t=e.pageX,n=a.props,o=n.positions,r=o.pageX,i=o.left,s=o.isPressed,l=n.updatePressed;s&&l({pos:{pageX:t,left:i+(t-r)}})},a.onMouseUp=function(){var e=a.props,t=e.positions,n=t.id,o=t.isPressed,r=t.left,i=e.unsetPressed;if(o){var s=a.calcNewSort(n,r),l=a.getEntityContents();if(n!==s&&s<l.length){var c=(0,q.arrayMove)(l,n,s);a.syncToEntity(c)}i(),a.setItemPos(s)}},a.onMouseDown=function(e,t){0===e.button&&a.focusToClick(e,function(){var n=a.props,o=n.renderOnly,r=n.setPressed,i=n.itemPos;if(t!==i&&a.setItemPos(t),!o){var s=e.pageX;r({pos:{id:t,pageX:s,left:0}})}})},a.refMap={},a.deleteItem=function(e,t){if(a.props.itemPos===t){(0,q.pauseEvent)(e);var n=a.getEntityData(a.props).contents,o=void 0===n?[]:n,i=[].concat(r(o));i.splice(t,1),a.syncToEntity(i)}},a.syncToEntity=function(e){var t=a.props,n=t.entityKey,o=t.editorKey,r=t.editorState,i=t.setEditorState,s=(0,B.mergeAtomicEntityData)(r.getCurrentContent(),n,{contents:e.filter(function(e){return e.contentId||e.uploadId})});i({editorKey:o,editorState:B.EditorState.push(r,s,"apply-entity")})},a.renderLeftBtn=function(e){var t=e.isActive,n=e.pageSize,o=e.animating;return x.default.createElement("div",{className:a.ss("nav","left-nav")},x.default.createElement("button",{className:a.ss("ifont","ifont-icons-back",t&&"active"),onClick:function(e){return a.onPrev(e,{pageSize:n,animating:o})}}))},a.renderRightBtn=function(e){var t=e.isActive,n=e.pageSize,o=e.animating;return x.default.createElement("div",{className:a.ss("nav","right-nav")},x.default.createElement("button",{className:a.ss("ifont","ifont-icons-back",t&&"active"),onClick:function(e){return a.onNext(e,{pageSize:n,animating:o})}}))},a.renderThumbnailAddNew=function(e){var t=e.index,n=e.ratio;return x.default.createElement("div",{className:a.ss("thumbnail-add-new-wrap",a.props.isFocused&&a.props.itemPos===t&&"focus"),onClick:function(){return a.onClickThumbnail({index:t})}},x.default.createElement("div",{style:{paddingBottom:100*n+"%",position:"relative"}}),x.default.createElement("div",{className:a.ss("thumbnail-add-new")},x.default.createElement("div",{className:a.ss("icon","ifont","ifont-icons-add")}),x.default.createElement("div",{className:a.ss("text")},a.__("button_add_new"))))},a.renderThumbnailItem=function(e){var t=e.item,n=o(e,["item"]);if(!0===t.addNew)return a.renderThumbnailAddNew(n);var r=n.index,i=n.ratio,s=a.props,l=s.positions,c=s.isFocused,u=s.itemPos,d=s.renderOnly,p=(d||c)&&u===r,f=l||{isPressed:!1},m=f.isPressed,h=f.left,_=f.id,g={};m&&r===_&&(g={position:"absolute",left:h,zIndex:9});var v=Math.round(1e3*i);return x.default.createElement("div",{ref:function(e){a.refMap[r]=e},className:a.ss("game-thumb-container")},x.default.createElement("div",{style:{paddingBottom:100*i+"%"}}),x.default.createElement("div",{className:a.ss("game-thumb-wrap"),style:g,onMouseDown:function(e){return a.onMouseDown(e,r)}},x.default.createElement("div",{className:a.ss("game-thumb")},x.default.createElement(z.default,{isFocused:p,item:t,width:1e3,height:v,renderOnly:d,onDelete:function(e){return a.deleteItem(e,r)}}))))},a.renderItem=function(e){var t=e.item,n=o(e,["item"]),r=a.props,i=r.isFocused,s=r.editorKey,l=r.entityKey,c=r.renderOnly,u=r.editorState,d=r.focus;if(!0===t.addNew)return x.default.createElement(H.default,_({},n,{isFocused:i,editorKey:s,entityKey:l,renderOnly:c,editorState:u,focus:d,syncToEntity:a.syncToEntity}));var p=n.ratio,f=n.animating,m=Math.round(1e3*p);return x.default.createElement(L.default,{item:t,width:1e3,height:m,animating:f,editorKey:s,entityKey:l,renderOnly:c,editorState:u,focus:d})},l=n,s(a,l)}return l(t,R.default),g(t,[{key:"componentDidMount",value:function(){this.props.renderOnly||(window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp),this.setItemPos(this.getContentMax()),this.setThumbPos(this.getThumbMax()))}},{key:"componentWillReceiveProps",value:function(e){var t=this.getContentMax();e.itemPos>t&&this.setItemPos(t)}},{key:"componentWillUnmount",value:function(){this.props.renderOnly||(window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp)),this.setItemPos(0)}},{key:"setItemPos",value:function(e){var t=this.props,n=t.itemPos,a=t.thumbPos;if(e!==n){var o=this.getContentMax(),r=o>0?Math.max(0,Math.min(o,e)):Math.max(0,e);this.props.setItemPos({itemPos:r});var i=Math.min(o,a+4-1);r<=a?this.setThumbPos(a-1):r>=i&&this.setThumbPos(a+1)}}},{key:"setThumbPos",value:function(e){if(e!==this.props.thumbPos){var t=this.getThumbMax(),n=t>0?Math.max(0,Math.min(t,e)):Math.max(0,e);this.props.setThumbPos({thumbPos:n})}}},{key:"getEntityData",value:function(e){var t=e.entityKey;return e.editorState.getCurrentContent().getEntity(t).getData()}},{key:"getEntityContents",value:function(){var e=this.getEntityData(this.props).contents,t=void 0===e?[]:e;return!0===this.props.renderOnly?[].concat(r(t)):[].concat(r(t),[{addNew:!0}])}},{key:"getContentMax",value:function(){return this.getEntityContents().length-1}},{key:"getThumbMax",value:function(){return this.getEntityContents().length-4}},{key:"focusToClick",value:function(e,t){var n=this.props,a=n.isFocused;n.renderOnly||a||this.onClickGallery(e),t&&t()}},{key:"calcNewSort",value:function(e,t){var n=D.default.findDOMNode(this.refMap[e]),a=e;if(n){var o=(n||{}).offsetWidth,r=void 0===o?1:o,i=Math.round(t/r)+e,s=this.getEntityContents();a=Math.max(0,Math.min(i,s.length-2))}return a}},{key:"render",value:function(){var e=this,t=this.props,n=t.itemPos,a=t.thumbPos,o=t.renderOnly,r=this.getEntityContents(),i=o?0:this.getContentMax(),s=o?0:this.getThumbMax();return x.default.createElement("div",{className:this.ss("game-gallery")},x.default.createElement("div",{className:this.ss("game-slides"),onClick:this.onClickGallery},x.default.createElement(W.default,{items:r,itemPos:n,defaultItemPos:i,ratio:.56,pageSize:1,renderItem:this.renderItem})),x.default.createElement("div",{className:this.ss("game-thumbnails"),onClick:this.onClickGallery},x.default.createElement(W.default,{items:r,itemPos:a,defaultItemPos:s,ratio:.6,focusPos:n,pageSize:4,renderLeftBtn:this.renderLeftBtn,renderRightBtn:this.renderRightBtn,renderItem:this.renderThumbnailItem})),o&&x.default.createElement("div",{className:this.ss("game-gallery-device")},r.map(function(t,n){return x.default.createElement("div",{key:"item"+n,className:e.ss("game-item")},e.renderItem({item:t,index:n,ratio:.56}))})))}}]),t}(),m.propTypes={editorKey:I.default.string.isRequired,entityKey:I.default.string,offsetKey:I.default.string,renderOnly:I.default.bool,isFocused:I.default.bool,editorState:I.default.object,itemPos:I.default.number,setItemPos:I.default.func,thumbPos:I.default.number,setThumbPos:I.default.func,uploads:I.default.object,contentMap:I.default.object,uploadIds:I.default.array,setEditorState:I.default.func,focus:I.default.func,positions:I.default.object,unsetPressed:I.default.func,setPressed:I.default.func,updatePressed:I.default.func},f=h))||f)||f)||f);t.default=J},function(e,t){e.exports={"image-wrapper":"image-wrapper_N_jTf952",image:"image_WoFf3jea","asset-wrap":"asset-wrap_1LOmk5Eb","asset-info":"asset-info_29q9h2Lq","asset-publisher":"asset-publisher_2vaGC8tk","asset-name":"asset-name_1DztSKtk","asset-price-wrap":"asset-price-wrap_3Zo2mSfD","asset-price-origin":"asset-price-origin_1Wn3FjSV","asset-price-discount":"asset-price-discount_1wEvP0u-","asset-sale":"asset-sale_1PhlBdIe","asset-sale-icon":"asset-sale-icon_232YhlCl","asset-sale-text":"asset-sale-text_2ioRAnKK",video:"video_LMmamLZV","render-only":"render-only_fEEnxO2K","iframe-wrap":"iframe-wrap_2eGHuTb5","video-icon-wrap":"video-icon-wrap_21z1Vbup",icon:"icon_145IU3mP","loading-wrap":"loading-wrap_1z9hJY4-","loading-text":"loading-text_1uLPvYJW","loading-bar":"loading-bar_1gcRTlWW",loading:"loading_3GAkSAmH","loading-button":"loading-button_nQ-QzAJH",content:"content_Uqt7ftNi",retry:"retry_14B3gRYO",text:"text_weH7y-PF"}},function(e,t){e.exports={image_uploading:"image_uploading_1EK5",image_uploading_failed:"image_uploading_failed_2Rys",image_uploading_retry:"image_uploading_retry_mMYL",image_caption_placeholder:"image_caption_placeholder_pC9h",button_buy:"button_buy_KNoR",tag_sale:"tag_sale_S-hx"}},function(e,t){e.exports={image:"image_T8rTVDnw",focus:"focus_33HhCEWa","delete-wrap":"delete-wrap_fjfJeb1K",game:"game_BINV6ouE",active:"active_3HuYJ0sr",showcase:"showcase_3hMgS9NG","thumb-mark":"thumb-mark_3yNP06St","asset-store-icon":"asset-store-icon_2yd6rFGZ",delete:"delete_2UlDN1vD","video-icon":"video-icon_1sLQlvvJ","loading-wrap":"loading-wrap_1uCQRWO1"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),p=a(n(1)),f=a(n(2)),m=a(n(3)),h=n(23),_=a(n(4)),g=a(n(224)),v=(s=(0,_.default)(g.default))((u=c=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,m.default),d(t,[{key:"renderContainer",value:function(e){var t=this,n=e.x,a=this.props,o=a.renderLeftBtn,r=a.renderRightBtn,i=a.renderItem,s=a.items,l=a.ratio,c=a.itemPos,u=a.focusPos,d=a.pageSize,f=!1;d&&s.length>d&&c>0&&(f=!0);var m=!1;d&&s.length>d&&c<s.length-d&&(m=!0);var h=Math.abs(n-(c||0))>.01,_=Math.round(1e4*(l||.6666))/100,g={};if(d){var v=Math.round(1e4/(d||1))/100;g.width=v+"%"}var b=null;if(d&&s.length>d){var y=Math.min(Math.max(0,Math.floor(n)),s.length-d),w=Math.min(Math.ceil(n+d),s.length),j=100*(y-n);g.transform="translate3d("+j+"%, 0, 0)";var E=[];s.forEach(function(e,n){var a=n>=y&&n<w?g:{display:"none"},o=i({item:e,index:n,ratio:_/100,pageSize:d,animating:h});E.push(p.default.createElement("div",{ref:function(e){t.itemContainer=e},key:n,className:t.ss("itemContainer",u===n&&"focus"),style:a},o))}),b=p.default.createElement("div",{className:this.ss("itemsWrapper")},E)}else b=p.default.createElement("div",{className:this.ss("itemsWrapper")},s.map(function(e,n){return p.default.createElement("div",{ref:function(e){t.itemContainer=e},key:n,className:t.ss("itemContainer",u===n&&"focus"),style:g},i({item:e,index:n,ratio:_/100,pageSize:d}))}));return p.default.createElement("div",{className:this.ss("sliderContainer")},p.default.createElement("div",{className:this.ss("rowWrapper"),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},p.default.createElement("div",{ref:function(e){t.rowContainer=e},className:this.ss("rowContainer")},b),f&&o&&o({isActive:f,pageSize:d,animating:h}),m&&r&&r({isActive:m,pageSize:d,animating:h})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.itemPos,a=t.defaultItemPos,o={x:void 0===a?0:a},r={x:(0,h.spring)(n||0)};return p.default.createElement(h.Motion,{defaultStyle:o,style:r},function(t){return e.renderContainer(t)})}}]),t}(),c.propTypes={renderLeftBtn:f.default.func,renderRightBtn:f.default.func,renderItem:f.default.func,items:f.default.array,pageSize:f.default.number,defaultItemPos:f.default.number,itemPos:f.default.number,focusPos:f.default.number,ratio:f.default.number},l=u))||l;t.default=v},function(e,t){e.exports={sliderContainer:"sliderContainer_QYGc1PuG",rowWrapper:"rowWrapper_273m-EM6",rowContainer:"rowContainer_2HWOzA_8",itemsWrapper:"itemsWrapper_21nEwS1Z",itemContainer:"itemContainer_231jJMmo",animating:"animating_9oB2aUqD",focus:"focus_31MC0Jsf"}},function(e,t){e.exports={"game-gallery":"game-gallery_1mSWOBAa","game-slides":"game-slides_11HdOSLM","game-thumbnails":"game-thumbnails_1Y-bm2ZF","game-thumb-container":"game-thumb-container_WRkaj9RR","game-thumb-wrap":"game-thumb-wrap_klK1E0mN","game-thumb":"game-thumb_eh6bACNl","thumbnail-add-new-wrap":"thumbnail-add-new-wrap_3JyqClmu",focus:"focus_1SrDBPKB","thumbnail-add-new":"thumbnail-add-new_3SG5ZoOE",icon:"icon_21PnYKBN",text:"text_32zkwRk_",nav:"nav_322sKn6R",active:"active_3fr_7PXF","left-nav":"left-nav_2UslFuvM","right-nav":"right-nav_12_3QKSN",hide:"hide_2BkFVc8W","game-gallery-device":"game-gallery-device_fGmWw_FK","game-item":"game-item_2x6whLxu"}},function(e,t){e.exports={button_add_new:"button_add_new_OvEn"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.editorKey,n=e.renderOnly;if(!t)throw new Error("editorKey is empty");return{onChange:n?void 0:function(e,t){var n=t.getEditorState,r=!1,i=0,s=e.getCurrentContent();return s.getBlocksAsArray().forEach(function(e,t){if(!r){var n=!1;(0,a.findGalleryEntities)(e,function(){n=!0},s),n&&(1==++i?0!==t&&(r=!0):i>1&&(r=!0))}}),0===i&&(r=!0),r?o.EditorState.forceSelection(n(),n().getSelection()):e}}};var a=n(91),o=n(10)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),p=a(n(1)),f=a(n(2)),m=a(n(3)),h=n(10),_=a(n(4)),g=a(n(229)),v=a(n(29)),b=a(n(86)),y=a(n(30)),w=(s=(0,_.default)(g.default))((u=c=function(e){function t(e,n){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),i={editorKey:e.editorKey,renderOnly:e.renderOnly,nextEditorKey:e.nextEditorKey,returnToNextEditor:!0};return a.titleNormalizePlugin=(0,b.default)(i),a.navigationPlugin=(0,v.default)(i),a.autoSavePlugin=(0,y.default)(i),a.draftPlugins=[a.titleNormalizePlugin,a.navigationPlugin,a.autoSavePlugin],a}return i(t,m.default),d(t,[{key:"render",value:function(){var e=this.props,t=e.editorKey,n=e.placeholder,a=e.defaultEditorState,o=e.renderOnly;return p.default.createElement("div",{className:this.ss("title-wrap",o&&"render-only")},p.default.createElement(h.Editor,{editorKey:t,placeholder:n,defaultEditorState:a,renderOnly:o,plugins:this.draftPlugins}))}}]),t}(),c.propTypes={editorKey:f.default.string.isRequired,nextEditorKey:f.default.string,placeholder:f.default.string,defaultEditorState:f.default.object,renderOnly:f.default.bool},c.defaultProps={renderOnly:!1},l=u))||l;t.default=w},function(e,t){e.exports={"title-wrap":"title-wrap_1hoswwPg","render-only":"render-only_q3HDQOjy"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),_=s(["draft.editorStates.",""],["draft.editorStates.",""]),g=s(["editorKey"],["editorKey"]),v=s(["draft.setEditorState"],["draft.setEditorState"]),b=a(n(1)),y=a(n(2)),w=a(n(3)),j=a(n(12)),E=n(5),k=n(0),C=n(10),O=a(n(4)),P=a(n(231)),S=a(n(58)),N=a(n(59)),M=a(n(30)),T=a(n(60)),x=a(n(61)),I=a(n(62)),R=a(n(63)),D=a(n(48)),A=a(n(64)),U=a(n(88)),L=a(n(66)),z=a(n(95)),W=a(n(241)),H=a(n(29)),B=(l=(0,E.decorator)({editorState:(0,k.state)(_,(0,k.props)(g)),setEditorState:(0,k.signal)(v)}),c=(0,O.default)(P.default),l(u=c((p=d=function(e){function t(e,n){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));f.call(a);var i={editorKey:e.editorKey,renderOnly:e.renderOnly,placeholder:e.placeholder,prevEditorKey:e.prevEditorKey,allowImage:!1,allowVideo:!1,theme:e.theme};a.codeBlockPlugin=(0,S.default)(i),a.blockBreakoutPlugin=(0,T.default)(i),a.richTextPlugin=(0,N.default)(i),a.navigationPlugin=(0,H.default)(i),a.sideToolbarPlugin=(0,x.default)(i),a.inlineToolbarPlugin=(0,I.default)(i),a.mentionToolbarPlugin=(0,D.default)(i),a.alignmentToolbarPlugin=(0,R.default)(i),a.dragDropPlugin=(0,A.default)(i),a.atomicPlugin=(0,L.default)(i);var s=(0,C.composeDecorators)(a.alignmentToolbarPlugin.decorator,a.dragDropPlugin.decorator,a.atomicPlugin.decorator),l=m({},i,{decorator:s});return a.showcaseGalleryPlugin=(0,z.default)(l),a.attachmentPlugin=(0,U.default)(l),a.normalizePlugin=(0,W.default)(i),a.autoSavePlugin=(0,M.default)(i),a.draftPlugins=[a.sideToolbarPlugin,a.inlineToolbarPlugin,a.mentionToolbarPlugin,a.alignmentToolbarPlugin,a.showcaseGalleryPlugin,a.attachmentPlugin,a.atomicPlugin,a.dragDropPlugin,a.codeBlockPlugin,a.blockBreakoutPlugin,a.richTextPlugin,a.navigationPlugin,a.normalizePlugin,a.autoSavePlugin],a}return i(t,w.default),h(t,[{key:"render",value:function(){var e=this.props,t=e.editorKey,n=e.defaultEditorState,a=e.defaultEditable,o=e.renderOnly,r=this.dragDropPlugin,i=this.sideToolbarPlugin,s=this.inlineToolbarPlugin,l=this.mentionToolbarPlugin,c=this.alignmentToolbarPlugin,u=this.showcaseGalleryPlugin;return b.default.createElement("div",{className:this.ss("body-wrap",o&&"render-only"),onClick:o?void 0:this.focus},b.default.createElement(r.EditorWrapper,null,b.default.createElement(C.Editor,{editorKey:t,defaultEditorState:n,defaultEditable:a,renderOnly:o,plugins:this.draftPlugins}),b.default.createElement(s.InlineToolbar,null),b.default.createElement(i.SideToolbar,null),b.default.createElement(l.MentionToolbar,null),b.default.createElement(c.AlignmentToolbar,null),b.default.createElement(u.UploadVideoDialog,null)))}}]),t}(),d.propTypes={editorKey:y.default.string.isRequired,prevEditorKey:y.default.string,placeholder:y.default.string,defaultEditorState:y.default.object,defaultEditable:y.default.bool,renderOnly:y.default.bool,theme:y.default.oneOf(["normal","popup"]),editorState:y.default.object,setEditorState:y.default.func},d.defaultProps={renderOnly:!1,defaultEditable:!0,theme:"normal"},f=function(){var e=this;this.focus=function(t){var n=e.props,a=n.editorKey,o=n.editorState,r=n.setEditorState;j.default.findDOMNode(e)===t.target&&r({editorKey:a,editorState:(0,C.moveToLastBlock)(o)})}},u=p))||u)||u);t.default=B},function(e,t){e.exports={"body-wrap":"body-wrap_2L2TD_dc","render-only":"render-only_2bTOMJxC"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,d,p,f,m,h,_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},g=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),v=c(["project.gallery.itemPos"],["project.gallery.itemPos"]),b=c(["project.setItemPos"],["project.setItemPos"]),y=c(["project.uploads"],["project.uploads"]),w=c(["project.uploadVideo.pendingUploadIds"],["project.uploadVideo.pendingUploadIds"]),j=c(["project.contentMap"],["project.contentMap"]),E=c(["draft.editorStates.",""],["draft.editorStates.",""]),k=c(["editorKey"],["editorKey"]),C=c(["draft.setEditorState"],["draft.setEditorState"]),O=c(["project.positions"],["project.positions"]),P=c(["project.unsetPressed"],["project.unsetPressed"]),S=c(["project.setPressed"],["project.setPressed"]),N=c(["project.updatePressed"],["project.updatePressed"]),M=c(["project.closeUploadVideo"],["project.closeUploadVideo"]),T=a(n(1)),x=a(n(2)),I=a(n(3)),R=a(n(12)),D=n(5),A=n(0),U=a(n(92)),L=a(n(93)),z=a(n(94)),W=a(n(87)),H=a(n(233)),B=a(n(237)),q=n(10),F=n(11),K=a(n(4)),G=a(n(239)),V=a(n(6)),J=a(n(240)),Y=(u=(0,D.decorator)({itemPos:(0,A.state)(v),setItemPos:(0,A.signal)(b),uploads:(0,A.state)(y),uploadIds:(0,A.state)(w),contentMap:(0,A.state)(j),editorState:(0,A.state)(E,(0,A.props)(k)),setEditorState:(0,A.signal)(C),positions:(0,A.state)(O),unsetPressed:(0,A.signal)(P),setPressed:(0,A.signal)(S),updatePressed:(0,A.signal)(N),closeUploadVideo:(0,A.signal)(M)}),d=(0,K.default)(G.default),p=(0,V.default)(J.default),u(f=d(f=p((h=m=function(e){function t(){var e,n,a,l;i(this,t);for(var c=arguments.length,u=Array(c),d=0;d<c;d++)u[d]=arguments[d];return n=a=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.state={itemPos:0},a.onNext=function(e,t){var n=t.animating,o=t.pageSize;n||a.focusToClick(e,a.props.itemPos+o)},a.onPrev=function(e,t){var n=t.animating,o=t.pageSize;n||a.focusToClick(e,a.props.itemPos-o)},a.onNextItem=function(e){a.focusToClick(e,a.props.itemPos+1)},a.onPrevItem=function(e){a.focusToClick(e,a.props.itemPos-1)},a.onClickThumbnail=function(e){var t=e.index;a.setItemPos(t)},a.onClickGallery=function(e){a.props.focus&&a.props.focus(e)},a.onMouseMove=function(e){var t=e.pageX,n=a.props,o=n.positions,r=o.pageX,i=o.left,s=o.isPressed,l=n.updatePressed;s&&l({pos:{pageX:t,left:i+(t-r)}})},a.onMouseUp=function(){var e=a.props,t=e.positions,n=t.id,o=t.isPressed,r=t.left,i=e.unsetPressed;if(o){var s=a.calcNewSort(n,r),l=a.getEntityContents();if(n!==s&&s<l.length){var c=(0,F.arrayMove)(l,n,s);a.syncToEntity(c)}i(),a.setItemPos(s)}},a.onMouseDown=function(e,t){0===e.button&&a.focusToClick(e,t,function(){var n=a.props,o=n.renderOnly,r=n.setPressed;if(!o){var i=e.pageX;r({pos:{id:t,pageX:i,left:0}})}})},a.refMap={},a.deleteItem=function(e,t){if(a.props.itemPos===t){(0,F.pauseEvent)(e);var n=a.getEntityData().contents,o=void 0===n?[]:n,i=[].concat(r(o));i.splice(t,1),a.syncToEntity(i)}},a.syncToEntity=function(e){var t=a.props,n=t.entityKey,o=t.editorKey,r=t.editorState,i=t.setEditorState,s=(0,q.mergeAtomicEntityData)(r.getCurrentContent(),n,{contents:e.filter(function(e){return e.contentId||e.uploadId})});i({editorKey:o,editorState:q.EditorState.push(r,s,"apply-entity")})},a.renderLeftBtn=function(e){var t=e.isActive,n=e.pageSize,o=e.animating;return T.default.createElement("div",{className:a.ss("nav","left-nav")},T.default.createElement("button",{className:a.ss("ifont","ifont-icons-back",t&&"active"),onClick:function(e){return t?a.onPrev(e,{pageSize:n,animating:o}):void 0}}))},a.renderRightBtn=function(e){var t=e.isActive,n=e.pageSize,o=e.animating;return T.default.createElement("div",{className:a.ss("nav","right-nav")},T.default.createElement("button",{className:a.ss("ifont","ifont-icons-back",t&&"active"),onClick:function(e){return t?a.onNext(e,{pageSize:n,animating:o}):void 0}}))},a.renderThumbnailAddNew=function(e){var t=e.index,n=e.pageSize;return T.default.createElement("div",{className:a.ss("thumbnail-add-new",a.props.isFocused&&a.props.itemPos===t&&"focus"),onClick:function(){return a.onClickThumbnail({index:t,pageSize:n})}},T.default.createElement("div",{className:a.ss("icon","ifont","ifont-icons-add")}),T.default.createElement("div",{className:a.ss("text")},a.__("button_add_new")))},a.renderThumbnailItem=function(e){var t=e.item,n=o(e,["item"]);if(!0===t.addNew)return a.renderThumbnailAddNew(n);var r=n.index,i=n.ratio,s=Math.round(1e3*i),l=a.props,c=l.positions,u=l.isFocused,d=l.itemPos,p=l.renderOnly,f=(p||u)&&d===r,m=c||{isPressed:!1},h=m.isPressed,_=m.left,g=m.id,v={};return h&&r===g&&(v={position:"absolute",left:_,zIndex:9}),T.default.createElement("div",{ref:function(e){a.refMap[r]=e},className:a.ss("showcase-thumb-wrap")},T.default.createElement("div",{className:a.ss("showcase-thumb",f&&"focus"),style:v,onMouseDown:function(e){return a.onMouseDown(e,r)}},T.default.createElement(L.default,{theme:"showcase",isFocused:f,item:t,width:1e3,height:s,renderOnly:p,onDelete:function(e){return a.deleteItem(e,r)}})))},a.renderItemLeftBtn=function(e){var t=e.animating;return T.default.createElement("div",{className:a.ss("item-nav","left-nav")},T.default.createElement("button",{className:a.ss(t&&"animating"),onClick:function(){return a.onPrevItem()}}))},a.renderItemRightBtn=function(e){var t=e.animating;return T.default.createElement("div",{className:a.ss("item-nav","right-nav")},T.default.createElement("button",{className:a.ss(t&&"animating"),onClick:function(){return a.onNextItem()}}))},a.renderItem=function(e){var t=e.item,n=o(e,["item"]),r=a.props,i=r.isFocused,s=r.editorKey,l=r.entityKey,c=r.renderOnly,u=r.editorState,d=r.focus;if(!0===t.addNew)return T.default.createElement(z.default,_({},n,{isFocused:i,editorKey:s,entityKey:l,renderOnly:c,editorState:u,focus:d,syncToEntity:a.syncToEntity}));var p=n.ratio,f=n.animating,m=n.index,h=Math.round(1e3*p);return T.default.createElement("div",null,T.default.createElement(U.default,{item:t,width:1e3,height:h,animating:f,editorKey:s,entityKey:l,renderOnly:c,editorState:u,focus:d}),a.renderCaption(m))},l=n,s(a,l)}return l(t,I.default),g(t,[{key:"componentDidMount",value:function(){this.props.renderOnly||(window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp))}},{key:"componentWillReceiveProps",value:function(e){var t=this.getContentMax();e.itemPos>t&&this.setItemPos(t)}},{key:"componentWillUnmount",value:function(){this.props.renderOnly||(window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp)),this.setItemPos(0)}},{key:"setItemPos",value:function(e){if(e!==this.props.itemPos){var t=this.getContentMax(),n=t>0?Math.max(0,Math.min(t,e)):Math.max(0,e);this.props.setItemPos({itemPos:n})}}},{key:"getEntityData",value:function(){var e=this.props,t=e.entityKey;return e.editorState.getCurrentContent().getEntity(t).getData()}},{key:"getEntityContents",value:function(){var e=this.getEntityData().contents,t=void 0===e?[]:e;return!0===this.props.renderOnly?[].concat(r(t)):[].concat(r(t),[{addNew:!0}])}},{key:"getContentMax",value:function(){return this.getEntityContents().length-1}},{key:"focusToClick",value:function(e,t,n){var a=this.props,o=a.isFocused,r=a.itemPos;a.renderOnly||o||this.onClickGallery(e),t!==r&&this.setItemPos(t),n&&n()}},{key:"calcNewSort",value:function(e,t){var n=R.default.findDOMNode(this.refMap[e]),a=-1;if(n){var o=(n||{}).offsetLeft,r=Math.round((t+o)/184),i=this.getEntityContents();a=Math.max(0,Math.min(r,i.length-2))}return a}},{key:"renderCaption",value:function(e){var t=this.props,n=t.isFocused,a=t.offsetKey,o=t.editorKey,r=t.entityKey,i=t.renderOnly;return T.default.createElement(W.default,{parentEditorKey:o,parentIsFocused:n,parentOffsetKey:a,editorKey:o+":"+a+":"+e,entityKey:r,renderOnly:i,itemPos:e,type:"gallery",placeholder:this.__("gallery_caption_placeholder")})}},{key:"render",value:function(){var e=this,t=this.props,n=t.itemPos,a=t.renderOnly,o=this.getEntityContents();return T.default.createElement("div",{className:this.ss("showcase-gallery")},T.default.createElement("div",{className:this.ss("showcase-thumbnails"),onClick:this.onClickGallery},T.default.createElement(H.default,{items:o,itemPos:n,ratio:.568,renderLeftBtn:this.renderLeftBtn,renderRightBtn:this.renderRightBtn,renderItem:this.renderThumbnailItem})),T.default.createElement("div",{className:this.ss("showcase-slides"),onClick:this.onClickGallery},T.default.createElement(B.default,{items:o,itemPos:n,ratio:.568,renderLeftBtn:this.renderItemLeftBtn,renderRightBtn:this.renderItemRightBtn,renderItem:this.renderItem})),a&&T.default.createElement("div",{className:this.ss("showcase-gallery-device")},o.map(function(t,n){return T.default.createElement("div",{key:"item"+n,className:e.ss("showcase-item")},e.renderItem({item:t,index:n,ratio:.568}))})))}}]),t}(),m.propTypes={editorKey:x.default.string.isRequired,entityKey:x.default.string,offsetKey:x.default.string,renderOnly:x.default.bool,isFocused:x.default.bool,editorState:x.default.object,itemPos:x.default.number,setItemPos:x.default.func,uploadIds:x.default.array,uploads:x.default.object,contentMap:x.default.object,setEditorState:x.default.func,focus:x.default.func,positions:x.default.object,unsetPressed:x.default.func,setPressed:x.default.func,updatePressed:x.default.func,closeUploadVideo:x.default.func},f=h))||f)||f)||f);t.default=Y},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),p=a(n(1)),f=a(n(2)),m=a(n(3)),h=a(n(134)),_=a(n(4)),g=a(n(236)),v=(s=(0,_.default)(g.default))((u=c=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={itemWidth:0,pageSize:0},a.rowContainer=null,a.itemContainer=null,i=n,r(a,i)}return i(t,m.default),d(t,[{key:"componentDidMount",value:function(){var e=this;this._handleResize=function(){return e.handleResize()},window.addEventListener("resize",this._handleResize),setTimeout(function(){e.itemContainer&&e.setState({itemWidth:e.itemContainer.offsetWidth}),e.handleResize()})}},{key:"componentDidUpdate",value:function(e){e.itemPos!==this.props.itemPos&&this.scrollTo(this.props.itemPos,!0)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._handleResize),this._handleResize=null}},{key:"handleResize",value:function(){if(this.rowContainer&&this.itemContainer){var e=Math.round(this.rowContainer.offsetWidth/this.itemContainer.offsetWidth);this.setState({pageSize:e})}}},{key:"scrollTo",value:function(e,t){var n=this.rowScroller;if(n){var a=this.state.itemWidth;n.scrollTo(e*a,t)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.renderLeftBtn,a=t.renderRightBtn,o=t.renderItem,r=t.items,i=t.ratio,s=t.itemPos,l=this.state.pageSize,c=!1;l&&r.length>l&&s>0&&(c=!0);var u=!1;l&&r.length>l&&s<r.length-1&&(u=!0);var d=Math.round(1e4*(i||.6666))/100,f=null;if(r.length>0){var m=[];r.forEach(function(t,n){var a=o({item:t,index:n,pageSize:l,ratio:d/100});m.push(p.default.createElement("div",{ref:function(t){e.itemContainer=t},key:n,className:e.ss("itemContainer")},a))}),f=p.default.createElement("div",{className:this.ss("itemsWrapper")},m)}return p.default.createElement("div",{className:this.ss("sliderContainer")},p.default.createElement("div",{className:this.ss("rowWrapper")},n&&n({isActive:c,pageSize:l}),p.default.createElement("div",{className:this.ss("rowContainer"),ref:function(t){e.rowContainer=t}},p.default.createElement(h.default,{ref:function(t){e.rowScroller=t},hideScrollbar:!0},f)),a&&a({isActive:u,pageSize:l})))}}]),t}(),c.propTypes={renderLeftBtn:f.default.func,renderRightBtn:f.default.func,renderItem:f.default.func,items:f.default.array,pageSize:f.default.number,itemPos:f.default.number,ratio:f.default.number},l=u))||l;t.default=v},function(e,t){e.exports={"scroller-wrap":"scroller-wrap_2h1CJJp3",scroller:"scroller_1gERBA7e",scrollbar:"scrollbar_14e66Zl3",track:"track_SUazChOX",thumb:"thumb_2rYArIBP",fade:"fade_3m60es2k",isPressed:"isPressed_1O9bMacj"}},function(e,t,n){"use strict";e.exports=function(){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="100px",e.style.height="100px",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),t}},function(e,t){e.exports={sliderContainer:"sliderContainer_1k4QEu7P",rowWrapper:"rowWrapper_2PuRj0Ih",rowContainer:"rowContainer_1oRyYi-L",itemsWrapper:"itemsWrapper_2s5-HH-V",itemContainer:"itemContainer_UvGvhbip",animating:"animating_3knqkOws"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),p=a(n(1)),f=a(n(2)),m=a(n(3)),h=n(23),_=a(n(4)),g=a(n(238)),v=(s=(0,_.default)(g.default))((u=c=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={},i=n,r(a,i)}return i(t,m.default),d(t,[{key:"renderContainer",value:function(e){var t=this,n=e.x,a=this.props,o=a.renderLeftBtn,r=a.renderRightBtn,i=a.renderItem,s=a.items,l=a.ratio,c=a.itemPos,u=!1;s.length>1&&c>0&&(u=!0);var d=!1;s.length>1&&c<s.length-1&&(d=!0);var f=Math.abs(n-(c||0))>.01,m=Math.round(1e4*(l||.6666))/100,h=null;if(s.length>1){for(var _=Math.floor(n-1),g=Math.min(_+4,s.length),v={transform:"translate3d("+100*(_-n)+"%, 0, 0)"},b=[],y=_;y<g;y+=1){var w=y>=_&&y<g?v:{display:"none"},j=null;y>=0&&(j=i({item:s[y],index:y,ratio:m/100,animating:f})),b.push(p.default.createElement("div",{key:y,className:this.ss("itemContainer"),style:w},j))}h=p.default.createElement("div",{className:this.ss("itemsWrapper")},b)}else h=p.default.createElement("div",{className:this.ss("itemsWrapper")},s.map(function(e,n){return p.default.createElement("div",{key:n,className:t.ss("itemContainer")},i({item:e,index:n,ratio:m/100}))}));return p.default.createElement("div",{className:this.ss("sliderContainer")},p.default.createElement("div",{className:this.ss("rowWrapper")},p.default.createElement("div",{className:this.ss("rowContainer")},h),u&&o&&o({isActive:u,animating:f}),d&&r&&r({isActive:d,animating:f})))}},{key:"render",value:function(){var e=this,t=this.props.itemPos,n={x:0},a={x:(0,h.spring)(t||0)};return p.default.createElement(h.Motion,{defaultStyle:n,style:a},function(t){return e.renderContainer(t)})}}]),t}(),c.propTypes={renderLeftBtn:f.default.func,renderRightBtn:f.default.func,renderItem:f.default.func,items:f.default.array,pageSize:f.default.number,itemPos:f.default.number,ratio:f.default.number},l=u))||l;t.default=v},function(e,t){e.exports={sliderContainer:"sliderContainer_2ScdGV5z",rowWrapper:"rowWrapper_vT9rnUyt",rowContainer:"rowContainer_1TvGx87w",itemsWrapper:"itemsWrapper_3fPbghTE",itemContainer:"itemContainer_2ZCBjIO4",animating:"animating_1p_ZFVO4"}},function(e,t){e.exports={"showcase-gallery":"showcase-gallery_NjN6fap3","showcase-thumbnails":"showcase-thumbnails_3GtagVMw","showcase-thumb-wrap":"showcase-thumb-wrap_378l8puS","showcase-thumb":"showcase-thumb_gX1vBe84","showcase-slides":"showcase-slides_FsCfDsBp","thumbnail-add-new":"thumbnail-add-new_XCqmooWI",focus:"focus_1BbZ0ql4",icon:"icon_3pDwB3aT",text:"text_iMINwQcY",nav:"nav_2r6FtKgC",active:"active_2L_uAOWF","right-nav":"right-nav_Q9tJ57S9","item-nav":"item-nav_2hARF1IA",animating:"animating_3oDS5Ryb","left-nav":"left-nav_D2feHIih",hide:"hide_1uU2kZwp","showcase-gallery-device":"showcase-gallery-device_1QuzPVmF","showcase-item":"showcase-item_2u7Y8h0T"}},function(e,t){e.exports={button_add_new:"button_add_new_2vaG",gallery_caption_placeholder:"gallery_caption_placeholder_1ASt"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.editorKey,n=e.renderOnly;if(!t)throw new Error("editorKey is empty");return{onChange:n?void 0:function(e,t){var n=t.getEditorState,r=!1,i=0,s=e.getCurrentContent();return s.getBlocksAsArray().forEach(function(e,t){if(!r){var n=!1;(0,a.findGalleryEntities)(e,function(){n=!0},s),n&&(1==++i?0!==t&&(r=!0):i>1&&(r=!0))}}),0===i&&(r=!0),r?o.EditorState.forceSelection(n(),n().getSelection()):e}}};var a=n(95),o=n(10)},,function(e,t){e.exports={dropdown:"dropdown_226B5DnQ","dropdown-element":"dropdown-element_Fy7YRyHk","dropdown-menus-bg":"dropdown-menus-bg_1t5fRcBc","dropdown-menus":"dropdown-menus_3LPqxIgV",item:"item_vCIclFgU",active:"active_3Wv4_bTz","no-icon":"no-icon_2l38x3wS",icon:"icon_1STeK-3Q","item-text":"item-text_2U75qEu0"}},,,,,function(e,t,n){"use strict";(function(e){function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e){return function(t){var n=t.props,a=t.state,o=n.followeeId;a.set("project.followStatus."+o,e)}}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c=o(["project.likeStatus"],["project.likeStatus"]),u=o(["project.loadMoreStatus"],["project.loadMoreStatus"]),d=o(["project.publishedStatus"],["project.publishedStatus"]),p=o(["project.updateThumbnailStatus"],["project.updateThumbnailStatus"]),f=n(9),m=n(0),h=n(7),_=a(h),g=a(n(19)),v=a(n(31));t.default={name:e,depends:[],signals:{toggleReaction:v.default.LoginRequired([function(e){var t=e.state,n=e.props,a=e.path,o=e.http,r=n.messageId,i=n.reactionType,s=t.get("project.comments.items"),l=s[s.findIndex(function(e){return e.id===r})].reactions,c=t.get("loginUser.id");return l.some(function(e){return e.user.id===c})?o.post("/api/messages/"+r+"/removeReaction",{reactionType:i}).then(a.success).catch(a.error):o.post("/api/messages/"+r+"/addReaction",{reactionType:i}).then(a.success).catch(a.error)},{success:[function(e){var t=e.props,n=e.state,a=t.result,o=t.messageId,r=n.get("project.comments.items"),s=r.findIndex(function(e){return e.id===o});if(s>-1){var l=[].concat(i(r));l.splice(s,1,a),n.set("project.comments.items",l)}}],error:[]}]),doRating:v.default.LoginRequired([function(e){var t=e.props,n=e.state,a=e.http,o=e.path,r=n.get(["project"]).projectData.id,i={rating:t.rating,projectId:r};return a.post("/api/submission/rating",i).then(o.success).catch(o.error)},{success:[function(e){var t=e.props,n=e.state,a=t.result.rating;n.set("project.rating",a)}],error:[]}]),updateReplysShow:[function(e){var t=e.props,n=e.state,a=t.id,o=t.show;n.merge("project.replysShow",r({},a,o))}],updateMoreListShow:[function(e){var t=e.props,n=e.state,a=t.id,o=t.show;n.merge("project.moreListShow",r({},a,o))}],updateReplyShow:[function(e){var t=e.props,n=e.state,a=t.id,o=t.show;n.merge("project.replyShow",r({},a,o)),o||n.merge("project.inputValues",r({},a,""))}],changeReply:[function(e){var t=e.props,n=e.state,a=t.id,o=t.parentMessageId;n.set("project.replyId",{id:a,parentMessageId:o})}],toggleLike:v.default.LoginRequired([(0,f.set)((0,m.state)(c),_.default.inProgress),[function(e){var t=e.state,n=e.http,a=e.path,o=t.get(["project"]),r=o.like,i=o.projectData.id;return!0===r?n.post("/api/dislike",{itemId:i}).then(a.success).catch(a.error):n.post("/api/like",{type:"project",itemId:i}).then(a.success).catch(a.error)},{success:[(0,f.set)((0,m.state)(c),_.default.succeeded)],error:[(0,f.set)((0,m.state)(c),_.default.failed)]}],function(e){var t=e.props,n=e.state,a=t.result;if(200===t.status&&a&&!0===a.success){var o=n.get(["project"]),r=o.like,i=o.projectData.likeCount,s=!r;n.set(["project","like"],s),!0===s?n.set(["project","projectData","likeCount"],(i||0)+1):n.set(["project","projectData","likeCount"],Math.max(i-1,0))}}]),toggleFollow:v.default.LoginRequired([s(_.default.inProgress),[function(e){var t=e.props,n=e.state,a=e.http,o=e.path,r=t.followeeId,i=t.type,s=void 0===i?"team":i;return!0===n.get("project").followMap[r]?a.post("/api/unfollow",{followeeId:r}).then(o.success).catch(o.error):a.post("/api/follow",{type:s,followeeId:r}).then(o.success).catch(o.error)},{success:[s(_.default.succeeded)],error:[s(_.default.failed)]}],function(e){var t=e.props,n=e.state,a=t.followeeId,o=t.result;if(200===t.status&&o&&!0===o.success){var i=n.get("project").followMap,s=i[a],c=l({},i);!0===s?(delete c[a],n.set(["project","followMap"],c)):n.merge(["project","followMap"],r({},a,!0))}}]),mouseOver:[function(e){var t=e.props,n=e.state,a=t.authorId;n.set("project.mouseOver."+a,!0)}],mouseOut:[function(e){var t=e.props,n=e.state,a=t.authorId;n.set("project.mouseOver."+a,!1)}],download:v.default.LoginRequired(function(e){var t=e.props,n=e.state,a=t.id,o=n.get("project.projectData.id");a&&o&&(0,g.default)("/api/p/"+o+"/attachments/"+a)}),getProjects:[function(e){var t=e.state,n=e.path,a=t.get("project.loadMoreStatus");return(0,h.isLoading)(a)?n.no():n.yes()},{yes:[(0,f.set)((0,m.state)(u),_.default.inProgress),[function(e){var t=e.state,n=e.props,a=e.http,o=e.path,r=t.get("project.projects")||[],i=n.userId,s=n.teamId,l={offset:r.length,userId:i,teamId:s};return a.get("/api/u/getProjects",l).then(o.success).catch(o.error)},{success:[(0,f.set)((0,m.state)(u),_.default.succeeded),function(e){var t=e.props,n=e.state,a=t.result;n.concat("project.projects",a.projects),n.set("project.projectsHasMore",a.projectsHasMore)}],error:[(0,f.set)((0,m.state)(u),_.default.failed)]}]],no:[]}],updateProjectPublicStatus:[function(e){var t=e.props,n=e.state,a=t.projectId,o=t.public,r=(n.get("projects")||[]).findIndex(function(e){return e.id===a});r>=0&&n.set(["projects",r,"public"],o)},(0,f.set)((0,m.state)(d),_.default.inProgress),[function(e){var t=e.props,n=e.http,a=e.path,o=t.projectId,r=t.public;return o?n.put("/api/p/"+o+"/public",{public:r}).then(a.success).catch(a.error):a.dummy()},{success:[(0,f.set)((0,m.state)(d),_.default.succeeded)],error:[(0,f.set)((0,m.state)(d),_.default.failed)],dummy:[]}]],updateThumbnail:[(0,f.set)((0,m.state)(p),_.default.inProgress),[function(e){var t=e.state,n=e.props,a=e.http,o=e.path,r=t.get("project.projectData.id"),i=n.result,s=(JSON.parse(i)||{}).id;return a.post("/api/p/"+r+"/thumbnail",{thumbnailId:s}).then(o.success).catch(o.error)},{success:[(0,f.set)((0,m.state)(p),_.default.succeeded),function(e){var t=e.state,n=e.props,a=n.result,o=n.uploadId;t.set("project.thumbnailURL",a),t.set(["project","uploads",o,"status"],_.default.succeeded)}],error:[(0,f.set)((0,m.state)(p),_.default.failed),function(e){var t=e.state,n=e.props.uploadId;t.set(["project","uploads",n,"status"],_.default.succeeded)}]}]]},getServices:function(){},getState:function(){return{replyShow:{},replysShow:{},moreListShow:{},followStatus:{},mouseOver:{},thumbnailURL:""}}}}).call(t,"views/v2/modules/projectV2/DetailStore.js")},function(e,t,n){"use strict";(function(e){function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return e.fullname<t.fullname?-1:e.fullname>t.fullname?1:0}function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;t=t&&t.toLowerCase()||"";var a=new RegExp("^"+u.default.escape(t),"i"),r=[],i=[],s=e.get(["project","mentionUsers"]);return(0,c.default)(s).values().takeWhile(function(o){var l=o.id,c=s[l];if(!c||l===e.get("loginUser").id)return!0;var u=c.fullname.toLowerCase();return a.test(u)?r.push({fullname:u,user:c}):(0,d.default)(t,u)&&i.push({fullname:u,user:c}),r.length<n}).value(),r.sort(o),i.sort(o),r.concat(i.slice(0,Math.max(0,n-r.length))).map(function(e){return e.user})}function i(e,t){var n=r(e,t),a={},o=[];return n.forEach(function(e){e.fullname in a?o.push(e.fullname):a[e.fullname]=!0}),n.map(function(e){var t=e;if(-1!==o.indexOf(e.fullname)){var n=l({},e);n.isDup=!0,n.fullnameWithTitle=e.fullname.concat("#",e.title),t=n}return t})}Object.defineProperty(t,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c=a(n(22)),u=a(n(159)),d=a(n(160)),p=["project","textAreaAutocomplete"],f="@",m=new RegExp(""+f),h=/(\t|\s)/;t.default={name:e,depends:[],signals:{maybeShowAutocomplete:[function(e){for(var t=e.props,n=e.state,a=t.value,o=t.selectionStart,r=t.selectionEnd,l=n.get(p),c=o;c>=0&&!h.test(a[c]);c--)if(m.test(a[c])){var d=function(){var e=a.slice(c,r);if(l&&l.prefix===e)return{v:void 0};var t=new RegExp("^"+u.default.escape(e.slice(1)),"i"),o=void 0,s=void 0;switch(e[0]){case f:o="mention",(s=i(n,e.slice(1))).length<10&&function(e){return t.test(e)}("everyone")&&s.push({content:"everyone"})}return o?(n.set(p,{type:o,query:"",prefix:e,results:s,loading:!1,selectedIndex:0,selectionStart:c,selectionEnd:r}),{v:void 0}):void 0}();if("object"===(void 0===d?"undefined":s(d)))return d.v}l&&n.unset(p)}],textAreaAutocompleteUnset:[function(e){var t=e.state;t.get(p)&&t.unset(p)}],textAreaAutocompleteSelectPrev:[function(e){var t=e.state,n=t.get(p);if(n){var a=n.results,o=n.loading;if(a&&a.length&&!o){var r=n.selectedIndex;--r<0&&(r=a.length-1),t.set([].concat(p,["selectedIndex"]),r)}}}],textAreaAutocompleteSelectNext:[function(e){var t=e.state,n=t.get(p);if(n){var a=n.results,o=n.loading;if(a&&a.length&&!o){var r=n.selectedIndex;++r>=a.length&&(r=0),t.set([].concat(p,["selectedIndex"]),r)}}}],textAreaAutocompleteSelectIndex:[function(e){var t=e.props,n=e.state,a=t.selectedIndex,o=n.get(p);if(o){var r=o.results,i=o.loading;r&&r.length&&!i&&a>=0&&a<r.length&&n.set([].concat(p,["selectedIndex"]),a)}}]},getState:function(){return{textAreaAutocomplete:{}}},getMentionUsers:function(e){return e.get(["project","mentionUsers"])}}}).call(t,"views/v2/modules/projectV2/TextAreaAutocompleteStore.js")},function(e,t,n){"use strict";(function(e){function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){var t=e.props,n=e.state,a=e.http,o=e.path,r=t.content,i=t.emojiReaction,s=t.channelId,l=t.nonce,u=t.attachementContent,d=t.unParse;if(!r)return o.dummy();var p=n.get("loginUser"),f=n.get(["project","mentionUsers"]),m=c({},f);delete m[p.id];var h=n.get("project.replyId")||{},_=h.id,g=h.parentMessageId,v=y.default.parse(r,{users:m}).content,b={content:d?r:v,emojiReaction:i,nonce:l,attachementContent:u};return _&&(b.parentMessageId=_,g&&(b.parentMessageId=g,_&&(b.upperMessageId=_))),a.post("/api/channels/"+s+"/messages",b).then(o.success).catch(o.error)}function l(e){var t=e.controller,n=e.props,a=n.cb;t.getSignal("project.syncCommentResult")(n),t.getSignal("project.getSelfMessage")(n),a&&t.getSignal(a)()}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=o(["project.commentsLoaded"],["project.commentsLoaded"]),d=o(["project.loadMoreStatus"],["project.loadMoreStatus"]),p=o(["project.commentStatus"],["project.commentStatus"]),f=o(["project.deleteCommentStatus"],["project.deleteCommentStatus"]),m=o(["project.deleteCommentConfirmId"],["project.deleteCommentConfirmId"]),h=o(["deleteAsAdmin"],["deleteAsAdmin"]),_=o(["id"],["id"]),g=o(["project.deleteCommentAsSysAdmin"],["project.deleteCommentAsSysAdmin"]),v=n(9),b=n(0),y=a(n(78)),w=a(n(34)),j=a(n(7)),E=a(n(52)),k=a(n(31));t.default={name:e,depends:[],signals:{loadMore:[(0,v.set)((0,b.state)(u),!0),(0,v.set)((0,b.state)(d),j.default.inProgress),[function(e){var t=e.state,n=e.http,a=e.path,o=t.get(["project","comments"]),r=o.hasMore,i=o.currOldestMessageId,s=t.get(["project","channelId"]);return r?n.get("/api/channels/"+s+"/messages",{before:i,limit:5}).then(a.success).catch(a.error):a.dummy()},{success:[(0,v.set)((0,b.state)(d),j.default.succeeded),function(e){var t=e.controller,n=e.props;t.getSignal("project.syncLoadMoreResult")(n)}],error:[(0,v.set)((0,b.state)(d),j.default.failed)],dummy:[]}]],createComment:k.default.LoginRequired([(0,v.set)((0,b.state)(p),j.default.inProgress),function(e){var t=e.state;if("webgl"!==t.get("project.projectData").type){var n=t.get("project.replyId")||{},a=n.id,o=n.parentMessageId;if(a){var i=t.get("project.comments"),s=i.items,l=i.parents,c=i.uppers,u=t.get("project.hottestComments").items;if(o){if(c.findIndex(function(e){return e.id===a})<0){var d=s.findIndex(function(e){return e.id===a}),p=u.findIndex(function(e){return e.id===a});d>-1?t.set("project.comments.uppers",[].concat(r(c),[s[d]])):p>-1&&t.set("project.comments.uppers",[].concat(r(c),[u[p]]))}}else if(l.findIndex(function(e){return e.id===a})<0){var f=s.findIndex(function(e){return e.id===a}),m=u.findIndex(function(e){return e.id===a});f>-1?t.set("project.comments.parents",[].concat(r(l),[s[f]])):m>-1&&t.set("project.comments.parents",[].concat(r(l),[u[m]]))}}}},function(e){var t=e.props,n=e.state,a=w.default.createNonce(),o=t.content,r=t.channelId,s=t.id,l=!!t.attachementContent,u=n.get("loginUser"),d=n.get(["project","mentionUsers"]),p=n.get("project.replyId")||{},f=p.id,m=p.parentMessageId,h=n.get("project.edit"),_=c({},d);delete _[u.id];var g=y.default.parse(o,{users:_}).content,v={nonce:a,type:"normal",channelId:r,author:{id:u.id,fullname:u.name,title:u.title,jobRoleIds:u.jobRoleIds,isStaff:h,avatar:u.avatar,presenceStatus:u.presenceStatus},content:g,attachments:[],mentionEveryone:!1,mentions:[],state:"SENDING",skip:l};return f&&(v.parentMessageId=f,m&&(v.parentMessageId=m,f&&(v.upperMessageId=f))),n.unshift("project.comments.items",v),n.merge("project.inputValues",i({},s,"")),{nonce:a}},[s,{success:[(0,v.set)((0,b.state)(p),j.default.succeeded),l],error:[(0,v.set)((0,b.state)(p),j.default.failed)],dummy:[]}]]),createCommentInMultiProject:k.default.LoginRequired([(0,v.set)((0,b.state)(p),j.default.inProgress),function(e){var t=e.props,n=e.state,a=w.default.createNonce(),o=t.content,r=t.projectId,s=t.id,l=!!t.attachementContent,u=n.get("loginUser"),d=n.get(["project","mentionUsers"]),p=n.get("project.edit"),f=c({},d);delete f[u.id];var m=y.default.parse(o,{users:f}).content,h={id:u.id,fullname:u.name,title:u.title,jobRoleIds:u.jobRoleIds,isStaff:p,avatar:u.avatar,presenceStatus:u.presenceStatus},_=n.get(["profile","projectMap",r]).channelId,g={nonce:a,type:"normal",channelId:_,author:h,content:m,attachments:[],mentionEveryone:!1,mentions:[],state:"SENDING",skip:l};return n.unshift(["profile","projectCommentMap",r,"items"],g),n.merge("project.inputValues",i({},s,"")),{nonce:a,channelId:_}},[s,{success:[(0,v.set)((0,b.state)(p),j.default.succeeded),l],error:[(0,v.set)((0,b.state)(p),j.default.failed)],dummy:[]}]]),deleteComment:[(0,v.set)((0,b.state)(f),j.default.inProgress),[function(e){var t=e.state,n=e.http,a=e.path,o=t.get("project.deleteCommentConfirmId"),r=t.get("project.deleteCommentAsSysAdmin");return o?r?n.post("/api/messages/"+o+"/adminDelete").then(a.success).catch(a.error):n.post("/api/messages/"+o+"/delete").then(a.success).catch(a.error):a.error()},{success:[(0,v.set)((0,b.state)(f),j.default.succeeded),function(e){var t=e.controller,n=e.props;t.getSignal("project.syncDeleteCommentResult")(n)},(0,v.set)((0,b.state)(m),"")],error:[(0,v.set)((0,b.state)(f),j.default.failed)]}]],syncCommentResult:[function(e){var t=e.props,n=e.state,a=t.result,o=t.status,r=t.channelId,i=t.projectId;if(200===o&&a){var s=n.get(["project","channelId"]),l=a.content,c=a.author.id,u=a.channelId,d=a.nonce;if(s===u){var p=n.get(["project","comments"]).items.findIndex(function(e){return e.author.id===c&&e.content===l&&d===e.nonce});if(p>=0){n.splice(["project","comments","items"],p,1,a);var f=n.get(["project","projectData"]).commentCount;n.set(["project","projectData","commentCount"],f+1)}}else if(r===u&&""!==i){var m=n.get(["profile","projectCommentMap",i]).items.findIndex(function(e){return e.author.id===c&&d===e.nonce});m>=0&&(n.splice(["profile","projectCommentMap",i,"items"],m,1,a),n.set(["profile","commentUpdated"],a.nonce))}}}],createCommentWithEmoji:[function(e){var t=e.props,n=e.state,a=e.controller,o=t.content,r=t.emoji,i=t.channelId,s=t.nonce,l=t.attachementContent,c=t.unParse;if(a.getSignal("project.createComment")({content:o,emojiReaction:r,channelId:i,attachementContent:l,nonce:s,unParse:c}),r&&n.get("currentUserId")){var u=n.get(["project","projectData"]).reactionCount,d=n.get(["project","projectData"]).reactionsUsed;n.set(["project","projectData","reactionCount"],(u||0)+1),d||(d=[]),d[r]=(d[r]||0)+1,n.set(["project","projectData","reactionsUsed"],d)}}],syncDeleteCommentResult:[function(e){var t=e.props,n=e.state,a=t.result;a&&a.id&&n.get(["project","comments"]).items.forEach(function(e,t){if(e.id===a.id){n.splice(["project","comments","items"],t,1);var o=n.get(["project","projectData"]),r=o.commentCount,i=o.reactionsUsed,s=o.reactionCount;n.set(["project","projectData","commentCount"],Math.max(r-1,0)),e.emojiReaction&&(i[e.emojiReaction]-=1,i[e.emojiReaction]<=0&&delete i[e.emojiReaction],n.set(["project","projectData","reactionsUsed"],i),n.set(["project","projectData","reactionCount"],s-1))}})}],syncLoadMoreResult:[function(e){var t=e.props,n=e.state,a=t.result;if(200===t.status&&a){var o=n.get(["project","comments"]),i=a.items,s=a.hasMore,l=a.parents,c=a.uppers,u=o.items.map(function(e){return e.id}),d=o.parents.map(function(e){return e.id}),p=o.uppers.map(function(e){return e.id}),f=i.filter(function(e){return u.lastIndexOf(e.id)<0}),m=l.filter(function(e){return d.lastIndexOf(e.id)<0}),h=c.filter(function(e){return p.lastIndexOf(e.id)<0});n.set(["project","comments"],{items:[].concat(r(o.items),r(f)),hasMore:s,currOldestMessageId:f[f.length-1].id,parents:[].concat(r(o.parents),r(m)),uppers:[].concat(r(o.uppers),r(h))})}}],changeInputValue:[function(e){var t=e.props,n=e.state,a=t.id,o=t.value;n.merge("project.inputValues",i({},a,o))}],toggleChannelReadonly:[[function(e){var t=e.props,n=e.http,a=e.path,o=t.channelId,r="/api/channels/"+o+"/cancelReadonly";return t.value&&(r="/api/channels/"+o+"/makeReadonly"),n.post(r).then(a.success).catch(a.error)},{success:[function(e){var t=e.state,n=e.props,a=n.result;200===n.status&&a&&t.set("project.isChannelReadonly",a.readonly)}],error:[]}]],openDeleteCommentConfirmDialog:[(0,v.when)((0,b.props)(h),function(e){return e}),{true:[E.default.TfaRequired([(0,v.set)((0,b.state)(f),j.default.initial),(0,v.set)((0,b.state)(m),(0,b.props)(_)),(0,v.set)((0,b.state)(g),!0)])],false:[(0,v.set)((0,b.state)(f),j.default.initial),(0,v.set)((0,b.state)(m),(0,b.props)(_)),(0,v.set)((0,b.state)(g),!1)]}],closeDeleteCommentConfirmDialog:[(0,v.set)((0,b.state)(m),"")]},getState:function(){return{commentsLoaded:!1,comments:{},inputValues:{},deleteCommentConfirmId:"",deleteCommentIsSysAdmin:!1}},getComments:function(e){return e.get(["project","comments"])}}}).call(t,"views/v2/modules/projectV2/CommentStore.js")},function(e,t,n){"use strict";(function(e){function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e){var t=e.state,n=e.http,a=e.path,o=t.get("project.projectData").type,r=(t.get("pageType")||{}).pageType;if("webgl"!==o||"detail"===r)return a.dummy();var i=t.get(["project","channelId"]);return n.get("/api/channels/"+i+"/messagesV2/self").then(a.success).catch(a.dummy)}function l(e){var t=e.props,n=e.state,a=t.result,o=t.status,r=t.loading;if(200===o&&a){var s=n.get(["project","comments"]),l=a.items,c=a.hasMore,u=s.items.map(function(e){return e.id}),d=l.filter(function(e){return u.lastIndexOf(e.id)<0});r?n.set(["project","comments"],{items:[].concat(i(s.items),i(d)),hasMore:c,currOldestMessageId:d[d.length-1].id}):n.set(["project","comments"],{items:[].concat(i(d),i(s.items)),hasMore:s.hasMore,currOldestMessageId:s.currOldestMessageId})}}function c(e){var t=e.props,n=e.state,a=t.result;if(200===t.status&&a){var o=a.items;if(o){var r=n.get(["project","comments"]),s=r.items.map(function(e){return e.id}),l=r.items.map(function(e){return e.id===o[0].id?o[0]:e}),c=o.filter(function(e){return s.lastIndexOf(e.id)<0});n.set(["project","selfComments"],{items:o}),n.set("project.comments.items",[].concat(i(c),i(l)))}}}function u(e){var t=e.state,n=e.props,a=n.id,o=n.value;t.merge("project.commentEditing",r({},a,o))}Object.defineProperty(t,"__esModule",{value:!0});var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},p=o(["project.commentsLoaded"],["project.commentsLoaded"]),f=o(["project.loadMoreStatus"],["project.loadMoreStatus"]),m=o(["project.reactionsLoaded"],["project.reactionsLoaded"]),h=o(["project.loadMoreReactionsStatus"],["project.loadMoreReactionsStatus"]),_=n(9),g=n(0),v=a(n(78)),b=a(n(7));t.default={name:e,depends:[],signals:{INITIAL_DATA:[s,{success:[c],dummy:[]}],webglLoadMore:[(0,_.set)((0,g.state)(p),!0),(0,_.set)((0,g.state)(f),b.default.inProgress),[function(e){var t=e.state,n=e.http,a=e.path,o=t.get(["project","comments"]),r=o.hasMore,i=o.currOldestMessageId,s=t.get(["project","channelId"]);return r?n.get("/api/channels/"+s+"/messagesV2",{before:i,limit:5,includeReply:!1}).then(a.success).catch(a.error):a.dummy()},{success:[(0,_.set)((0,g.state)(f),b.default.succeeded),l],error:[(0,_.set)((0,g.state)(f),b.default.failed)],dummy:[]}]],webglLoadMoreReactions:[(0,_.set)((0,g.state)(m),!0),(0,_.set)((0,g.state)(h),b.default.inProgress),[function(e){var t=e.state,n=e.http,a=e.path,o=t.get(["project","reactions"])||{},r=o.hasMore,i=o.currOldestMessageId,s=t.get(["project","channelId"]);return!1!==r?n.get("/api/channels/"+s+"/messages/reactions",{before:i,limit:20}).then(a.success).catch(a.error):a.dummy()},{success:[(0,_.set)((0,g.state)(h),b.default.succeeded),function(e){var t=e.props,n=e.state,a=t.result,o=t.status,r=t.loading;if(200===o&&a){var s=n.get(["project","reactions"]),l=s?s.items||[]:[],c=a.items,u=a.hasMore,d=[];d=c.filter(function(e){return l.map(function(e){return e.id}).lastIndexOf(e.id)<0}),r?n.set(["project","reactions"],{items:[].concat(i(l),i(d)),hasMore:u,currOldestMessageId:d[d.length-1].id}):n.set(["project","reactions"],{items:[].concat(i(d),i(l)),hasMore:s.hasMore||!0,currOldestMessageId:s.currOldestMessageId})}}],error:[(0,_.set)((0,g.state)(h),b.default.failed)],dummy:[(0,_.set)((0,g.state)(h),b.default.succeeded)]}]],getSelfMessage:[s,{success:[c],dummy:[]}],loadMoreChild:[(0,_.set)((0,g.state)(f),b.default.inProgress),[function(e){var t=e.state,n=e.http,a=e.path,o=e.props.messageIds,r=t.get(["project","channelId"]);return n.get("/api/channels/"+r+"/messagesV2/child",{messageIds:o}).then(a.success).catch(a.error)},{success:[(0,_.set)((0,g.state)(f),b.default.succeeded),l],error:[(0,_.set)((0,g.state)(f),b.default.failed)]}]],updateEditing:[u],sendEditComment:[function(e){var t=e.props,n=e.state,a=e.http,o=e.path,r=t.message,i=t.id,s=t.newContent,l=n.get(["project","mentionUsers"]),c=n.get("loginUser"),u=d({},l);delete u[c.id];var p=v.default.parse(s,{users:u});return r.content=p.content,a.post("/api/messages/"+i,r).then(o.success).catch(o.error)},{success:[u,function(e){var t=e.props,n=e.state,a=t.message,o=t.id,r=n.get("project.comments").items;r[r.findIndex(function(e){return e.id===o})]=a,n.set("project.comments.items",r)}],error:[]}],changeCommentValue:[function(e){var t=e.props,n=e.state,a=t.id,o=t.value;n.merge("project.commentValue",r({},a,o))}]},getState:function(){return{commentEditing:{},commentValue:{}}}}}).call(t,"views/v2/modules/projectV2/WebglCommentStore.js")},function(e,t,n){"use strict";(function(e){function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function i(e){var t=e.props,n=e.project,a=t.projectId,o=t.options;if(!(void 0===o?{}:o).isPOP){var r=window.location,i=c({},r);a&&(P.push(i),i={pathname:"p/"+a}),n.syncToHistory(i)}}function s(e){var t=e.props,n=e.http,a=e.path,o=t.projectId;return n.get("/api/p/"+o,{view:"true"}).then(a.success).catch(a.error)}function l(e){var t=e.props;e.controller.getSignal("project.setActiveProject")(t)}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=r(["project.activeId"],["project.activeId"]),d=r(["projectId"],["projectId"]),p=r(["project.getProjectStatus"],["project.getProjectStatus"]),f=r(["project.projectIds"],["project.projectIds"]),m=r(["projectIds"],["projectIds"]),h=r(["project.activeContentId"],["project.activeContentId"]),_=n(9),g=n(0),v=a(n(166)),b=a(n(167)),y=a(n(168)),w=a(n(7)),j=a(n(19)),E=n(26),k=a(n(31)),C=a(n(44)),O=!1,P=[];t.default={name:e,depends:[],signals:{openProject:[function(e){var t=e.props,n=e.path,a=t.onlyDraft;return void 0!==a&&a?n.yes():n.no()},{yes:[function(e){var t=e.props;if(!(0,E.isTouch)()){var n=t.projectId;(0,j.default)("/p/"+n+"/edit")}}],no:[function(e){var t=e.props,n=e.path;return"webgl"===t.type?n.yes():n.no()},{yes:[function(e){var t=e.props,n=t.projectId,a=t.from;a?(0,j.default)("/p/"+n+"?from="+a):(0,j.default)("/p/"+n)}],no:[(0,_.set)((0,g.state)(u),(0,g.props)(d)),(0,_.set)((0,g.state)(p),w.default.inProgress),i,[s,{success:[(0,_.set)((0,g.state)(p),w.default.succeeded),l],error:[(0,_.set)((0,g.state)(p),w.default.failed)]}]]}]}],closeProject:[(0,_.unset)((0,g.state)(u)),function(e){e.project.backToHistory()}],setProjectIds:[(0,_.set)((0,g.state)(f),(0,g.props)(m))],moveToProject:[function(e){var t=e.props,n=e.state,a=e.path,o=t.step,r=n.get("project"),i=r.activeId,s=r.projectIds,l=s.findIndex(function(e){return e===i})+o;return l>=0&&l<s.length?a.open({projectId:s[l]}):a.dummy()},{open:[(0,_.set)((0,g.state)(u),(0,g.props)(d)),(0,_.set)((0,g.state)(p),w.default.inProgress),function(e){var t=e.props,n=e.project,a=t.projectId;if(a){var o="p/"+a;n.replaceToHistory({pathname:o})}},[s,{success:[(0,_.set)((0,g.state)(p),w.default.succeeded),l],error:[(0,_.set)((0,g.state)(p),w.default.failed)]}]],dummy:[]}],syncToLocation:[i],syncFromLocation:[function(e){var t=e.props,n=e.state,a=e.controller,o=t.pathname,r=o&&o.trim().split("/");if(r&&r.length>0){var i=r[0],s=r[1];"p"===i&&s?a.getSignal("project.openProject")({projectId:s,options:{isPOP:!0}}):window.location.reload()}else n.unset(["project","activeId"])}],setActiveProject:[function(e){var t=e.props,n=e.state,a=e.controller,o=e.path,r=t.result;if(200===t.status&&r){var i=r.project,s=r.relationship,l=(i||{}).projectData;return s&&n.set("connection.relationship",s),l?(n.merge("project",c({},i,{currentIndex:0})),o.success()):(a.getSignal("header.showMessage")({message:"project_hidden_or_removed"}),o.error())}return o.dummy()},{success:[],error:[(0,_.set)((0,g.state)(p),w.default.failed)],dummy:[]}],openContent:[function(e){var t=e.state,n=e.props,a=n.contentId,o=n.url,r=void 0===o?"":o;r?(0,C.default)(r,"_blank"):t.set("project.activeContentId",a)}],closeContent:[(0,_.unset)((0,g.state)(h))],setContentIds:[function(e){var t=e.props,n=e.state,a=t.contentIds,o=n.get("project").contentMap,r=a&&a.filter(function(e){return o&&o[e]&&"img"===o[e].type});r&&r.length>0&&n.set(["project","contentIds"],r)}],moveToContent:[function(e){var t=e.props,n=e.state,a=t.step,o=n.get("project"),r=o.activeContentId,i=o.contentIds,s=i.findIndex(function(e){return e===r})+a;s>=0&&s<i.length&&n.set(["project","activeContentId"],i[s])}],openWebGL:[function(e){var t=e.props,n=e.state,a=t.id;n.merge("project.openWebGL",o({},a,!0))}],closeWebGL:[function(e){var t=e.props,n=e.state,a=t.id;n.set("project.openWebGL."+a,!1)}],addLike:k.default.LoginRequired([function(e){var t=e.props,n=e.state,a=e.http,o=e.path,r=n.get("loginUser"),i=t.like,s=t.userId,l=t.itemId,c=r.id;return!0!==i&&c!==s?a.post("/api/like",{type:"project",itemId:l}).then(o.success).catch(o.error):o.success()},{success:[function(e){var t=e.props,n=e.controller,a=t.slug;n.getSignal("project.openProject")({projectId:a})}],error:[]}])},getServices:function(e){function t(e){n.replace(e)}var n=(0,b.default)((0,y.default)(v.default))({basename:"/"});return n.listen(function(t){var n=t.action,a=t.pathname;O&&"POP"===n&&e.getSignal("project.syncFromLocation")({pathname:a})}),O=!0,{syncToHistory:function(e){n.push(e)},replaceToHistory:t,backToHistory:function(){var e=P.pop();e&&t({pathname:e.pathname,search:e.search})}}},getState:function(){return{activeId:"",projectIds:[],activeContentId:"",contentIds:[],openWebGL:{},projectData:{}}}}}).call(t,"views/v2/modules/projectV2/BrowseStore.js")},function(e,t,n){"use strict";(function(e){function n(e){var t=e.state,n=e.http,a=e.path,o=t.get("project.projectData"),r=o.id;return"webgl"===o.type?n.get("/api/webgl/pkg",{projectID:r}).then(a.success).catch(a.error):a.dummy()}function a(e){var t=e.state,n=e.props.result;t.set("project.webglPKG",n)}Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:e,depends:[],signals:{INITIAL_DATA:[n,{success:[a],error:[],dummy:[]}],getWebglPKG:[n,{success:[a],error:[],dummy:[]}]},getState:function(){return{webglPKG:{}}}}}).call(t,"views/v2/modules/projectV2/WebglPKGStore.js")},function(e,t,n){"use strict";(function(e){function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var o=a(["project.submitWebglDialog.show"],["project.submitWebglDialog.show"]),r=a(["project.submitWebglDialog.updateStatus"],["project.submitWebglDialog.updateStatus"]),i=n(9),s=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(n(7));t.default={name:e,depends:[],signals:{openSubmitWebglDialog:[(0,i.set)((0,s.state)(o),!0),(0,i.set)((0,s.state)(r),l.default.initial)],closeSubmitWebglDialog:[(0,i.set)((0,s.state)(o),!1)],submitProjectToChallenge:[(0,i.set)((0,s.state)(r),l.default.inProgress),[function(e){var t=e.state,n=e.http,a=e.path,o=(t.get("project.projectData")||{}).id,r=(t.get("project.globalChallenge")||{}).id;return n.post("/api/p/"+o+"/submitToChallenge",{challengeId:r}).then(a.success).catch(a.error)},{success:[(0,i.set)((0,s.state)(r),l.default.succeeded),function(e){var t=e.state,n=e.controller,a=(t.get("project.globalChallenge")||{}).id;t.set("project.projectData.challengeId",a),n.getSignal("project.getUnlockedAssets")()},(0,i.set)((0,s.state)(o),!1)],error:[(0,i.set)((0,s.state)(o),!1),(0,i.set)((0,s.state)(r),l.default.failed),function(e){var t=e.state,n=e.props.result,a=n.errorCode,o=n.message,r=n.target;"ReSubmitChallengeError"===a?(t.set("project.submitDuplicated.projectId",r),t.set("project.submitDuplicated.show",!0)):alert(o)}]}]]},getState:function(){return{submitWebglDialog:{show:!1}}}}}).call(t,"views/v2/modules/projectV2/SubmitWebglStore.js")},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["project.submitDuplicated.show"],["project.submitDuplicated.show"]),o=n(9),r=n(0);t.default={name:e,depends:[],signals:{closeSubmitDuplicated:[(0,o.set)((0,r.state)(a),!1)]},getState:function(){return{submitDuplicated:{show:!1,projectId:""}}}}}).call(t,"views/v2/modules/projectV2/SubmitDuplicatedStore.js")},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=new(function(e){return e&&e.__esModule?e:{default:e}}(n(485)).default),o="close_popup_learn";t.default={name:e,depends:[],signals:{hidePopupLearn:[function(e){var t=e.state,n=t.get("currentUserId"),r=o+"_"+n;t.set("project.popupLearnShow",!1),a.setItem(r,!0)}],initData:[function(e){var t=e.state,n=t.get("currentUserId");if(t.get("project.edit")){var r=o+"_"+n,i=a.getItem(r);t.set("project.popupLearnShow",void 0===i)}else t.set("project.popupLearnShow",!1)}]},getServices:function(){},getState:function(){return{popupLearnShow:!1}}}}).call(t,"views/v2/modules/projectV2/PopupLearnStore.js")},function(e,t,n){"use strict";(function(e){function a(e){var t=e.state,n=e.http,a=e.path,o=t.get("currentUserId"),r=t.get("project.projectData"),i=r.id,s=r.type,l=r.userId;if(!i&&t.get("challenge.userProject")){var c=t.get("challenge.userProject");i=c.id,s=c.type,l=c.userId}return"webgl"===s&&i&&l===o?n.get("/api/p/"+i+"/unlockedAssets").then(a.success).catch(a.error):a.dummy()}function o(e){var t=e.state,n=e.props.result||[];if(n&&0!==n.length){t.set("project.unlockedAsset.all",n);var a=n[0].assetType;t.set("project.unlockedAsset.type",a),n.forEach(function(e){r(a).forEach(function(n,a){return n.id===e.assetId&&(t.set("project.unlockedAsset.asset.unlocked",!0),!1===e.confirmed&&(t.set("project.unlockedAsset.modalIsOpen",!0),t.set("project.unlockedAsset.asset.index",a),t.set("project.unlockedAsset.asset.textIndex",a))),n})})}}function r(e){switch(e){case"FPS":return[{id:s.default.ASSET_UNLOCK_FPS_FIRST}];case"Karting":return[{id:s.default.ASSET_UNLOCK_KARTING_FIRST},{id:s.default.ASSET_UNLOCK_KARTING_SECOND},{id:s.default.ASSET_UNLOCK_KARTING_THIRD}];default:return[]}}function i(e,t){var n=r(e.get("project.unlockedAsset.type"))[t].id;e.set("project.unlockedAsset.asset.unlocked",!1),e.get("project.unlockedAsset.all").filter(function(e){return e.assetId===n}).length>0&&e.set("project.unlockedAsset.asset.unlocked",!0)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){return e&&e.__esModule?e:{default:e}}(n(14));t.default={name:e,depends:[],signals:{INITIAL_DATA:[a,{success:[o],dummy:[]}],prevSlide:[function(e){var t=e.state,n=t.get("project.unlockedAsset.asset.index")-1;t.set("project.unlockedAsset.asset.index",n),i(t,n)}],nextSlide:[function(e){var t=e.state,n=t.get("project.unlockedAsset.asset.index")+1;t.set("project.unlockedAsset.asset.index",n),i(t,n)}],closeModal:[function(e){e.state.set("project.unlockedAsset.modalIsOpen",!1)}],getUnlockedAssets:[a,{success:[o],dummy:[]}]},getState:function(){return{unlockedAsset:{all:[],type:null,modalIsOpen:!1,asset:{index:null,textIndex:null,unlocked:!1}}}}}}).call(t,"views/v2/modules/projectV2/UnlockedAssetsStore.js")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=[function(e){return e&&e.__esModule?e:{default:e}}(n(259)).default];t.default={report:a}},function(e,t,n){"use strict";(function(e){function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){return[function(t){var n=t.props;return{field:[].concat(_,[e]),value:n.value,touched:!0}}].concat(r(f.chains.fieldChanged),[(0,d.set)((0,p.state)(c),m.default.initial)])}function s(){return[function(){return{fieldPath:[].concat(_,["inputReasons"]),fieldDetails:{value:""}}},f.chains.addField]}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c=o(["report.processStatus"],["report.processStatus"]),u=o(["report.status"],["report.status"]),d=n(9),p=n(0),f=n(21),m=a(n(7)),h=a(n(31)),_=["report","reportForm"];t.default={name:e,depends:[],signals:{changeType:[].concat(r(i("type")),[function(e){var t=e.state,n=e.path;return"other"!==t.get([].concat(_,["type","value"]))?(t.set("report.reportForm.inputReasons.value",""),n.no()):n.yes()},{yes:[function(){return{fieldPath:[].concat(_,["inputReasons"]),fieldDetails:{value:"",validations:["isValue","minLength:10","maxLength:80"],errorMessages:["error_isRequired","error_minLength10","error_maxLength80"],isRequired:!0}}},f.chains.addField],no:s()}]),changeInputReasons:i("inputReasons"),submitReport:[].concat(r(f.chains.formValidated),[function(e){var t=e.state,n=e.path,a=t.get(_);return(0,f.isValidForm)(a)?n.yes():n.no()},{yes:[(0,d.set)((0,p.state)(c),m.default.inProgress),[function(e){var t=e.state,n=e.http,a=e.path,o=t.get(_),r=t.get("report"),i=r.itemId,s=r.itemType;if((0,f.isValidForm)(o)){var l={itemId:i,itemType:s,reasons:["other"!==o.type.value?o.type.value:"other:"+o.inputReasons.value]};return n.post("/api/report",l).then(a.success).catch(a.error)}return a.dummy()},{success:[(0,d.set)((0,p.state)(c),m.default.succeeded),(0,d.set)((0,p.state)(u),!1)],error:[(0,d.set)((0,p.state)(c),m.default.failed)],dummy:[]}]],no:[(0,d.set)((0,p.state)(c),m.default.failed)]}]),open:h.default.LoginRequired(function(e){var t=e.props,n=e.state,a=t.itemId,o=t.itemType,r=t.reportTitle,i=n.get("report");n.set("report",l({},i,{status:!0,itemId:a,reportTitle:r,itemType:o}))}),close:[function(e){e.state.set("report.status",!1)}].concat(r(f.chains.reset),r(s()))},getServices:function(){return{}},getState:function(){return{itemId:null,itemType:null,status:!1,reportForm:(0,f.Form)({type:{value:"spam"},inputReasons:{value:""}})}}}}).call(t,"views/v2/modules/report/ReportStore.js")},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.JobShare=t.default=t.Share=void 0;var c,u,d,p,f,m,h,_,g,v,b,y,w,j,E,k,C,O=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),P=o(["project.projectData"],["project.projectData"]),S=o(["project.contentMap"],["project.contentMap"]),N=o(["currentHost"],["currentHost"]),M=o(["project.shareCode"],["project.shareCode"]),T=o(["share.openWeChatShareDialog"],["share.openWeChatShareDialog"]),x=o(["jobData"],["jobData"]),I=o(["loginUser"],["loginUser"]),R=o(["publicPath"],["publicPath"]),D=a(n(2)),A=a(n(1)),U=n(5),L=n(0),z=a(n(3)),W=n(11),H=a(n(905)),B=a(n(4)),q=a(n(908)),F=a(n(6)),K=a(n(909)),G=t.Share=(c=(0,B.default)(q.default),u=(0,F.default)(K.default),c(d=u((f=p=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,z.default),O(t,[{key:"onPopupWindow",value:function(e,t){if((0,W.pauseEvent)(e),window){var n={toolbar:"no",location:"no",status:"no",menubar:"no",scrollbars:"yes",resizable:"yes",width:"640",height:"480"},a=Object.keys(n).reduce(function(e,t){return[].concat(r(e),[t+"="+n[t]])},[]);window.open(t,"targetWindow",a.join(", "))}}},{key:"getButtons",value:function(){var e=this,t=this.props,n=t.facebookUrl,a=t.twitterUrl,o=t.linkedinUrl,r=t.pinterestUrl,i=t.redditUrl,s=t.wechatKey;return[{type:"facebook",gaTag:"GA_btn_project_shareFB",onClick:function(t){return e.onPopupWindow(t,n)}},{type:"twitter",gaTag:"GA_btn_project_shareTW",onClick:function(t){return e.onPopupWindow(t,a)}},{type:"linkedin",gaTag:"GA_btn_project_shareLinkedin",onClick:function(t){return e.onPopupWindow(t,o)}},{type:"pinterest",gaTag:"GA_btn_project_sharePIN",onClick:function(t){return e.onPopupWindow(t,r)}},{type:"wechat",gaTag:"GA_btn_project_shareWeChat",onClick:function(t){return e.openWeChatShare(t,s)}},{type:"reddit",gaTag:"GA_btn_project_shareReddit",onClick:function(t){return e.onPopupWindow(t,i)}}]}},{key:"openWeChatShare",value:function(e,t){(0,W.pauseEvent)(e),this.props.openWeChatShareDialog({id:t})}},{key:"renderShareButtons",value:function(){var e=this,t=this.props,n=t.theme,a=t.id,o=t.published,r=t.wechatShareType,i=t.shareCode,s=this.getButtons(),l="default"===n,c="default"===n?20:30;return s.map(function(t,s){var u=t.type,d=t.gaTag,p=t.onClick,f=[];return l&&0!==s&&f.push(A.default.createElement("div",{key:"divider",className:e.ss("divider")})),f.push(A.default.createElement("div",{key:u,className:e.ss("item")},A.default.createElement("a",{className:e.ss("button-wrap",u,d),onClick:function(e){return o&&p(e)}},A.default.createElement("div",{className:e.ss("icon","ifont","ifont-icons-"+u)})),"wechat"===u&&A.default.createElement(H.default,{id:a,opener:a+"_"+n,type:r,top:c,shareCode:i}))),f})}},{key:"render",value:function(){var e=this.props,t=e.theme,n=e.onClose,a="float"===t;return A.default.createElement("div",null,a&&A.default.createElement("div",{className:this.ss("bg"),onClick:function(){return n()}}),A.default.createElement("div",{className:this.ss("share",t)},A.default.createElement("div",{className:this.ss("buttons")},this.renderShareButtons())))}}]),t}(),p.propTypes={facebookUrl:D.default.string,twitterUrl:D.default.string,linkedinUrl:D.default.string,pinterestUrl:D.default.string,redditUrl:D.default.string,wechatKey:D.default.string,id:D.default.string,published:D.default.bool,theme:D.default.oneOf(["default","float","primary","little"]),wechatShareType:D.default.oneOf(["project","job"]),shareCode:D.default.string,openWeChatShareDialog:D.default.func,onClose:D.default.func},d=f))||d)||d),V=(m=(0,U.decorator)({projectData:(0,L.state)(P),contentMap:(0,L.state)(S),currentHost:(0,L.state)(N),shareCode:(0,L.state)(M),openWeChatShareDialog:(0,L.signal)(T)}),h=(0,B.default)(q.default),_=(0,F.default)(K.default),m(g=h(g=_((b=v=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,z.default),O(t,[{key:"render",value:function(){var e=this.props,t=e.currentHost,n=e.projectData,a=n.id,o=n.slug,r=n.title,i=n.description,s=n.coverContentId,l=n.published,c=e.contentMap,u=e.theme,d=e.openWeChatShareDialog,p=e.onClose,f=e.shareCode,m=f?"?code="+f:"",h=o||a,_=c[s]||{},g=_.originalImage,v=_.thumbnail,b=(g||v||{}).url,y=encodeURIComponent("https://"+t+"/p/"+h+m),w=encodeURIComponent(this.__("checkout_project_at",{url:"https://"+t+"/p/"+h+m})),j=encodeURIComponent(r+" - "+i),E="https://www.facebook.com/sharer/sharer.php?u="+y,k="https://twitter.com/intent/tweet?text="+w+"&source=webclient",C="https://www.linkedin.com/shareArticle?url="+y+"&title="+j+"&summary="+w,O="https://www.pinterest.com/pin/create/button/?url="+y+"&description="+j+"&media="+b,P="https://www.reddit.com/submit?title="+j+"&url="+y,S=h+"_"+u;return A.default.createElement(G,{facebookUrl:E,twitterUrl:k,linkedinUrl:C,pinterestUrl:O,redditUrl:P,wechatKey:S,id:h,published:l,theme:u,wechatShareType:"project",shareCode:f,openWeChatShareDialog:d,onClose:p})}}]),t}(),v.propTypes={projectData:D.default.object,contentMap:D.default.object,currentHost:D.default.string,theme:D.default.oneOf(["default","float","primary"]),shareCode:D.default.string,openWeChatShareDialog:D.default.func,onClose:D.default.func},v.defaultProps={theme:"default"},g=b))||g)||g)||g);t.default=V;t.JobShare=(y=(0,U.decorator)({jobData:(0,L.state)(x),loginUser:(0,L.state)(I),publicPath:(0,L.state)(R),currentHost:(0,L.state)(N),openWeChatShareDialog:(0,L.signal)(T)}),w=(0,B.default)(q.default),j=(0,F.default)(K.default),y(E=w(E=j((C=k=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,z.default),O(t,[{key:"render",value:function(){var e=this.props,t=e.currentHost,n=e.publicPath,a=e.jobData,o=a.id,r=a.title,i=a.status,s=e.loginUser,l=e.openWeChatShareDialog,c=e.onClose,u=s&&s.name||this.__("someone"),d="published"===i,p=n+"assets/styles/i/unity-logo-only.png",f=encodeURIComponent("https://"+t+"/jobs/"+o),m=encodeURIComponent(this.__("checkout_job_at",{name:u,title:r,url:"https://"+t+"/jobs/"+o})),h=encodeURIComponent(""+r),_="https://www.facebook.com/sharer/sharer.php?u="+f,g="https://twitter.com/intent/tweet?text="+m+"&source=webclient",v="https://www.linkedin.com/shareArticle?url="+f+"&title="+h+"&summary="+m,b="https://www.pinterest.com/pin/create/button/?url="+f+"&description="+h+"&media="+p,y="https://www.reddit.com/submit?title="+h+"&url="+f,w=o+"_little";return A.default.createElement(G,{facebookUrl:_,twitterUrl:g,linkedinUrl:v,pinterestUrl:b,redditUrl:y,wechatKey:w,id:o,published:d,theme:"little",wechatShareType:"job",openWeChatShareDialog:l,onClose:c})}}]),t}(),k.propTypes={jobData:D.default.object,loginUser:D.default.object,publicPath:D.default.string,currentHost:D.default.string,openWeChatShareDialog:D.default.func,onClose:D.default.func},E=C))||E)||E)||E)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["project.projectData"],["project.projectData"]),_=s(["project.skillMap"],["project.skillMap"]),g=s(["report.open"],["report.open"]),v=a(n(2)),b=a(n(1)),y=a(n(3)),w=n(5),j=n(0),E=a(n(4)),k=a(n(912)),C=a(n(6)),O=a(n(913)),P=(l=(0,w.decorator)({projectData:(0,j.state)(h),skillMap:(0,j.state)(_),reportOpen:(0,j.signal)(g)}),c=(0,E.default)(k.default),u=(0,C.default)(O.default),l(d=c(d=u((f=p=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,y.default),m(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.projectData,a=t.skillMap,o=t.reportOpen,r=n||{},i=r.id,s=r.skillIds,l=(void 0===s?[]:s).map(function(t){return b.default.createElement("a",{key:t,className:e.ss("tag"),href:"/p?k="+encodeURIComponent(JSON.stringify(["s:"+t]))},a&&a[t].name)});return b.default.createElement("div",{className:this.ss("tags-wrapper")},b.default.createElement("div",{className:this.ss("tags")},this.__("tags"),l),b.default.createElement("button",{className:this.ss("report"),onClick:function(){return o({itemId:i,itemType:"project"})}},b.default.createElement("div",{className:this.ss("icon","ifont","ifont-icons-flag")}),this.__("report")))}}]),t}(),p.propTypes={projectData:v.default.object,skillMap:v.default.object,reportOpen:v.default.func},d=f))||d)||d)||d);t.default=P},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),m=s(["project.projectData"],["project.projectData"]),h=s(["project.like"],["project.like"]),_=s(["project.rating"],["project.rating"]),g=s(["loginUser"],["loginUser"]),v=s(["project.toggleLike"],["project.toggleLike"]),b=s(["project.doRating"],["project.doRating"]),y=a(n(2)),w=a(n(1)),j=a(n(3)),E=n(5),k=n(0),C=n(11),O=a(n(4)),P=a(n(914)),S=(l=(0,E.decorator)({projectData:(0,k.state)(m),like:(0,k.state)(h),rating:(0,k.state)(_),loginUser:(0,k.state)(g),toggleLike:(0,k.signal)(v),doRating:(0,k.signal)(b)}),c=(0,O.default)(P.default),l(u=c((p=d=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={},i=n,r(a,i)}return i(t,j.default),f(t,[{key:"onLike",value:function(){var e=this.props,t=e.loginUser,n=e.projectData,a=e.toggleLike,o=e.like,r=(t||{}).id,i=n||{},s=i.userId,l=i.publishedTime;!o&&l&&r!==s&&(this.setState({clicked:!0}),a())}},{key:"onRating",value:function(e){(0,this.props.doRating)({rating:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.projectData,a=t.like,o=(n||{}).likeCount,r=this.state.clicked;return w.default.createElement("div",{className:this.ss("like-wrapper")},w.default.createElement("div",{className:this.ss("like-animation",r&&"clicked-animation")},w.default.createElement("div",{className:this.ss("like-outer-space")},w.default.createElement("button",{className:this.ss("like",a?"active":"not-active"),onClick:function(){return e.onLike()}},w.default.createElement("div",{className:this.ss("inner")},w.default.createElement("div",{className:this.ss("icon-like","ifont","ifont-icons-like")}),(0,C.formatNumber)(o)))),w.default.createElement("div",{className:this.ss("lines-wrapper",!r&&"hide")},w.default.createElement("div",{className:this.ss("lines")},w.default.createElement("div",{className:this.ss("line-degree-0")}),w.default.createElement("div",{className:this.ss("line-degree-45")}),w.default.createElement("div",{className:this.ss("line-degree-90")}),w.default.createElement("div",{className:this.ss("line-degree-135")})))))}}]),t}(),d.propTypes={projectData:y.default.object,like:y.default.bool,rating:y.default.number,loginUser:y.default.object,toggleLike:y.default.func,doRating:y.default.func},u=p))||u)||u);t.default=S},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["project.edit"],["project.edit"]),_=s(["loginUser"],["loginUser"]),g=s(["project.like"],["project.like"]),v=s(["project.projectData"],["project.projectData"]),b=s(["project.toggleLike"],["project.toggleLike"]),y=a(n(2)),w=a(n(1)),j=n(5),E=n(0),k=a(n(3)),C=n(11),O=a(n(24)),P=a(n(4)),S=a(n(915)),N=a(n(6)),M=a(n(916)),T=(l=(0,j.decorator)({edit:(0,E.state)(h),loginUser:(0,E.state)(_),like:(0,E.state)(g),projectData:(0,E.state)(v),toggleLike:(0,E.signal)(b)}),c=(0,P.default)(S.default),u=(0,N.default)(M.default),l(d=c(d=u((f=p=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,k.default),m(t,[{key:"componentDidMount",value:function(){this.onUpdateLike(this.props),this.onUpdateView(this.props)}},{key:"componentWillReceiveProps",value:function(e){var t=e.like,n=e.projectData.commentCount;t!==this.props.like&&this.onUpdateLike(e),n!==this.props.projectData.commentCount&&this.onUpdateComment(e)}},{key:"onUpdateLike",value:function(e){var t=e.like,n=e.projectData,a=n.id,o=n.likeCount,r=e.onUpdate;r&&r({id:a,type:"like",value:t,count:o})}},{key:"onUpdateView",value:function(e){var t=e.projectData,n=t.id,a=t.viewCount,o=e.onUpdate;o&&o({id:n,type:"view",value:!0,count:a})}},{key:"onUpdateComment",value:function(e){var t=e.projectData,n=t.id,a=t.commentCount,o=e.onUpdate;o&&o({id:n,type:"comment",value:!0,count:a})}},{key:"onLike",value:function(e){(0,C.pauseEvent)(e);var t=this.props,n=t.loginUser,a=t.projectData,o=t.toggleLike,r=(n||{}).id,i=(a||{}).userId;r&&r===i||o()}},{key:"onComment",value:function(){this.props.onComment&&this.props.onComment()}},{key:"render",value:function(){var e=this,t=this.props,n=t.projectData,a=t.like,o=n||{},r=o.viewCount,i=o.likeCount,s=o.commentCount,l=o.type,c=(0,C.formatNumber)(r),u=(0,C.formatNumber)(i),d=(0,C.formatNumber)(s);return w.default.createElement("div",{className:this.ss("statistics",l)},w.default.createElement("div",{className:this.ss("views")},w.default.createElement(O.default,{text:this.__("view_hint",{n:r}),position:"top"},w.default.createElement("div",{className:this.ss("inner")},w.default.createElement("div",{className:this.ss("icon","ifont","ifont-icons-open-eye")}),c))),w.default.createElement("div",{className:this.ss("likes",a&&"active")},w.default.createElement(O.default,{text:this.__("like_hint",{n:i}),position:"top"},w.default.createElement("div",{className:this.ss("inner"),onClick:function(t){return!a&&e.onLike(t)}},w.default.createElement("div",{className:this.ss("icon","ifont","ifont-icons-like")}),u))),w.default.createElement("div",{className:this.ss("comments")},w.default.createElement(O.default,{text:this.__("comment_hint",{n:s}),position:"top"},w.default.createElement("div",{className:this.ss("inner"),onClick:function(){return e.onComment()}},w.default.createElement("div",{className:this.ss("icon","ifont","ifont-icons-comment")}),d))))}}]),t}(),p.propTypes={edit:y.default.bool,like:y.default.bool,loginUser:y.default.object,projectData:y.default.object,toggleLike:y.default.func,onComment:y.default.func,onUpdate:y.default.func},d=f))||d)||d)||d);t.default=T},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u,d,p,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),m=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["project.projectData"],["project.projectData"]),h=a(n(2)),_=a(n(1)),g=a(n(3)),v=n(5),b=n(0),y=n(11),w=a(n(4)),j=a(n(917)),E=a(n(6)),k=a(n(918)),C=(s=(0,v.decorator)({projectData:(0,b.state)(m)}),l=(0,w.default)(j.default),c=(0,E.default)(k.default),s(u=l(u=c((p=d=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,g.default),f(t,[{key:"render",value:function(){var e=this.props.projectData.websiteUrl;return e?_.default.createElement("div",{className:this.ss("website")},this.__("website"),_.default.createElement("a",{className:this.ss("link"),href:(0,y.buildOutWebsiteUrl)(e),rel:"nofollow",target:"_blank"},e)):null}}]),t}(),d.propTypes={projectData:h.default.object},u=p))||u)||u)||u);t.default=C},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["project.edit"],["project.edit"]),_=s(["project.projectData"],["project.projectData"]),g=s(["project.isMWU"],["project.isMWU"]),v=s(["project.challenge"],["project.challenge"]),b=a(n(2)),y=a(n(1)),w=a(n(3)),j=n(5),E=n(0),k=a(n(4)),C=a(n(919)),O=a(n(6)),P=a(n(920)),S=(l=(0,j.decorator)({edit:(0,E.state)(h),projectData:(0,E.state)(_),isMWU:(0,E.state)(g),challenge:(0,E.state)(v)}),c=(0,k.default)(C.default),u=(0,O.default)(P.default),l(d=c(d=u((f=p=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,w.default),m(t,[{key:"getTimeByProject",value:function(e){var t=e||{},n=t.published,a=t.publishedTime,o=t.lastPublishedTime,r=t.draftTime;return n?o!==a?this.__("updated_time",{time:o}):this.__("publish_time",{time:a}):this.__("saved_time",{time:r})}},{key:"render",value:function(){var e=this.props,t=e.projectData,n=e.edit,a=e.isMWU,o=e.challenge,r=t||{},i=r.id,s=r.slug,l=r.type,c=[y.default.createElement("div",{key:"divider",className:this.ss("divider")},"-"),y.default.createElement("a",{key:"edit",className:this.ss("edit"),href:"/p/"+(s||i)+"/edit"},this.__("edit"))],u=n;return o&&o.isUnderReview&&(u=!1),y.default.createElement("div",{className:this.ss("publish-time",l)},y.default.createElement("div",{className:this.ss("icon","ifont","ifont-icons-time")}),y.default.createElement("div",{className:this.ss("time")},this.getTimeByProject(t)),u&&c,a&&y.default.createElement("div",{className:this.ss("icon-mwu","ifont","ifont-icons-mwu")}))}}]),t}(),p.propTypes={edit:b.default.bool,projectData:b.default.object,isMWU:b.default.bool,challenge:b.default.object},d=f))||d)||d)||d);t.default=S},function(e,t){e.exports={container:"container_1jacuxI3"}},function(e,t){e.exports={label_name:"label_name_1z_z",admin:"admin_2r83",moderator:"moderator_moeW",staff:"staff_-63S"}},function(e,t){e.exports={statusBar:"statusBar_284yD1_g",searchInProgress:"searchInProgress_glYpjHcR",more:"more_2AyTuBWo",loading:"loading_P46rnZ1H",livehelp:"livehelp_2Ug3Q1nu","loading-text":"loading-text_1BybrYfj",post:"post_rvDOd4-O",flex:"flex_25UUnuqF"}},function(e,t){e.exports={more:"more_3Uxl",view_more:"view_more_1Qkl",loading_text:"loading_text_2i6A"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m,h,_,g,v=function(){function e(e,t){var n=[],a=!0,o=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){o=!0,r=e}finally{try{!a&&s.return&&s.return()}finally{if(o)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),y=s(["header.popoutsTicks"],["header.popoutsTicks"]),w=s(["header.popouts"],["header.popouts"]),j=a(n(2)),E=a(n(1)),k=a(n(3)),C=n(18),O=n(5),P=n(0),S=n(23),N=a(n(22)),M=a(n(147)),T=a(n(4)),x=a(n(271)),I=S.presets.noWobble,R=["top","right","bottom","left"],D=["0","-1","1"],A=(l=(0,O.decorator)({popoutsTicks:(0,P.state)(y)}),c=(0,T.default)(x.default),l(u=c((p=d=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,k.default),b(t,[{key:"componentWillMount",value:function(){var e=M.default.get(this.props.popout.popoutElementId);"function"==typeof e&&(e=e(this.props.popout.id)),this.setState({popoutElement:e,popoutStyle:{}})}},{key:"componentDidMount",value:function(){var e=this;this._handleClick=function(t){return e.handleClick(t)},window.addEventListener("click",this._handleClick,!0),this.updatePosition()}},{key:"componentWillReceiveProps",value:function(){var e=M.default.get(this.props.popout.popoutElementId);"function"==typeof e&&(e=e(this.props.popout.id)),this.setState({popoutElement:e})}},{key:"componentDidUpdate",value:function(e){this.props!==e&&this.updatePosition()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this._handleClick,!0)}},{key:"getPosParam",value:function(e){var t=e.width,n=e.height,a=[[t/2,0,-50,-100,0,-1],[t,0,-100,-100,0,-1],[0,0,0,-100,0,-1],[t,n/2,0,-50,1,0],[t,n,0,-100,1,0],[t,0,0,0,1,0],[t/2,n,-50,0,0,1],[0,n,0,0,0,1],[t,n,-100,0,0,1],[0,n/2,-100,-50,-1,0],[0,0,-100,0,-1,0],[0,n,-100,-100,-1,0]],o=this.props.popout,r=R.findIndex(function(e){return e===o.pos}),i=D.findIndex(function(e){return e===o.align});return a[r*D.length+i]}},{key:"updatePosition",value:function(){var e=this.props,t=e.popout,n=e.progress,a=this.getPosParam({width:t.targetWidth,height:t.targetHeight}),o=v(a,4),r=o[0],i=o[1],s=o[2],l=o[3],c=a[4],u=a[5];r+=t.left,i+=t.top,s+=n/100*5*c,l+=n/100*5*u,this.setState({popoutStyle:{left:r,top:i,transform:"translate3d("+s+"%, "+l+"%, 0)"}})}},{key:"handleClick",value:function(e){var t=this;(0,C.ClickOutside)(e,this.refs.popout,function(){t.popoutClose()})}},{key:"popoutClose",value:function(){var e=this.props,t=e.popout;e.signals.header.popoutClose({id:t.id})}},{key:"render",value:function(){var e=this.props.popout,t=this.state,n=t.popoutElement,a=t.popoutStyle;return n?E.default.createElement("div",{ref:"popout",className:this.ss("popout"),style:a},E.default.cloneElement(n,{popoutId:e.id})):null}}]),t}(),d.propTypes={popout:j.default.object.isRequired,progress:j.default.number.isRequired,signals:j.default.object.isRequired},u=p))||u)||u),U=(f=(0,O.decorator)({popouts:(0,P.state)(w)}),m=(0,T.default)(x.default),f(h=m((g=_=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,k.default),b(t,[{key:"willEnter",value:function(){return{progress:100}}},{key:"render",value:function(){var e=this,t=this.props.popouts,n=N.default.map(t,function(e){return{key:e.id,style:{progress:(0,S.spring)(0,I)},data:e}});return E.default.createElement(S.TransitionMotion,{styles:n,willEnter:this.willEnter},function(t){return E.default.createElement("div",{className:e.ss("popouts")},t.map(function(e){var t=e.style,n=e.data;return E.default.createElement(A,{key:n.id,popout:n,progress:t.progress})}))})}}]),t}(),_.propTypes={popouts:j.default.object.isRequired},h=g))||h)||h);t.default=U},function(e,t){e.exports={popouts:"popouts_13qiuyRV",popout:"popout_3pgNn4Cr"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),_=s(["notification.status"],["notification.status"]),g=s(["notification.firstLoad"],["notification.firstLoad"]),v=s(["notification.page"],["notification.page"]),b=s(["notification.pageTotal"],["notification.pageTotal"]),y=s(["notification.results"],["notification.results"]),w=s(["notification.processStatus"],["notification.processStatus"]),j=s(["currentHost"],["currentHost"]),E=s(["notification.setRead"],["notification.setRead"]),k=a(n(2)),C=a(n(1)),O=n(5),P=n(0),S=n(23),N=a(n(3)),M=n(7),T=a(n(50)),x=a(n(4)),I=a(n(273)),R=n(6),D=a(R),A=a(n(274)),U=a(n(117)),L=a(n(118)),z=S.presets.noWobble,W=(l=(0,O.decorator)({status:(0,P.state)(_),firstLoad:(0,P.state)(g),page:(0,P.state)(v),pageTotal:(0,P.state)(b),results:(0,P.state)(y),processStatus:(0,P.state)(w),currentHost:(0,P.state)(j),setRead:(0,P.signal)(E)}),c=(0,x.default)(I.default),u=(0,D.default)(A.default),l(d=c(d=u((f=p=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,N.default),h(t,[{key:"onNotificationItemClick",value:function(e,t,n,a){if(""===n)return this.props.setRead({id:t}),void e.stopPropagation();n+=(n.indexOf("?")>-1?"&":"?")+"_nid="+t,"proposal_approved"!==a&&"invitation_accepted"!==a||(n+="#messages"),window.location.href=n}},{key:"isEnd",value:function(){var e=this.props;return e.page>=e.pageTotal}},{key:"notificationsTranslate",value:function(e){var t=this,n=[],a=this.props.currentHost;return!e||e.length<=0?n:(e.forEach(function(e){var o=e.type,r=m({},e.data),i=r.role,s=r.isAdmin,l=(0,L.default)(o,i,r);r&&r.questionType&&(r.questionType=(0,R.i18n)(t.context,U.default,r.questionType)),o.startsWith("ods")&&(l=(0,T.default)(l,a));var c=(0,R.i18n)(t.context,U.default,o+"_"+i+(s?"_admin":"")+"_text",r);n.push({id:e.id,read:e.read,type:e.type,href:l,text:c,createdTime:e.createdTime})}),n)}},{key:"prepareList",value:function(e){var t=this,n=[{index:0,exp:function(e){var n=t.moment(e).hours(0).minutes(0).seconds(0);return t.moment().hours(0).minutes(0).seconds(0).diff(n,"days")<=0},text:"",items:[]},{index:1,exp:function(e){var n=t.moment(e).hours(0).minutes(0).seconds(0);return 1===t.moment().hours(0).minutes(0).seconds(0).diff(n,"days")},text:"time_yesterday",items:[]},{index:2,exp:function(){return!0},text:"time_more",items:[]}];this.notificationsTranslate(e).forEach(function(e){for(var a=0;a<n.length;a++){var o=n[a];if(o.exp(e.createdTime)){o.items.push(t.renderItem(e,0===o.items.length&&0!==a?o.text:void 0));break}}});var a=[];return n.forEach(function(e,n){e.items.length>0?a=a.concat(e.items):0===n&&a.push(t.renderEmptyItem())}),a}},{key:"renderList",value:function(){var e=this.props,t=e.results,n=void 0===t?[]:t,a=e.firstLoad,o=[];return n.length>0&&(o=this.prepareList(n)),o.push(this.renderStatus()),a||0!==n.length||(o=C.default.createElement("div",{key:"noData",className:this.ss("footer")},this.__("no_data"))),C.default.createElement("div",{className:this.ss("list")},o)}},{key:"renderItem",value:function(e,t){var n=this,a=t&&C.default.createElement("div",{className:this.ss("item-date")},C.default.createElement("span",{className:this.ss("item-date-c")},C.default.createElement("div",{className:this.ss("item-date-txt")},this.__(t))));return C.default.createElement("a",{key:e.id,className:this.ss("item",e.read&&"read"),onClick:function(t){return n.onNotificationItemClick(t,e.id,e.href,e.type)}},C.default.createElement("div",{className:this.ss("item-icon")}),C.default.createElement("div",{className:this.ss("item-context")},C.default.createElement("div",{className:this.ss("item-context-txt")},e.text),C.default.createElement("div",{className:this.ss("item-context-time")},this.__("created_time",{time:e.createdTime}))),a)}},{key:"renderEmptyItem",value:function(){return C.default.createElement("div",{key:"emptyItem",className:this.ss("item")},C.default.createElement("div",{className:this.ss("item-empty")},this.__("time_today_no")))}},{key:"renderStatus",value:function(){var e=this,t=this.props,n=t.firstLoad,a=t.processStatus;if(!n&&this.isEnd())return null;var o=(0,M.isLoading)(a);return C.default.createElement("div",{key:"status",className:this.ss("footer")},C.default.createElement(S.Motion,{defaultStyle:{opacity:0},style:{opacity:(0,S.spring)(o?1:0,z)}},function(t){var n=t.opacity;return n<.01?null:C.default.createElement("span",{className:e.ss("loading"),style:{opacity:n}})}))}},{key:"render",value:function(){return this.renderList()}}]),t}(),p.propTypes={status:k.default.bool.isRequired,firstLoad:k.default.bool.isRequired,page:k.default.number.isRequired,pageTotal:k.default.number.isRequired,results:k.default.array.isRequired,processStatus:k.default.string,currentHost:k.default.string,setRead:k.default.func},d=f))||d)||d)||d);t.default=W},function(e,t){e.exports={list:"list_1yIQJCam",item:"item_1dIrve2T",read:"read_2N4_CpeK","item-icon":"item-icon_3A445R0s","item-context":"item-context_1dk8R68r","item-context-txt":"item-context-txt_2iMi8wJy","item-context-time":"item-context-time_2afeiy45","item-empty":"item-empty_1ujn7Jo8","item-date":"item-date_2EL98Uoq","item-date-c":"item-date-c_3B2wEJR6","item-date-txt":"item-date-txt_1yYMhsA-",footer:"footer_2TOpPjmG",loading:"loading_1TN53ZFk","animation-loading":"animation-loading_Y6x4PnF9"}},function(e,t){e.exports={no_data:"no_data_3fC_",created_time:"created_time_3rPJ",time_today_no:"time_today_no_1es6",time_yesterday:"time_yesterday_1T-G",time_more:"time_more_G5SY"}},function(e,t){e.exports={"notifications-wrap":"notifications-wrap_3lVlA8zK",open:"open_zhGWBB1Q",notifications:"notifications_2KFSgZqj",header:"header_2Y0cmdbC",title:"title_eifgW-1U","title-txt":"title-txt_3prGJdAM",count:"count_zWPbNn2B","make-all":"make-all_1UI_Wxv4","icon-button":"icon-button_1lVMKQfH","make-all-btn":"make-all-btn_2lA6Lh0C"}},function(e,t){e.exports={title:"title_32Mz",tooltip_make_all:"tooltip_make_all_3-HP"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u,d,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["header.inPageNotification"],["header.inPageNotification"]),m=a(n(2)),h=a(n(1)),_=a(n(3)),g=a(n(278)),v=a(n(280)),b=a(n(283)),y=n(5),w=n(0),j=a(n(4)),E=a(n(286)),k=(s=(0,y.decorator)({inPageNotification:(0,w.state)(f)}),l=(0,j.default)(E.default),s(c=l((d=u=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,_.default),p(t,[{key:"renderItems",value:function(){var e=this.props.inPageNotification,t=g.default;return e[0]?("ods_request_received"===e[0].type?t=v.default:"ods_session_upcoming"===e[0].type&&(t=b.default),h.default.createElement(t,{key:e[0].id,bind:e[0]})):h.default.createElement("noscript",null)}},{key:"render",value:function(){return h.default.createElement("div",{className:this.ss("anchor")},this.renderItems())}}]),t}(),u.propTypes={inPageNotification:m.default.arrayOf(m.default.shape({id:m.default.string.isRequired}))},c=d))||c)||c);t.default=k},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),m=s(["header.requestInPageNotificationShow"],["header.requestInPageNotificationShow"]),h=s(["header.requestInPageNotificationHide"],["header.requestInPageNotificationHide"]),_=s(["header.requestInPageNotificationToRemove"],["header.requestInPageNotificationToRemove"]),g=s(["header.requestInPageNotificationRemove"],["header.requestInPageNotificationRemove"]),v=a(n(2)),b=a(n(1)),y=a(n(3)),w=n(5),j=n(0),E=a(n(4)),k=a(n(279)),C=(l=(0,w.decorator)({requestInPageNotificationShow:(0,j.signal)(m),requestInPageNotificationHide:(0,j.signal)(h),requestInPageNotificationToRemove:(0,j.signal)(_),requestInPageNotificationRemove:(0,j.signal)(g)}),c=(0,E.default)(k.default),l(u=c((p=d=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,y.default),f(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.bind.id;setTimeout(function(){e._mounted&&(e.props.requestInPageNotificationShow({id:t}),e.hideTimeoutId=setTimeout(function(){e._mounted&&e.props.requestInPageNotificationHide({id:t})},1e4))}),this._mounted=!0}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"onTransitionEnd",value:function(){var e=this,t=this.props.bind,n=t.show,a=t.toRemove,o=t.id;n||a?!n&&a&&setTimeout(function(){e._mounted&&e.props.requestInPageNotificationRemove({id:o})}):setTimeout(function(){e._mounted&&e.props.requestInPageNotificationToRemove({id:o})})}},{key:"onMouseEnter",value:function(){window.clearTimeout(this.hideTimeoutId)}},{key:"onMouseLeave",value:function(){var e=this;if(!this.clickToClose){var t=this.props.bind.id;this.hideTimeoutId=setTimeout(function(){e._mounted&&e.props.requestInPageNotificationHide({id:t})},1e4)}}},{key:"onCloseBtnClick",value:function(e){var t=this;e.stopPropagation();var n=this.props.bind.id;this.clickToClose=!0,setTimeout(function(){t._mounted&&t.props.requestInPageNotificationHide({id:n})})}},{key:"render",value:function(){var e=this,t=this.props.bind,n=t.icon,a=t.body,o=t.options,r=t.show,i=t.toRemove,s=o.onClick,l=void 0;return l=r?this.ss("item-animation","show"):i?this.ss("item-animation","crush"):this.ss("item-animation"),b.default.createElement("div",{className:l,onClick:function(){return s()},onTransitionEnd:function(){return e.onTransitionEnd()},onMouseEnter:function(){return e.onMouseEnter()},onMouseLeave:function(){return e.onMouseLeave()}},b.default.createElement("div",{className:this.ss("item")},b.default.createElement("div",{className:this.ss("ifont","ifont-icon-close","close-btn"),onClick:function(t){return e.onCloseBtnClick(t)}}),b.default.createElement("img",{src:n,role:"presentation",className:this.ss("image")}),b.default.createElement("div",{className:this.ss("text")},a)))}}]),t}(),d.propTypes={bind:v.default.shape({id:v.default.string,icon:v.default.string,body:v.default.string,options:v.default.shape({onClick:v.default.func}),show:v.default.bool,toRemove:v.default.bool}).isRequired,requestInPageNotificationShow:v.default.func.isRequired,requestInPageNotificationHide:v.default.func.isRequired,requestInPageNotificationToRemove:v.default.func.isRequired,requestInPageNotificationRemove:v.default.func.isRequired},u=p))||u)||u);t.default=C},function(e,t){e.exports={"item-animation":"item-animation_2CsgFSF-",item:"item_2l65CHva","close-btn":"close-btn_2tCn3dVr",show:"show_342o-JpK",crush:"crush_1q4VdRJO",image:"image_3Qf5yY3v",text:"text_XVlAfWCp"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["header.acceptRequestStatus"],["header.acceptRequestStatus"]),_=s(["header.declineRequestStatus"],["header.declineRequestStatus"]),g=s(["header.requestInPageNotificationShow"],["header.requestInPageNotificationShow"]),v=s(["header.requestInPageNotificationHide"],["header.requestInPageNotificationHide"]),b=s(["header.requestInPageNotificationToRemove"],["header.requestInPageNotificationToRemove"]),y=s(["header.requestInPageNotificationRemove"],["header.requestInPageNotificationRemove"]),w=s(["header.acceptRequest"],["header.acceptRequest"]),j=s(["header.declineRequest"],["header.declineRequest"]),E=a(n(2)),k=a(n(1)),C=a(n(3)),O=n(5),P=n(0),S=a(n(16)),N=a(n(13)),M=n(7),T=a(n(54)),x=a(n(4)),I=a(n(281)),R=a(n(6)),D=a(n(282)),A=(l=(0,O.decorator)({acceptRequestStatus:(0,P.state)(h),declineRequestStatus:(0,P.state)(_),requestInPageNotificationShow:(0,P.signal)(g),requestInPageNotificationHide:(0,P.signal)(v),requestInPageNotificationToRemove:(0,P.signal)(b),requestInPageNotificationRemove:(0,P.signal)(y),acceptRequest:(0,P.signal)(w),declineRequest:(0,P.signal)(j)}),c=(0,x.default)(I.default),u=(0,R.default)(D.default),l(d=c(d=u((f=p=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,C.default),m(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.bind.id;setTimeout(function(){e._mounted&&(e.props.requestInPageNotificationShow({id:t}),e.hideTimeoutId=setTimeout(function(){e._mounted&&e.props.requestInPageNotificationHide({id:t})},1e4))}),this._mounted=!0}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"onTransitionEnd",value:function(){var e=this,t=this.props.bind,n=t.show,a=t.toRemove,o=t.id;n||a?!n&&a&&setTimeout(function(){e._mounted&&e.props.requestInPageNotificationRemove({id:o})}):setTimeout(function(){e._mounted&&e.props.requestInPageNotificationToRemove({id:o})})}},{key:"onMouseEnter",value:function(){window.clearTimeout(this.hideTimeoutId)}},{key:"onMouseLeave",value:function(){var e=this;if(!this.clickToClose){var t=this.props.bind.id;this.hideTimeoutId=setTimeout(function(){e._mounted&&e.props.requestInPageNotificationHide({id:t})},1e4)}}},{key:"onCloseBtnClick",value:function(e){var t=this;e.stopPropagation();var n=this.props.bind.id;this.clickToClose=!0,setTimeout(function(){t._mounted&&t.props.requestInPageNotificationHide({id:n})})}},{key:"renderButtons",value:function(e,t,n,a){var o=this.props,r=o.bind.id,i=o.acceptRequestStatus,s=o.declineRequestStatus,l=o.acceptRequest,c=o.declineRequest,u=(0,M.isLoadingOrSucceeded)(s[e]),d=(0,M.isLoadingOrSucceeded)(i[e]);return"fixed_later"===a?k.default.createElement("div",{className:this.ss("buttons")},k.default.createElement(N.default,{label:this.__("view"),theme:"blue",size:"xsmall",loading:d,onClick:function(){return(0,T.default)("/guru?status=accepted")}})):k.default.createElement("div",{className:this.ss("buttons")},k.default.createElement(N.default,{label:this.__("decline"),size:"xsmall",loading:u,onClick:function(){return c({id:e,questionId:t,popupId:r})}}),k.default.createElement(N.default,{label:this.__("accept"),theme:"blue",size:"xsmall",loading:d,onClick:function(){return l({id:e,questionId:t,popupId:r,questionType:n,payMode:a})}}))}},{key:"render",value:function(){var e=this,t=this.props.bind,n=t.show,a=t.data,o=t.toRemove,r=void 0;r=n?this.ss("item-animation","show"):o?this.ss("item-animation","crush"):this.ss("item-animation");var i=a.budget,s=a.fullName,l=a.avatar,c=a.skillIds,u=a.skillMap,d=a.title,p=a.questionType,f=a.requestId,m=a.questionId,h=a.payMode,_=c.map(function(t){return k.default.createElement("div",{key:t,className:e.ss("tag")},u[t].name)}),g="fixed_later"===h?this.__("total_budget",{budget:i}):this.__("budget",{budget:i});return k.default.createElement("div",{className:r,onTransitionEnd:function(){return e.onTransitionEnd()},onMouseEnter:function(){return e.onMouseEnter()},onMouseLeave:function(){return e.onMouseLeave()}},k.default.createElement("div",{className:this.ss("item")},k.default.createElement("div",{className:this.ss("ifont","ifont-icon-close2","close-btn"),onClick:function(t){return e.onCloseBtnClick(t)}}),k.default.createElement("div",{className:this.ss("head-wrapper")},k.default.createElement(S.default,{user:{fullName:s,avatar:l},size:"xxxsmall"}),k.default.createElement("div",{className:this.ss("title")},this.__("live_help_request_from",{fullName:s})),k.default.createElement("div",{className:this.ss("type",p)},this.__(p))),k.default.createElement("div",{className:this.ss("description")},d),k.default.createElement("div",{className:this.ss("tags")},_),k.default.createElement("div",{className:this.ss("bottom")},k.default.createElement("div",{className:this.ss("budget")},g),this.renderButtons(f,m,p,h))))}}]),t}(),p.propTypes={bind:E.default.shape({id:E.default.string,data:E.default.object,show:E.default.bool,toRemove:E.default.bool}).isRequired,acceptRequestStatus:E.default.object,declineRequestStatus:E.default.object,requestInPageNotificationShow:E.default.func.isRequired,requestInPageNotificationHide:E.default.func.isRequired,requestInPageNotificationToRemove:E.default.func.isRequired,requestInPageNotificationRemove:E.default.func.isRequired,acceptRequest:E.default.func.isRequired,declineRequest:E.default.func.isRequired},d=f))||d)||d)||d);t.default=A},function(e,t){e.exports={"item-animation":"item-animation_1grrVr6e",item:"item_FbNl2u2p","close-btn":"close-btn_3BRPLDQu",show:"show_290L9IJn",crush:"crush_3gsgE987","head-wrapper":"head-wrapper_1F7HcwUp",title:"title_vn8Crnsf",type:"type_2iZBNUP-",realtime:"realtime_1Nn60e7b",schedule:"schedule_2UIKW_L2",description:"description_1HoxuI6F",tags:"tags_1geBwEza",tag:"tag_p4-B0pSn",bottom:"bottom_sUVp2SWR",budget:"budget_bLNigxCw",buttons:"buttons_1rHeG738"}},function(e,t){e.exports={live_help_request_from:"live_help_request_from_36hk",realtime:"realtime_aAEm",schedule:"schedule_2R9g",budget:"budget_1rpj",decline:"decline_21VW",accept:"accept_3Yvj",view:"view_WORU",total_budget:"total_budget_1c1E"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["header.requestInPageNotificationShow"],["header.requestInPageNotificationShow"]),_=s(["header.requestInPageNotificationHide"],["header.requestInPageNotificationHide"]),g=s(["header.requestInPageNotificationToRemove"],["header.requestInPageNotificationToRemove"]),v=s(["header.requestInPageNotificationRemove"],["header.requestInPageNotificationRemove"]),b=a(n(2)),y=a(n(1)),w=a(n(3)),j=n(5),E=n(0),k=a(n(13)),C=a(n(54)),O=a(n(4)),P=a(n(284)),S=a(n(6)),N=a(n(285)),M=(l=(0,j.decorator)({requestInPageNotificationShow:(0,E.signal)(h),requestInPageNotificationHide:(0,E.signal)(_),requestInPageNotificationToRemove:(0,E.signal)(g),requestInPageNotificationRemove:(0,E.signal)(v)}),c=(0,O.default)(P.default),u=(0,S.default)(N.default),l(d=c(d=u((f=p=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,w.default),m(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.bind.id;setTimeout(function(){e._mounted&&(e.props.requestInPageNotificationShow({id:t}),e.hideTimeoutId=setTimeout(function(){e._mounted&&e.props.requestInPageNotificationHide({id:t})},1e4))}),this._mounted=!0}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"onTransitionEnd",value:function(){var e=this,t=this.props.bind,n=t.show,a=t.toRemove,o=t.id;n||a?!n&&a&&setTimeout(function(){e._mounted&&e.props.requestInPageNotificationRemove({id:o})}):setTimeout(function(){e._mounted&&e.props.requestInPageNotificationToRemove({id:o})})}},{key:"onMouseEnter",value:function(){window.clearTimeout(this.hideTimeoutId)}},{key:"onMouseLeave",value:function(){var e=this;if(!this.clickToClose){var t=this.props.bind.id;this.hideTimeoutId=setTimeout(function(){e._mounted&&e.props.requestInPageNotificationHide({id:t})},1e4)}}},{key:"onCloseBtnClick",value:function(e){var t=this;e.stopPropagation();var n=this.props.bind.id;this.clickToClose=!0,setTimeout(function(){t._mounted&&t.props.requestInPageNotificationHide({id:n})})}},{key:"renderButtons",value:function(){var e=this.props.bind.data,t=e.questionId,n="client"===e.role?"/client/requests?status=ongoing":"/guru",a="/workspace/"+t;return y.default.createElement("div",{className:this.ss("buttons")},y.default.createElement(k.default,{label:this.__("view_detail"),size:"xsmall",loading:!1,onClick:function(){return(0,C.default)(n)}}),y.default.createElement(k.default,{label:this.__("enter_workspace"),theme:"blue",size:"xsmall",loading:!1,onClick:function(){return(0,C.default)(a)}}))}},{key:"renderBottom",value:function(){var e=this.props.bind.data.sessionTime;return y.default.createElement("div",{className:this.ss("bottom")},y.default.createElement("div",{className:this.ss("icon-calender","ifont","ifont-filled-calendar")}),y.default.createElement("div",{className:this.ss("session-time")},this.__("session_time",{time:e})),this.renderButtons())}},{key:"render",value:function(){var e=this,t=this.props.bind,n=t.show,a=t.data,o=t.toRemove,r=void 0;r=n?this.ss("item-animation","show"):o?this.ss("item-animation","crush"):this.ss("item-animation");var i=a.role;return y.default.createElement("div",{className:r,onTransitionEnd:function(){return e.onTransitionEnd()},onMouseEnter:function(){return e.onMouseEnter()},onMouseLeave:function(){return e.onMouseLeave()}},y.default.createElement("div",{className:this.ss("item")},y.default.createElement("div",{className:this.ss("ifont","ifont-icon-close2","close-btn"),onClick:function(t){return e.onCloseBtnClick(t)}}),y.default.createElement("div",{className:this.ss("head-wrapper")},y.default.createElement("div",{className:this.ss("icon-reminder","ifont","ifont-filled-alarm")}),y.default.createElement("div",{className:this.ss("title")},this.__("session_start_reminder"))),y.default.createElement("div",{className:this.ss("description")},this.__("join_tips_"+i,a)),this.renderBottom()))}}]),t}(),p.propTypes={bind:b.default.shape({id:b.default.string,data:b.default.object,show:b.default.bool,toRemove:b.default.bool}).isRequired,requestInPageNotificationShow:b.default.func.isRequired,requestInPageNotificationHide:b.default.func.isRequired,requestInPageNotificationToRemove:b.default.func.isRequired,requestInPageNotificationRemove:b.default.func.isRequired},d=f))||d)||d)||d);t.default=M},function(e,t){e.exports={"item-animation":"item-animation_1_OylgIk",item:"item_29xVf28v","close-btn":"close-btn_1KuG7o-i",show:"show_25va-NWz",crush:"crush_ahTGEcXj","head-wrapper":"head-wrapper_yrfhBPVS","icon-reminder":"icon-reminder_kzy5ggVZ",title:"title_3FQlTzX8",description:"description_2TOSGGhg",bottom:"bottom_BcDVQtID","icon-calender":"icon-calender_1Gy0r0So","session-time":"session-time_3_YtZQyD",buttons:"buttons_2ZncTaau"}},function(e,t){e.exports={session_start_reminder:"session_start_reminder_1ySa",join_tips_client:"join_tips_client_oRVH",join_tips_guru:"join_tips_guru_3ZEs",session_time:"session_time_3_XH",view_detail:"view_detail_pTzv",enter_workspace:"enter_workspace_1gJB"}},function(e,t){e.exports={anchor:"anchor_2mfSIdDx"}},function(e,t){e.exports={login:"login_3i6Ldx-n","title-wrap":"title-wrap_1Bg6sImN",logo:"logo_3bjLoAX9","button-close":"button-close_3a65ZuYL","content-wrap":"content-wrap_L1s83tSJ","loading-wrap":"loading-wrap_2HiMXoKE",loading:"loading_28nWbdZ_"}},function(e,t){e.exports={title:"title_1UoH"}},function(e,t,n){e.exports=n(8)(889)},function(e,t,n){e.exports=n.p+"../styles/i/connect-logo.5c007af704a1d19d62ead25f0f7b1570.svg"},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,u,d,p,f,m,h=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),_=l(["suggest.candidate.followMap"],["suggest.candidate.followMap"]),g=l(["header.recentSearch"],["header.recentSearch"]),v=l(["header.popularSearch"],["header.popularSearch"]),b=l(["header.getRecentSearchStatus"],["header.getRecentSearchStatus"]),y=l(["header.getPopularSearchStatus"],["header.getPopularSearchStatus"]),w=l(["suggest.candidate"],["suggest.candidate"]),j=l(["header.deleteSearchLog"],["header.deleteSearchLog"]),E=l(["header.initSearchData"],["header.initSearchData"]),k=a(n(2)),C=a(n(1)),O=a(n(3)),P=n(5),S=n(0),N=a(n(19)),M=a(n(57)),T=a(n(16)),x=a(n(15)),I=n(18),R=a(n(119)),D=n(7),A=a(n(4)),U=a(n(292)),L=a(n(6)),z=a(n(67)),W=n(51),H=(c=(0,P.decorator)({followMap:(0,S.state)(_),recentSearch:(0,S.state)(g),popularSearch:(0,S.state)(v),recentSearchStatus:(0,S.state)(b),popularSearchStatus:(0,S.state)(y),candidate:(0,S.state)(w),deleteSearchLog:(0,S.signal)(j),initSearchData:(0,S.signal)(E)}),u=(0,A.default)(U.default),d=(0,L.default)(z.default),c(p=u(p=d((m=f=function(e){function t(){var e,n,a,o;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={haveInitSearchData:!1},a.renderCandidate=function(e){var t=e||{},n=t.type,o=t.name;switch(n){case"q":return C.default.createElement("li",null,C.default.createElement("div",{className:a.ss("query")},a.__("view_results_for",{name:o})));case"u":return C.default.createElement("li",null,a.renderUser(e));case"t":case"s":return C.default.createElement("li",null,a.renderItem(e));case"fullTime":case"partTime":case"internship":case"freelance":return C.default.createElement("li",null,a.renderJob(e));case"game":case"showcase":case"article":return C.default.createElement("li",null,a.renderProject(e));case"g":return C.default.createElement("li",null,a.renderGroup(e));case"c":return C.default.createElement("li",null,a.renderChannel(e));case"autocomplete":return C.default.createElement("li",null,a.renderSuggest(e));case"autocomplete_header":return C.default.createElement("li",null,C.default.createElement("div",{className:a.ss("header")},a.__("search")),a.renderSuggest(e));default:return null}},o=n,i(a,o)}return s(t,O.default),h(t,[{key:"componentDidMount",value:function(){var e=this,t=this.refs.input,n=this.refs.defaultSearch;this.removeClickOutside=(0,I.addClickOutside)([t,n],function(){e.setState({showDefaultSearch:!1})})}},{key:"componentWillUnmount",value:function(){this.removeClickOutside()}},{key:"onSelected",value:function(e){var t=e.type,n=e.text,a=e.value,o=e.id;this.setState({showDefaultSearch:!1});var r="";switch(t){case"u":r="/u/"+o;break;case"t":r="/t/"+o;break;case"fullTime":case"partTime":case"internship":case"freelance":r="/jobs/"+o;break;case"q":r="/search?k="+encodeURIComponent('["q:'+n+'"]');break;case"game":case"showcase":case"article":r="/p/"+o;break;case"g":r="/g/"+(a||o);break;case"s":r="/s/"+o;break;case"c":r="/messages/c/"+o;break;case"autocomplete":case"autocomplete_header":r="/search?k="+encodeURIComponent('["q:'+a+'"]');break;default:return}(0,N.default)(r)}},{key:"onKeyDown",value:function(e){var t=e.keyCode,n=(this.props.candidate||{}).header;13!==t||n&&0!==n.length||(0,N.default)("/search")}},{key:"onSearchBoxClick",value:function(){var e=this.state.haveInitSearchData;this.setState({showDefaultSearch:!0}),e||(this.props.initSearchData(),this.setState({haveInitSearchData:!0}))}},{key:"renderUser",value:function(e){var t=e||{},n=t.id,a=t.name,o=t.text,r=this.props.followMap;return C.default.createElement("div",{className:this.ss("candidate")},C.default.createElement(T.default,{user:e,size:"xxxsmall",shape:"circle",isFollowed:!(!r||!r[n])}),C.default.createElement("div",{className:this.ss("candidate-info")},C.default.createElement("div",{className:this.ss("name")},a),o&&C.default.createElement("div",{className:this.ss("split")}),o&&C.default.createElement("div",{className:this.ss("description")},o)))}},{key:"renderItem",value:function(e){var t=e||{},n=t.type,a=t.name;return C.default.createElement("div",{className:this.ss("candidate")},C.default.createElement(T.default,{user:e,size:"xxxsmall",shape:"square"}),C.default.createElement("div",{className:this.ss("candidate-info")},C.default.createElement("div",{className:this.ss("name")},a),C.default.createElement("div",{className:this.ss("split")}),C.default.createElement("div",{className:this.ss("description")},this.__("candidate_type_"+n))))}},{key:"renderJob",value:function(e){var t=e||{},n=t.type,a=t.value;return C.default.createElement("div",{className:this.ss("candidate")},C.default.createElement(T.default,{user:e,size:"xxxsmall",shape:"square"}),C.default.createElement("div",{className:this.ss("candidate-info")},C.default.createElement("div",{className:this.ss("name")},a),C.default.createElement("div",{className:this.ss("split")}),C.default.createElement("div",{className:this.ss("description")},this.__("candidate_type_"+n))))}},{key:"renderProject",value:function(e){var t=e||{},n=t.type,a=t.name,o=t.avatar;return C.default.createElement("div",{className:this.ss("candidate")},C.default.createElement("div",{className:this.ss("image-wrapper")},C.default.createElement(x.default,{src:o||W,alt:a,sizes:"24px",width:24,height:24})),C.default.createElement("div",{className:this.ss("candidate-info")},C.default.createElement("div",{className:this.ss("name")},a),C.default.createElement("div",{className:this.ss("split")}),C.default.createElement("div",{className:this.ss("description")},this.__("candidate_type_"+n))))}},{key:"renderGroup",value:function(e){var t=e||{},n=t.type,a=t.name,o=t.avatar;return C.default.createElement("div",{className:this.ss("candidate")},C.default.createElement("div",{className:this.ss("image-wrapper")},C.default.createElement(x.default,{src:o||W,alt:a,sizes:"24px",width:24,height:24})),C.default.createElement("div",{className:this.ss("candidate-info")},C.default.createElement("div",{className:this.ss("name")},a),C.default.createElement("div",{className:this.ss("split")}),C.default.createElement("div",{className:this.ss("description")},this.__("candidate_type_"+n))))}},{key:"renderChannelAvatar",value:function(e){return e.avatar?C.default.createElement(T.default,{user:e,size:"xxxsmall",shape:"square"}):C.default.createElement("div",{className:this.ss("lobby-avatar")},C.default.createElement("span",{className:this.ss("icon","ifont","ifont-icons-open-eye")}))}},{key:"renderChannel",value:function(e){var t=e||{},n=t.type,a=t.name,o=a.startsWith("lobby_default")?this.__(a):a;return C.default.createElement("div",{className:this.ss("candidate")},this.renderChannelAvatar(e),C.default.createElement("div",{className:this.ss("candidate-info")},C.default.createElement("div",{className:this.ss("name")},o),C.default.createElement("div",{className:this.ss("split")}),C.default.createElement("div",{className:this.ss("description")},this.__("candidate_type_"+n))))}},{key:"renderSuggest",value:function(e){var t=(e||{}).name;return C.default.createElement("div",{className:this.ss("candidate")},C.default.createElement("div",{className:this.ss("candidate-info","suggest")},C.default.createElement("div",{className:this.ss("name")},(0,R.default)(t))))}},{key:"renderRecentSearch",value:function(){var e=this,t=this.props,n=t.recentSearch,a=void 0===n?[]:n,o=t.deleteSearchLog;if(0===a.length)return null;var r=a.map(function(t){var n=t.id,a=t.keyword;return C.default.createElement("div",{key:n,className:e.ss("item")},C.default.createElement("a",{className:e.ss("link"),href:"/search?k="+encodeURIComponent('["q:'+a+'"]')},C.default.createElement("div",{className:e.ss("icon","search","ifont","ifont-material-baseline-search")}),a),C.default.createElement("a",{className:e.ss("icon","close","ifont","ifont-icon-close"),onClick:function(){return o({keyword:a})}}))});return C.default.createElement("div",{className:this.ss("group")},C.default.createElement("div",{className:this.ss("group-title")},this.__("recent_searches"),C.default.createElement("a",{className:this.ss("clear"),onClick:function(){return o({deleteAll:!0})}},this.__("clear_all"))),r)}},{key:"renderPopularSearch",value:function(){var e=this,t=this.props.popularSearch,n=void 0===t?[]:t;if(0===n.length)return null;var a=[].concat(o(n));a.length>4&&(a=a.slice(0,4));var r=a.map(function(t){var n=t.id,a=t.keyword;return C.default.createElement("a",{key:n,className:e.ss("item","popular"),href:"/search?k="+encodeURIComponent('["q:'+a+'"]')},a)});return C.default.createElement("div",{className:this.ss("group")},C.default.createElement("div",{className:this.ss("group-title")},this.__("popular_searches")),r)}},{key:"renderDefaultSearch",value:function(){var e=this.props,t=e.popularSearch,n=void 0===t?[]:t,a=e.recentSearch,o=void 0===a?[]:a,r=e.recentSearchStatus,i=e.popularSearchStatus;return this.state.showDefaultSearch?(0,D.isLoading)(r)||(0,D.isLoading)(i)?C.default.createElement("div",{ref:"defaultSearch",className:this.ss("default-search")},C.default.createElement("div",{className:this.ss("loading-wrapper")},C.default.createElement("div",{className:this.ss("loading")}))):0===n.length&&0===o.length?null:C.default.createElement("div",{ref:"defaultSearch",className:this.ss("default-search")},C.default.createElement("div",{className:this.ss("scroller")},this.renderRecentSearch(),this.renderPopularSearch())):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.hideMobileSearch,a=t.autoFocus,o=(t.candidate||{}).header,r=(void 0===o?[]:o).length-1;return C.default.createElement("div",{className:this.ss("search-wrap")},C.default.createElement("a",{className:this.ss("search-icon","ifont","ifont-material-baseline-search"),href:"/search"}),C.default.createElement(M.default,{st:"header",hintText:this.__("search_placeholder"),inputType:"single",ref:"input",addInputValue:!0,defaultIndex:r>=0?r:0,autoFocus:!!a,className:this.ss("search-box"),inputClassName:this.ss("search-input"),borderClassName:this.ss("search-border"),closeIconClassName:this.ss("close"),candidateClassName:this.ss("candidates-wrap"),activeClassName:this.ss("candidate-active"),onFocus:function(){return e.onSearchBoxClick()},onChange:function(){return e.setState({showDefaultSearch:!1})},onKeyDown:function(t){return e.onKeyDown(t)},onRenderCandidate:this.renderCandidate,onSelected:function(t){return e.onSelected(t)}}),C.default.createElement("button",{className:this.ss("mobile-button"),onClick:function(){return n&&n()}},this.__("cancel")),this.renderDefaultSearch())}}]),t}(),f.propTypes={followMap:k.default.object,recentSearch:k.default.array,recentSearchStatus:k.default.string,popularSearch:k.default.array,popularSearchStatus:k.default.string,candidate:k.default.object,autoFocus:k.default.bool,deleteSearchLog:k.default.func,hideMobileSearch:k.default.func,initSearchData:k.default.func},p=m))||p)||p)||p);t.default=H},function(e,t){e.exports={"search-wrap":"search-wrap_D0fqU9nj","search-icon":"search-icon_L61rVVxd","search-box":"search-box_1vJf_gD9","search-border":"search-border_11vujxSW","search-input":"search-input_3nLoPTQo","candidates-wrap":"candidates-wrap_nG21aKsl",active:"active_3D32M6oe",close:"close_2O9nnLYy",header:"header_3lRuFfXA",candidate:"candidate_3dAL5ENV","image-wrapper":"image-wrapper_1_CDUvLi","lobby-avatar":"lobby-avatar_2bsIZ_m9",icon:"icon_3GuJymyP","candidate-info":"candidate-info_1ujcRrbs",suggest:"suggest_2WE1JH62",name:"name_2allSzZq",split:"split_eoHfxN2A",description:"description_mE0PKcmm",query:"query_12KDLPvw","default-search":"default-search_1WePwEnL",scroller:"scroller_1kJWz2RA",group:"group__6pGhXLM","group-title":"group-title_2xNS6m9L",clear:"clear_2cObBaFs",item:"item_11u3AyI1",link:"link_1BIOcGCd",search:"search_1qTRJ4SP",popular:"popular_3DvA6Z4u","loading-wrapper":"loading-wrapper_7PK2qPso",loading:"loading_1C0VceFA",hide:"hide_2o9uDsUm","mobile-button":"mobile-button_3h5v46Lh"}},function(e,t){e.exports={drawer:"drawer_3t3udqtQ",children:"children_UyaEgFF9",right:"right_ZNamn0lh","right-hidden":"right-hidden_3unyuOup","right-hidden-inner":"right-hidden-inner_1CQU6meH"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["loginUser"],["loginUser"]),_=s(["messages.workspaces"],["messages.workspaces"]),g=s(["messages.channels"],["messages.channels"]),v=s(["messages.users"],["messages.users"]),b=s(["messages.lastMessages"],["messages.lastMessages"]),y=s(["messages.channelMembers"],["messages.channelMembers"]),w=s(["messages.readState"],["messages.readState"]),j=s(["messages.channelJobs"],["messages.channelJobs"]),E=s(["messages.channelTeams"],["messages.channelTeams"]),k=s(["messages.relationships"],["messages.relationships"]),C=s(["messages.connected"],["messages.connected"]),O=s(["header.messagesClose"],["header.messagesClose"]),P=a(n(2)),S=a(n(1)),N=a(n(3)),M=n(5),T=n(0),x=a(n(295)),I=n(18),R=n(493),D=a(n(14)),A=a(n(4)),U=a(n(300)),L=a(n(6)),z=a(n(67)),W=(l=(0,M.decorator)({loginUser:(0,T.state)(h),workspaces:(0,T.state)(_),channels:(0,T.state)(g),users:(0,T.state)(v),lastMessages:(0,T.state)(b),channelMembers:(0,T.state)(y),readState:(0,T.state)(w),channelJobs:(0,T.state)(j),channelTeams:(0,T.state)(E),relationships:(0,T.state)(k),connected:(0,T.state)(C),messagesClose:(0,T.signal)(O)}),c=(0,A.default)(U.default),u=(0,L.default)(z.default),l(d=c(d=u((f=p=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,N.default),m(t,[{key:"componentDidMount",value:function(){var e=this;this.removeClickOutside=(0,I.addClickOutside)([this,"messages-action"],function(){e.props.messagesClose()})}},{key:"componentWillUnmount",value:function(){this.removeClickOutside()}},{key:"getDefaultChannelList",value:function(){var e=this.props,t=e.channels,n=e.readState,a=e.channelJobs,o=e.relationships,r=e.loginUser;return(0,R.getDefaultChannelList)({channels:t,readState:n,channelJobs:a,relationships:o,loginUser:r})}},{key:"renderNormalContent",value:function(){var e=this,t=this.props,n=t.channelJobs,a=t.channelTeams,o=t.lastMessages,r=t.users,i=t.channelMembers,s=t.readState,l=this.getDefaultChannelList().sort(function(e,t){var n=s[e.id],a=s[t.id],o=n.lastMessageId,r=a.lastMessageId;return o<r?1:o>r?-1:0}).filter(function(e,t){return t<5}).map(function(t){var s=t.id,l=t.type,c=t.liveChannelId,u=c?o[c]:o[s];return!t.recipientId&&t.recipient&&(t.recipientId=t.recipient.id),S.default.createElement(x.default,{type:"header",channel:t,key:s||l,active:!1,usersMap:r,lastMessage:u,members:i[s],channelJob:n[s],channelTeam:a[s],channelName:e.renderChannelName(t)})});return 0===l.length?S.default.createElement("div",{className:this.ss("no-messages")},this.__("no_messages")):l}},{key:"renderChannelName",value:function(e){var t=this.props,n=t.users,a=t.channelMembers,o=t.channelJobs,r=t.loginUser;return(0,R.getChannelName)({context:this.context,users:n,channelMembers:a,channelJobs:o,loginUser:r,channel:e})}},{key:"render",value:function(){var e=void 0;return e=this.props.connected?this.renderNormalContent():S.default.createElement("div",{className:this.ss("loading")},S.default.createElement("div",{className:this.ss("loading-circle")},S.default.createElement("div",{className:this.ss("loading-circle-inner")}))),S.default.createElement("div",{className:this.ss("messages-preview")},S.default.createElement("div",{className:this.ss("pointer")}),S.default.createElement("div",{className:this.ss("cards-container")},e,S.default.createElement("a",{className:this.ss("all-messages"),target:"_blank",href:D.default.DEFAULT_URL+"/messages"},this.__("all_messages"))))}}]),t}(),p.propTypes={loginUser:P.default.object,channels:P.default.object,users:P.default.object,lastMessages:P.default.object,channelMembers:P.default.object,readState:P.default.object,channelJobs:P.default.object,channelTeams:P.default.object,relationships:P.default.object,connected:P.default.bool,workspaces:P.default.object,messagesClose:P.default.func},d=f))||d)||d)||d);t.default=W},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),_=s(["loginUser"],["loginUser"]),g=s(["messages.relationships"],["messages.relationships"]),v=s(["messages.inProgressText"],["messages.inProgressText"]),b=s(["messages.selectedChannelIds.",""],["messages.selectedChannelIds.",""]),y=s(["messages.selectedWorkspaceId"],["messages.selectedWorkspaceId"]),w=s(["messages.exploreInfo.",""],["messages.exploreInfo.",""]),j=s(["messages.showCardOptionKey"],["messages.showCardOptionKey"]),E=s(["messages.workspaces"],["messages.workspaces"]),k=s(["messages.stickChannel"],["messages.stickChannel"]),C=s(["messages.unStickChannel"],["messages.unStickChannel"]),O=s(["messages.muteChannel"],["messages.muteChannel"]),P=s(["messages.unMuteChannel"],["messages.unMuteChannel"]),S=s(["messages.leaveChannel"],["messages.leaveChannel"]),N=s(["messages.setShowCardOptionKey"],["messages.setShowCardOptionKey"]),M=s(["message_btn"],["message_btn"]),T=a(n(2)),x=a(n(1)),I=n(5),R=n(0),D=a(n(3)),A=a(n(16)),U=n(18),L=a(n(14)),z=a(n(15)),W=a(n(4)),H=a(n(296)),B=n(6),q=a(B),F=a(n(297)),K=a(n(298)),G=a(n(79)),V=/image\/(jpeg|pjpeg|gif|png)$/i,J=(l=(0,I.decorator)({loginUser:(0,R.state)(_),relationships:(0,R.state)(g),inProgressText:(0,R.state)(v),selectedChannelId:(0,R.state)(b,(0,R.state)(y)),selectedWorkspaceId:(0,R.state)(y),exploreInfo:(0,R.state)(w,(0,R.state)(y)),showCardOptionKey:(0,R.state)(j),workspaces:(0,R.state)(E),stickChannel:(0,R.signal)(k),unStickChannel:(0,R.signal)(C),muteChannel:(0,R.signal)(O),unMuteChannel:(0,R.signal)(P),leaveChannel:(0,R.signal)(S),setShowCardOptionKey:(0,R.signal)(N)}),c=(0,W.default)(H.default),u=(0,q.default)(F.default),l(d=c(d=u((f=p=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={cardHover:!1},a.handleClick=function(e){(0,U.ClickOutside)(e,a,function(){a.clearShowCardOptionKey()})},i=n,r(a,i)}return i(t,D.default),h(t,[{key:"componentDidMount",value:function(){window.addEventListener("click",this.handleClick)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.handleClick)}},{key:"onGearClick",value:function(e,t){e.stopPropagation(),(0,this.props.setShowCardOptionKey)({channelId:t})}},{key:"onCardMouseOver",value:function(){this.setState({cardHover:!0})}},{key:"onCardMouseLeave",value:function(){this.setState({cardHover:!1})}},{key:"onMsgBtnClick",value:function(e,t){e.stopPropagation(),window.sendSignalToHost&&window.sendSignalToHost("channel_selected",{channelId:t})}},{key:"getLastDayMillis",value:function(e){var t=new Date(e);return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.getTime()}},{key:"clearShowCardOptionKey",value:function(){var e=this.props,t=e.showCardOptionKey,n=e.setShowCardOptionKey;t&&n({channelId:""})}},{key:"handleStick",value:function(e){e.stopPropagation();var t=this.props,n=t.channel,a=t.stickChannel,o=t.unStickChannel;this.setState({cardHover:!1}),this.clearShowCardOptionKey(),n.stickTimestamp?o({channelId:n.id}):a({channelId:n.id})}},{key:"handleMute",value:function(e){e.stopPropagation();var t=this.props,n=t.channel,a=t.muteChannel,o=t.unMuteChannel;this.setState({cardHover:!1}),this.clearShowCardOptionKey(),n.isMute?o({channelId:n.id}):a({channelId:n.id})}},{key:"handleLeave",value:function(e){e.stopPropagation();var t=this.props,n=t.channel,a=t.leaveChannel;this.clearShowCardOptionKey(),a({channelId:n.id})}},{key:"renderThumbnail",value:function(e){var t=this.props,n=t.channel,a=t.channelJob,o=t.channelTeam,r=t.usersMap,i=t.loginUser,s=t.members,l=n.type,c=n.recipientId,u=n.thumbnail;if("direct"===l)return x.default.createElement(A.default,{user:r[c],size:"small"});if("private"===l){if(n.proposalId&&a.freelancerId===i.id)return x.default.createElement(A.default,{user:o,size:"small"});if(n.proposalId&&a.freelancerId!==i.id){var d=a.freelancerId;return x.default.createElement(A.default,{user:r[d]})}var p=Object.values(s).sort(function(e,t){return e.id<t.id?-1:e.id>t.id?1:0}).map(function(e){return r[e.userId]}),f=this.state.cardHover;return x.default.createElement(K.default,{highlight:f,active:e,users:p,type:this.props.type})}if("public"===l)return x.default.createElement("div",{className:this.ss("public-thumbnail")},x.default.createElement(z.default,{src:u,sizes:"100px"}));if("public-list"===l)return x.default.createElement("div",{className:this.ss("highlight-icon","projects-icon")},x.default.createElement("span",{className:this.ss("ifont","ifont-icons-project")}));if("applied-list"===l||"recruit-list"===l)return x.default.createElement("div",{className:this.ss("highlight-icon","job-icon")},x.default.createElement("span",{className:this.ss("ifont","ifont-icons-job")}));if("lobby"===l){var m=x.default.createElement("div",{className:this.ss("default-lobby-icon")},x.default.createElement("span",{className:this.ss("ifont","ifont-icons-open-eye")}));return u&&(m=x.default.createElement("div",{className:this.ss("lobby-thumbnail")},x.default.createElement(z.default,{src:u,sizes:"100px"}))),m}return null}},{key:"renderName",value:function(){var e=this.props,t=e.channelName,n=e.channel.type,a=e.active,o="";return"public-list"===n?o="highlight-public":"recruit-list"===n||"applied-list"===n?o="highlight-job":"lobby"===n&&(o="highlight-lobby"),x.default.createElement("div",{className:this.ss("name",o,a&&"active")},t)}},{key:"renderTimestamp",value:function(){var e=this.props,t=e.lastMessage,n=e.active,a=e.type,o=void 0;if(L.default.DISPLAY_TIME_IN_MESSENGER)if(t){if("header"===a||"hub-entry"===a)if(this.moment().isSame(t.timestamp,"day"))o=this.moment(t.timestamp).locale("en").format("hh:mm A");else{var r=Math.floor((new Date-this.getLastDayMillis(t.timestamp))/864e5);o=this.__("header_time_span",{time:r})}else if("home"===a)if(this.moment().isSame(t.timestamp,"day"))o=this.moment(t.timestamp).locale("en").format("hh:mm A");else{var i=Math.floor((new Date-this.getLastDayMillis(t.timestamp))/864e5);o=this.__("last_message_date",{days:i})}}else o="";else o="";return o?x.default.createElement("div",{className:this.ss("timestamp",n&&"active",a)},o):null}},{key:"renderLastMsg",value:function(){var e=this.props,t=e.lastMessage,n=e.channel,a=n.type,o=n.id,r=n.meetUpEventId,i=e.usersMap,s=e.active,l=e.members,c=e.loginUser,u=e.inProgressText,d=e.selectedChannelId,p=void 0,f=null;if("lobby"!==a||!l||l[c.id]&&l[c.id].guideFinished&&t){if(u&&u[o]&&d!==o)return x.default.createElement("div",{className:this.ss("desc-last-message","desc",s&&"active")},x.default.createElement("div",{className:this.ss("draft-hint")},this.__("draft_hint")),x.default.createElement("div",{className:this.ss("last-message-content")},u[o]));if(!t)return x.default.createElement("div",{className:this.ss("desc-last-message","desc",s&&"active")});if(t.deletedTime)p=this.__("deleted_message");else if(!t.contentParsedPlainText&&t.attachments.length){var m=t.attachments[0];p=V.test(m.contentType)?this.__("image_message"):this.__("file_message")}else p=t.contentParsedPlainText;if("direct"!==a){var h=i[t.authorId];f=h?x.default.createElement("div",{className:this.ss("author-name")},this.__("author_name",{author:h.fullname})):null}}else f=null,p=r?this.__("meetup_welcome"):this.__("lobby_welcome");return x.default.createElement("div",{className:this.ss("desc-last-message","desc",s&&"active")},f,x.default.createElement("div",{className:this.ss("last-message-content")},p))}},{key:"renderCandidateCount",value:function(){var e=this.props,t=e.channel.candidateCount,n=e.active;return x.default.createElement("div",{className:this.ss("desc-candidate-count","desc",n&&"active")},this.__("candidate_count",{candidateCount:t}))}},{key:"renderDesc",value:function(){return"recruit-list"===this.props.channel.type?this.renderCandidateCount():this.renderLastMsg()}},{key:"renderOption",value:function(){var e=this,t=this.props,n=t.channel,a=t.members,o=t.loginUser,r=t.showCardOptionKey;if("direct"!==n.type&&"private"!==n.type&&"public"!==n.type&&"lobby"!==n.type)return null;var i=(n||{}).groupId,s=!!n.stickTimestamp,l=s?"unStick_option":"stick_option",c=n.isMute?"unMute_option":"mute_option",u=null;s?u=x.default.createElement("div",{className:this.ss("pin-or-mute-wrapper","pin-wrapper")},x.default.createElement("span",{className:this.ss("ifont","ifont-icons-pin","pin-icon")})):n.isMute&&(u=x.default.createElement("div",{className:this.ss("pin-or-mute-wrapper","mute-wrapper")},x.default.createElement("span",{className:this.ss("ifont","ifont-icons-mute","mute-icon")})));var d=x.default.createElement("span",{className:this.ss("ifont","ifont-icons-settings","gear-icon"),onClick:function(t){return e.onGearClick(t,n.id)}}),p=!1;("lobby"===n.type&&!i||"private"===n.type&&!n.proposalId)&&(a&&a[o.id]&&"owner"===a[o.id].role||(p=!0));var f=x.default.createElement("div",{className:this.ss("option-menu",r!==n.id&&"hidden")},x.default.createElement("div",{className:this.ss("stick-option","option-item"),onClick:function(t){return e.handleStick(t)}},this.__(l)),x.default.createElement("div",{className:this.ss("mute-option","option-item"),onClick:function(t){return e.handleMute(t)}},this.__(c)),p?x.default.createElement("div",{className:this.ss("leave-option","option-item"),onClick:function(t){return e.handleLeave(t)}},this.__("leave_btn")):null);return x.default.createElement("div",{className:this.ss("option",(s||n.isMute)&&"isStickOrMute",n.isMute&&"isMute")},u,d,f)}},{key:"renderStatus",value:function(e){var t=this.props,n=t.channel,a=n.type,o=n.recipientId,r=t.relationships,i=t.usersMap;if("direct"===a&&r[o]&&"accepted"===r[o].status){var s=i[o].presenceStatus;return x.default.createElement("div",{className:this.ss("status","status-"+s,e&&"active")})}return null}},{key:"renderUnread",value:function(e){var t=this.props.channel,n=t.hasUnread,a=t.mentionCount,o=t.type;return 0!==a?x.default.createElement("div",{className:this.ss("unread-count",e&&"active")},a<=99?a:"99+"):n?x.default.createElement("div",{className:this.ss("unread-hint",e&&"active",("public"===o||"lobby"===o)&&"public")}):null}},{key:"renderWorkspaceName",value:function(){var e=this.props,t=e.channel,n=e.workspaces,a=n&&t.workspaceId&&n[t.workspaceId];return x.default.createElement("div",{className:this.ss("workspace-name")},a&&a.organizationId?a.name:(0,B.i18n)(this.context,G.default,"workspace_connect",{}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.active,a=t.onSelected,o=t.type,r=t.channel.id,i={};return"home"===o&&(i.onClick=function(){return a()}),"header"===o&&(i.target="_blank",i.href=r?L.default.DEFAULT_URL+"/messages/c/"+r:L.default.DEFAULT_URL+"/messages"),x.default.createElement("a",m({className:this.ss("card",o,n&&"active",this.state.cardHover&&"highlight")},i,{onMouseOver:function(){return e.onCardMouseOver()},onMouseLeave:function(){return e.onCardMouseLeave()}}),x.default.createElement("div",{className:this.ss("thumbnail")},this.renderThumbnail(n),this.renderUnread(n)),x.default.createElement("div",{className:this.ss("text")},x.default.createElement("div",{className:this.ss("card-top-wrapper",o)},x.default.createElement("div",{className:this.ss("card-top-left",o)},this.renderName(),this.renderStatus(n)),this.renderTimestamp()),x.default.createElement("div",{className:this.ss("card-bottom-wrapper")},this.renderDesc(),"header"===o?this.renderWorkspaceName():this.renderOption())),x.default.createElement("div",{className:this.ss("msg-btn",o),onClick:function(t){return e.onMsgBtnClick(t,r)}},this.__(M)))}}]),t}(),p.propTypes={channel:T.default.object.isRequired,active:T.default.bool.isRequired,relationships:T.default.object,inProgressText:T.default.object,selectedChannelId:T.default.string,selectedWorkspaceId:T.default.string,exploreInfo:T.default.object,usersMap:T.default.object,members:T.default.object,lastMessage:T.default.object,channelJob:T.default.object,channelTeam:T.default.object,loginUser:T.default.object,channelName:T.default.string,type:T.default.oneOf(["header","home","hub-entry"]).isRequired,showCardOptionKey:T.default.string,workspaces:T.default.object,onSelected:T.default.func,stickChannel:T.default.func,unStickChannel:T.default.func,muteChannel:T.default.func,unMuteChannel:T.default.func,leaveChannel:T.default.func,setShowCardOptionKey:T.default.func},d=f))||d)||d)||d);t.default=J},function(e,t){e.exports={card:"card_2G4pcnJT",header:"header_1cz55Y2o",active:"active_ishkVvem",status:"status_U5ku7dKT","unread-count":"unread-count_27XmPPdL","unread-hint":"unread-hint_XehkRdfh",name:"name_184TA-fE","card-top-wrapper":"card-top-wrapper_3C0vXDQ9",option:"option_2FK7Xufq",isStickOrMute:"isStickOrMute_vXs-E8Jo","gear-icon":"gear-icon_421_JT6B","option-menu":"option-menu_i7LI8BZU","pin-or-mute-wrapper":"pin-or-mute-wrapper_y7y5M-T_","pin-wrapper":"pin-wrapper_TAjp81Oa","mute-wrapper":"mute-wrapper_1HQA9Glw",text:"text_3kC_Oaop",home:"home_3ZTxyIMe",highlight:"highlight_2TAS4LAi",hidden:"hidden_1XS12JsR","option-item":"option-item_OZWzJerP","hub-entry":"hub-entry_2jXXuYmJ",desc:"desc_FCLgbQVj",thumbnail:"thumbnail_2x0OtVLV","public-thumbnail":"public-thumbnail_2tzGDoUs","lobby-thumbnail":"lobby-thumbnail_2i182iOJ","highlight-icon":"highlight-icon_pdedcrRh","projects-icon":"projects-icon_33gx3pbS","job-icon":"job-icon_27ZNa_J2","lobby-list-icon":"lobby-list-icon_Z5yEQ5lh","default-lobby-icon":"default-lobby-icon_2h5Qa0vV","status-online":"status-online_3Of5N2wU","status-offline":"status-offline_-Yc3Qw0k","status-idle":"status-idle_YrGTT4Yx","card-top-left":"card-top-left_zo5jRvmB","highlight-public":"highlight-public_3-xh2-Kd","highlight-job":"highlight-job_I3W3r6ar","highlight-lobby":"highlight-lobby_1og23ZY6",timestamp:"timestamp_2yPLkKkq","card-bottom-wrapper":"card-bottom-wrapper_3HnWFD3D","desc-last-message":"desc-last-message_2_86B9zC","author-name":"author-name_2PnUkJd6","last-message-content":"last-message-content_18ohi8d4",public:"public_2c5Njt0J","draft-hint":"draft-hint_3fK94MAb","msg-btn":"msg-btn_37EALoOz","workspace-name":"workspace-name_1ou7pmrP"}},function(e,t){e.exports={projects:"projects_22py",my_job:"my_job_296R",candidate_count:"candidate_count_34Sc",image_message:"image_message_2fxR",file_message:"file_message_kYEs",mute_option:"mute_option_nPpA",unMute_option:"unMute_option_3a4i",stick_option:"stick_option_2Lmz",unStick_option:"unStick_option_2f8Z",last_message_time:"last_message_time_3nCP",last_message_date:"last_message_date_1qan",author_name:"author_name_1sQ1",header_time_span:"header_time_span_1RFh",welcome_to_lobby:"welcome_to_lobby_1eyv",lobby_welcome:"lobby_welcome_2zpq",meetup_welcome:"meetup_welcome_1we6",draft_hint:"draft_hint_2cUa",lobby_list_desc:"lobby_list_desc_1qlA",deleted_message:"deleted_message_3389",leave_btn:"leave_btn_1cst",message_btn:"message_btn_1pb0"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u,d,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=a(n(2)),m=a(n(1)),h=a(n(3)),_=n(5),g=a(n(15)),v=n(11),b=a(n(4)),y=a(n(299)),w=(s=(0,_.decorator)({}),l=(0,b.default)(y.default),s(c=l((d=u=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,h.default),p(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.users,o=t.active,r=t.type,i=t.highlight,s=[],l=0;return a.forEach(function(t){if(l++<3){var a={1:"first",2:"second",3:"third"},r=void 0,c=void 0;t.isBot?r=m.default.createElement(g.default,{src:n(184),sizes:"60px"}):(r=t.avatar&&m.default.createElement(g.default,{src:t.avatar,sizes:"60px"}),c=!t.avatar&&(0,v.extractName)(t.name||t.fullName||t.fullname)),s.push(m.default.createElement("div",{key:"user_"+t.id,className:e.ss("user-avatar",!t.avatar&&"default-avatar",a[l],o&&"active",i&&"highlight")},r,c))}}),m.default.createElement("div",{className:this.ss("avatar-container",r)},s)}}]),t}(),u.propTypes={active:f.default.bool,highlight:f.default.bool,users:f.default.arrayOf(f.default.object),type:f.default.oneOf(["header","home","search","hub-entry"]).isRequired},c=d))||c)||c);t.default=w},function(e,t){e.exports={"avatar-container":"avatar-container_1aVivL1e",header:"header_mZU1hl7o","user-avatar":"user-avatar_3ou09lEO",active:"active_gDQI4Num",highlight:"highlight_3ueUQhZr","hub-entry":"hub-entry_3J64H7OA",first:"first_3cgVLDTq",second:"second_11a5RFzl",third:"third_37umiXfA","avatar-placeholder":"avatar-placeholder_2d0ho-8z","default-avatar":"default-avatar_BMT9uRPt",search:"search_3VJ3noBz"}},function(e,t){e.exports={"messages-preview":"messages-preview_3GVMRpM3",pointer:"pointer_GNdvpY-F","cards-container":"cards-container_3ossuHjJ","all-messages":"all-messages_2hyCuqZU","no-messages":"no-messages_1KYpFJVE",loading:"loading_3CEQoEwG","loading-circle":"loading-circle_BMuLrZcq","circle-rotate":"circle-rotate_3Id5q70I","loading-circle-inner":"loading-circle-inner_2cwhLUg0"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["loginUser"],["loginUser"]),_=s(["currentUrl"],["currentUrl"]),g=a(n(2)),v=a(n(1)),b=a(n(3)),y=n(5),w=n(0),j=a(n(4)),E=a(n(302)),k=a(n(6)),C=a(n(303)),O=(l=(0,y.decorator)({loginUser:(0,w.state)(h),currentUrl:(0,w.state)(_)}),c=(0,j.default)(E.default),u=(0,k.default)(C.default),l(d=c(d=u((f=p=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,b.default),m(t,[{key:"render",value:function(){var e=this.props,t=e.loginUser,n=e.currentUrl;if(!t)return null;if(!0!==t.emailRequired)return null;var a="/auth/email?redirect_to="+encodeURIComponent(n);return v.default.createElement("div",{className:this.ss("info-bar")},v.default.createElement("div",{className:this.ss("text")},this.__("text_prefix")),v.default.createElement("a",{className:this.ss("link"),href:a},this.__("link_fill")),v.default.createElement("div",{className:this.ss("text")},this.__("text_suffix")))}}]),t}(),p.propTypes={loginUser:g.default.object,currentUrl:g.default.string},d=f))||d)||d)||d);t.default=O},function(e,t){e.exports={"info-bar":"info-bar_PzV5rWik",hide:"hide_1abUTxoy",link:"link_2ytBLggM",text:"text_3DKifsFk"}},function(e,t){e.exports={text_prefix:"text_prefix_2pHd",text_suffix:"text_suffix_21D6",link_fill:"link_fill_G2Db"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["currentUrl"],["currentUrl"]),_=s(["header.emailRequiredDialog.open"],["header.emailRequiredDialog.open"]),g=s(["header.doAddEmailStatus"],["header.doAddEmailStatus"]),v=s(["header.doAddEmail"],["header.doAddEmail"]),b=s(["header.closeEmailRequiredDialog"],["header.closeEmailRequiredDialog"]),y=a(n(2)),w=a(n(1)),j=a(n(3)),E=n(5),k=n(0),C=a(n(20)),O=a(n(13)),P=n(7),S=a(n(4)),N=a(n(305)),M=a(n(6)),T=a(n(306)),x=(l=(0,E.decorator)({currentUrl:(0,k.state)(h),open:(0,k.state)(_),updateStatus:(0,k.state)(g),doAddEmail:(0,k.signal)(v),closeEmailRequiredDialog:(0,k.signal)(b)}),c=(0,S.default)(N.default),u=(0,M.default)(T.default),l(d=c(d=u((f=p=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={},a.onConfirm=function(){a.props.doAddEmail&&a.props.doAddEmail()},a.onClose=function(){a.props.closeEmailRequiredDialog&&a.props.closeEmailRequiredDialog()},i=n,r(a,i)}return i(t,j.default),m(t,[{key:"renderHead",value:function(){var e=this.props.currentUrl,t="/auth/email?redirect_to="+encodeURIComponent(e);return w.default.createElement("div",{className:this.ss("head")},w.default.createElement("div",{className:this.ss("text")},this.__("text_prefix")),w.default.createElement("a",{className:this.ss("link"),href:t},this.__("link_fill")),w.default.createElement("div",{className:this.ss("text")},this.__("text_suffix")))}},{key:"renderBody",value:function(){var e=this,t=[this.__("item_post_job"),this.__("item_post_article"),this.__("item_post_showcase"),this.__("item_post_game"),this.__("item_create_company"),this.__("item_create_school"),this.__("item_create_chat"),this.__("item_other")].map(function(t,n){return w.default.createElement("div",{key:"item"+n,className:e.ss("item")},t)});return w.default.createElement("div",{className:this.ss("body")},w.default.createElement("div",{className:this.ss("description")},this.__("description")),w.default.createElement("div",{className:this.ss("items")},t))}},{key:"renderFoot",value:function(){var e=this.props.updateStatus,t=(0,P.isLoadingOrSucceeded)(e),n=[];return n.push(w.default.createElement("div",{key:"ok",className:this.ss("button-ok")},w.default.createElement(O.default,{loading:t,theme:"blue",size:"xlarge",widthType:"full",label:this.__("button_ok"),onClick:this.onConfirm}))),w.default.createElement("div",{className:this.ss("foot")},n)}},{key:"render",value:function(){var e=this.props.open;return w.default.createElement(C.default,{open:e,position:"center",onCloseModal:this.onClose},w.default.createElement("div",{className:this.ss("content")},this.renderHead(),this.renderBody(),this.renderFoot(),w.default.createElement("button",{className:this.ss("button-close"),onClick:this.onClose},w.default.createElement("div",{className:this.ss("close","ifont","ifont-icon-close2")}))))}}]),t}(),p.propTypes={currentUrl:y.default.string,open:y.default.bool,updateStatus:y.default.string,doAddEmail:y.default.func,closeEmailRequiredDialog:y.default.func},p.defaultProps={},d=f))||d)||d)||d);t.default=x},function(e,t){e.exports={content:"content_2hX3k17u","button-close":"button-close_2CXdjA3t",head:"head_2CWAHYJP",link:"link_1ngpa4Lx",body:"body_3qEmSGQN",description:"description_1TLO8mzS",items:"items_3j9YBaDI",item:"item_BB8lpUWX",foot:"foot_33gBn0GV","button-ok":"button-ok_2HEPGnWz"}},function(e,t){e.exports={text_prefix:"text_prefix_2PeQ",text_suffix:"text_suffix_xT36",link_fill:"link_fill_Yj9F",description:"description_1hDP",item_post_job:"item_post_job_2_NU",item_post_article:"item_post_article_1ANi",item_post_showcase:"item_post_showcase_TEju",item_post_game:"item_post_game_1-HS",item_create_company:"item_create_company_1QNo",item_create_school:"item_create_school_2CYU",item_create_chat:"item_create_chat_2_tZ",item_other:"item_other_2LjZ",button_ok:"button_ok_35US"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["messages.users"],["messages.users"]),_=s(["messages.bubbleMessages.messagesQueue"],["messages.bubbleMessages.messagesQueue"]),g=s(["messages.bubbleMessages.messageToReply"],["messages.bubbleMessages.messageToReply"]),v=s(["messages.bubbleMessages.messageToReplyStatus"],["messages.bubbleMessages.messageToReplyStatus"]),b=s(["messages.bubbleTryToReplyMessage"],["messages.bubbleTryToReplyMessage"]),y=s(["messages.bubbleReplyMessage"],["messages.bubbleReplyMessage"]),w=s(["messages.bubbleCloseMessage"],["messages.bubbleCloseMessage"]),j=a(n(2)),E=a(n(1)),k=a(n(3)),C=n(5),O=n(0),P=a(n(16)),S=n(7),N=a(n(4)),M=a(n(308)),T=a(n(6)),x=a(n(309)),I=(l=(0,C.decorator)({users:(0,O.state)(h),messagesQueue:(0,O.state)(_),messageToReply:(0,O.state)(g),messageToReplyStatus:(0,O.state)(v),bubbleTryToReplyMessage:(0,O.signal)(b),bubbleReplyMessage:(0,O.signal)(y),bubbleCloseMessage:(0,O.signal)(w)}),c=(0,N.default)(M.default),u=(0,T.default)(x.default),l(d=c(d=u((f=p=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,k.default),m(t,[{key:"componentDidUpdate",value:function(e){var t=e.messagesQueue,n=e.messageToReply,a=e.messageToReplyStatus,o=this.props,r=o.messagesQueue,i=o.messageToReply,s=o.messageToReplyStatus,l=o.bubbleCloseMessage,c=!1;if(i!==n?(this._messageToReplyTimeout&&(clearTimeout(this._messageToReplyTimeout),this._messageToReplyTimeout=null),c=!0):s!==a&&(c=!0),c&&null!==i&&["succeeded","failed"].includes(s)){this._messageToReplyTimeout&&(clearTimeout(this._messageToReplyTimeout),this._messageToReplyTimeout=null);var u=i.id;this._messageToReplyTimeout=setTimeout(function(){return l({messageIds:[u]})},(0,S.isSucceeded)(s)?2e3:1e4)}if(r!==t&&(this._messagesQueueTimeout&&(clearTimeout(this._messagesQueueTimeout),this._messagesQueueTimeout=null),r.length)){var d=r.map(function(e){return e.id});this._messagesQueueTimeout=setTimeout(function(){return l({messageIds:d})},1e4)}}},{key:"onKeyDown",value:function(e){e.stopPropagation();var t=e.keyCode,n=e.target;if(13===t){var a=this.props.messageToReply,o=this.props.bubbleReplyMessage;a&&""!==n.value&&o({messageId:a.id,content:n.value})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.messagesQueue,a=t.messageToReply,o=t.messageToReplyStatus,r=t.users,i=this.props,s=i.bubbleTryToReplyMessage,l=i.bubbleCloseMessage;if(!n.length&&!a)return null;var c=[];if(a)if((0,S.isSucceeded)(o))c.push(E.default.createElement("div",{key:"replySucceeded",className:this.ss("reply-succeeded")},E.default.createElement("div",{className:this.ss("success-logo","ifont","ifont-selected")}),E.default.createElement("div",{className:this.ss("success-hint")},this.__("success_hint")),E.default.createElement("a",{href:"/messages/c/"+a.channelId,target:"_blank",className:this.ss("to-messenger")},this.__("to_messenger")),E.default.createElement("div",{className:this.ss("close-btn","ifont","ifont-icon-close"),onClick:function(){return l({messageIds:[a.id]})}})));else{var u=r[a.authorId],d=a.contentParsedPlainText;a.attachments.forEach(function(t){""!==d&&(d+="\n"),d+=t.contentType.startsWith("image/")?e.__("image"):e.__("attachment")}),c.push(E.default.createElement("div",{key:"messageToReply",className:this.ss("message-to-reply")},E.default.createElement("div",{className:this.ss("close-btn","ifont","ifont-icon-close"),onClick:function(){return l({messageIds:[a.id]})}}),E.default.createElement("div",{className:this.ss("bubble-header"),onClick:function(){return window.open("/messages/c/"+a.channelId,"_blank")}},E.default.createElement("div",{className:this.ss("avatar-wrapper")},E.default.createElement(P.default,{user:u,size:"xsmall"})),E.default.createElement("div",{className:this.ss("desc-wrapper")},E.default.createElement("a",{className:this.ss("user-name")},u.fullname),E.default.createElement("div",{className:this.ss("timestamp")},this.__("message_time",{time:a.timestamp})))),E.default.createElement("div",{className:this.ss("message-content")},d),""===o&&E.default.createElement("div",{className:this.ss("input-wrapper")},E.default.createElement("input",{className:this.ss("message-input"),onKeyDown:function(t){return e.onKeyDown(t)},placeholder:this.__("message_hint",{name:u.fullname})})),(0,S.isLoading)(o)&&E.default.createElement("div",{className:this.ss("sending")},E.default.createElement("span",{className:this.ss("sending-inner")})),"failed"===o&&E.default.createElement("a",{href:"/messages/c/"+a.channelId,target:"_blank",className:this.ss("to-messenger")},this.__("to_messenger"))))}if(a||1!==n.length){if(n.length){var p={},f=[];n.forEach(function(e){p[e.authorId]||(p[e.authorId]=1,f.push(r[e.authorId].fullname))}),f.length>3&&(f=f.slice(0,2).concat([this.__("other_people",{count:f.length-2})]));var m="";f.forEach(function(t,n){n>0&&n===f.length-1?m+=e.__("and"):n>0&&(m+=", "),m+=t});var h=this.__("message_summary",{messagesCount:n.length,usersStr:m});c.push(E.default.createElement("div",{key:"messagesSummary",className:this.ss("messages-summary")},E.default.createElement("div",{className:this.ss("bubble-header")},E.default.createElement("span",{className:this.ss("close-btn","ifont","ifont-icon-close"),onClick:function(){return l({messageIds:n.map(function(e){return e.id})})}})),E.default.createElement("div",{className:this.ss("message-content")},h),E.default.createElement("a",{href:"/messages/c/"+n[n.length-1].channelId,target:"_blank",className:this.ss("to-messenger")},this.__("to_messenger"))))}}else{var _=n[0],g=r[_.authorId],v=_.contentParsedPlainText;_.attachments.forEach(function(t){""!==v&&(v+="\n"),v+=t.contentType.startsWith("image/")?e.__("image"):e.__("attachment")}),c.push(E.default.createElement("div",{key:"messageToReply",className:this.ss("message-to-reply")},E.default.createElement("div",{className:this.ss("close-btn","ifont","ifont-icon-close"),onClick:function(){return l({messageIds:[_.id]})}}),E.default.createElement("div",{className:this.ss("bubble-header"),onClick:function(){return window.open("/messages/c/"+_.channelId,"_blank")}},E.default.createElement("div",{className:this.ss("avatar-wrapper")},E.default.createElement(P.default,{user:g,size:"xsmall"})),E.default.createElement("div",{className:this.ss("desc-wrapper")},E.default.createElement("div",{className:this.ss("user-name")},g.fullname),E.default.createElement("div",{className:this.ss("timestamp")},this.__("message_time",{time:_.timestamp})))),E.default.createElement("div",{className:this.ss("message-content")},v),E.default.createElement("div",{className:this.ss("input-wrapper")},E.default.createElement("input",{className:this.ss("message-input"),onFocus:function(){return s({messageId:_.id})},placeholder:this.__("message_hint",{name:g.fullname})}))))}return E.default.createElement("div",{className:this.ss("bubble-wrapper")},c)}}]),t}(),p.propTypes={users:j.default.object,messagesQueue:j.default.array,messageToReply:j.default.object,messageToReplyStatus:j.default.string,bubbleTryToReplyMessage:j.default.func,bubbleReplyMessage:j.default.func,bubbleCloseMessage:j.default.func},d=f))||d)||d)||d);t.default=I},function(e,t){e.exports={"bubble-wrapper":"bubble-wrapper_1ljdZiWC","messages-summary":"messages-summary_r3i0_hZv","message-to-reply":"message-to-reply_2QwgigXQ","reply-succeeded":"reply-succeeded_VSJ_OUxi","bubble-header":"bubble-header_37GysP6F","desc-wrapper":"desc-wrapper_2rDkUVWU","user-name":"user-name_KZ-pmf8n",timestamp:"timestamp_22lOm9xw","close-btn":"close-btn_1zBa3TNi","message-content":"message-content_22M9kLb8","input-wrapper":"input-wrapper_26EcdLy8","message-input":"message-input_1Q2DUdHR","to-messenger":"to-messenger_h1dI_7cb","success-logo":"success-logo_3-a8chgy","success-hint":"success-hint_2ERFlWxi",sending:"sending_3HcaI_dO",spinner:"spinner_3EKJua4G","sending-inner":"sending-inner_3kGmIJQ6","animation-loading":"animation-loading_2trKxt4o"}},function(e,t){e.exports={message_hint:"message_hint_3V1i",success_hint:"success_hint_2s22",message_time:"message_time_2TI1",to_messenger:"to_messenger_1vCn",and:"and_mXsJ",other_people:"other_people_qZhL",message_summary:"message_summary_3ZDY",image:"image_3Z_0",attachment:"attachment_1ZYm"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["loginUser"],["loginUser"]),_=s(["loginUser.expiredJobs"],["loginUser.expiredJobs"]),g=a(n(2)),v=a(n(1)),b=a(n(3)),y=n(5),w=n(0),j=a(n(43)),E=a(n(17)),k=a(n(20)),C=a(n(13)),O=a(n(4)),P=a(n(311)),S=a(n(6)),N=a(n(312)),M=(l=(0,y.decorator)({loginUser:(0,w.state)(h),expiredJobs:(0,w.state)(_)}),c=(0,O.default)(P.default),u=(0,S.default)(N.default),l(d=c(d=u((f=p=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={show:a.props.expiredJobs&&a.props.expiredJobs.length>0},i=n,r(a,i)}return i(t,b.default),m(t,[{key:"onRemind",value:function(){this.close()}},{key:"onManage",value:function(){this.close(),location.href="/my/jobs?type=closed"}},{key:"onOpenJob",value:function(e){j.default.set("EJ",this.props.loginUser.id+"=skip"),window.open("/jobs/"+e)}},{key:"close",value:function(){j.default.set("EJ",this.props.loginUser.id+"=skip"),this.setState({show:!1})}},{key:"renderItem",value:function(e,t){var n=this,a=null;return"freelance"===t.jobType&&(a=v.default.createElement("span",{className:this.ss("tag-task")},this.__("tag_task"))),v.default.createElement("div",{key:e,className:this.ss("item")},v.default.createElement("div",{className:this.ss("item-title")},v.default.createElement("a",{onClick:function(){return n.onOpenJob(t.id)}},t.title),a),v.default.createElement("div",{className:this.ss("company-name")},t.teamName))}},{key:"render",value:function(){var e=this,t=this.props.expiredJobs;if(!t||0===t.length)return null;var n=(t||[]).map(function(t,n){return e.renderItem(n,t)});return v.default.createElement(k.default,{open:this.state.show,className:this.ss("dialog"),position:"center",title:this.__("title")},v.default.createElement("div",{className:this.ss("content-wrap")},v.default.createElement("div",{className:this.ss("header")},v.default.createElement("div",{className:this.ss("title")},this.__("title")),v.default.createElement("div",{className:this.ss("close","ifont","ifont-icons_close","icon-close"),onClick:function(){return e.onRemind()}})),v.default.createElement(E.default,null,v.default.createElement("div",{className:this.ss("content")},v.default.createElement("div",{className:this.ss("note")},this.__("note",{count:t.length})),v.default.createElement("div",{className:this.ss("list")},n))),v.default.createElement("div",{className:this.ss("button-wrap")},v.default.createElement(C.default,{className:this.ss("btn","btn--remind"),label:this.__("btn_remind"),onClick:function(){return e.onRemind()}}),v.default.createElement(C.default,{theme:"thirdly",className:this.ss("btn","btn--manage"),label:this.__("btn_manage"),onClick:function(){return e.onManage()}}))))}}]),t}(),p.propTypes={loginUser:g.default.object,expiredJobs:g.default.array},d=f))||d)||d)||d);t.default=M},function(e,t){e.exports={btn:"btn_uzkPBq-V","btn--remind":"btn--remind_1YJzNH7U",dialog:"dialog_1hD8_PnF","content-wrap":"content-wrap_H_jGcy5r",header:"header_xq_gZ-Xe",title:"title_2u_X5r_F","icon-close":"icon-close_2A7S_1D4",content:"content_1MksersL",note:"note_32izEHqr",list:"list_1a2dP0YD",item:"item_1YWUBQQM","item-title":"item-title_3kmzZr20","company-name":"company-name_2leXbCl-","tag-task":"tag-task_3_UKP4ad","button-wrap":"button-wrap_2HNYMzWc"}},function(e,t){e.exports={title:"title_2imo",note:"note_Rl6s",btn_remind:"btn_remind_1m1q",btn_manage:"btn_manage_2x23",tag_task:"tag_task_fA30"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["currentPath"],["currentPath"]),_=s(["loginUser"],["loginUser"]),g=s(["messages.channels"],["messages.channels"]),v=s(["messages.call.ringing"],["messages.call.ringing"]),b=s(["messages.call.callInfo"],["messages.call.callInfo"]),y=s(["messages.users"],["messages.users"]),w=s(["messages.sessionId"],["messages.sessionId"]),j=s(["messages.window.isMaster"],["messages.window.isMaster"]),E=s(["messages.createCall"],["messages.createCall"]),k=s(["messages.declineCall"],["messages.declineCall"]),C=s(["messages.channelSelect"],["messages.channelSelect"]),O=a(n(2)),P=a(n(1)),S=a(n(3)),N=n(5),M=n(0),T=a(n(19)),x=a(n(16)),I=a(n(4)),R=a(n(314)),D=a(n(6)),A=a(n(315)),U=a(n(156)),L=a(n(157)),z=(l=(0,N.decorator)({currentPath:(0,M.state)(h),loginUser:(0,M.state)(_),channels:(0,M.state)(g),ringing:(0,M.state)(v),callInfo:(0,M.state)(b),users:(0,M.state)(y),sessionId:(0,M.state)(w),windowIsMaster:(0,M.state)(j),createCall:(0,M.signal)(E),declineCall:(0,M.signal)(k),channelSelect:(0,M.signal)(C)}),c=(0,I.default)(R.default),u=(0,D.default)(A.default),l(d=c(d=u((f=p=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,S.default),m(t,[{key:"needsIncomingRing",value:function(){var e=this.props,t=e.ringing,n=e.windowIsMaster;return!!t.length&&!!n}},{key:"needsOutgoingRing",value:function(){var e=this.props,t=e.callInfo,n=e.sessionId,a=e.loginUser;return!!Object.values(t).find(function(e){if(e[a.id]&&Object.values(e).length>1&&e[a.id].sessionId===n&&e[a.id].isFirst){var t=0;return Object.keys(e).forEach(function(n){n!==a.id&&"RINGING"!==e[n].status||(t+=1)}),t===Object.values(e).length}return!1})}},{key:"acceptCall",value:function(e,t){var n=this.props,a=n.currentPath,o=n.createCall,r=n.channelSelect;a.startsWith("/messages")?(o({channelId:e}),r({channelId:e,workspaceId:t})):(0,T.default)("/messages/c/"+e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.users,a=t.ringing,o=t.declineCall,r=t.channels;return P.default.createElement("div",{className:this.ss("container")},a.map(function(t){var a=t.channelId,i=t.fromUserId,s=n[i],l=r[a];return P.default.createElement("div",{key:a,className:e.ss("call-inform","show")},P.default.createElement("div",{className:e.ss("title")},e.__("title")),s&&P.default.createElement("div",{className:e.ss("avatar-wrapper")},P.default.createElement(x.default,{user:s,size:"large"}),P.default.createElement("div",{className:e.ss("circle")},P.default.createElement("div",{className:e.ss("point")}))),s&&P.default.createElement("div",{className:e.ss("status")},e.__("making_call",{fullname:s.fullname})),P.default.createElement("div",{className:e.ss("buttons")},P.default.createElement("div",{className:e.ss("accept-btn"),onClick:function(){return e.acceptCall(a,l.workspaceId)}},e.__("accept_btn_label")),P.default.createElement("div",{className:e.ss("decline-btn"),onClick:function(){return o({channelId:a})}},e.__("decline_btn_label"))))}),this.needsIncomingRing()&&P.default.createElement("audio",{src:U.default,autoPlay:!0,loop:!0}),this.needsOutgoingRing()&&P.default.createElement("audio",{src:L.default,autoPlay:!0,loop:!0}))}}]),t}(),p.propTypes={currentPath:O.default.string,loginUser:O.default.object,channels:O.default.object,ringing:O.default.array,callInfo:O.default.object,users:O.default.object,sessionId:O.default.string,windowIsMaster:O.default.bool,createCall:O.default.func,declineCall:O.default.func,channelSelect:O.default.func},d=f))||d)||d)||d);t.default=z},function(e,t){e.exports={container:"container_315YV4jY","call-inform":"call-inform_1quSUqmO",show:"show_1TOrhKUJ",buttons:"buttons_ZZB2pd5w","accept-btn":"accept-btn_2bfyCr0R","decline-btn":"decline-btn_LTgY0ZrQ",title:"title_1lxMcSqH",status:"status_1G3xaugZ","avatar-wrapper":"avatar-wrapper_2B1EeYaS",circle:"circle_2oTzXmUM","call-rotate":"call-rotate_vEZm0UQm",point:"point_1m6f5jan"}},function(e,t){e.exports={title:"title_PAN6",making_call:"making_call_1ANy",accept_btn_label:"accept_btn_label_1ani",decline_btn_label:"decline_btn_label_cgGc"}},function(e,t){e.exports={"content-wrap":"content-wrap_2BVvXVFj",content:"content_1t0tE2rR",title:"title_1TLkYxHM","description-top":"description-top_1jjQRxCK","description-bottom":"description-bottom_1F2ScTJr","post-later":"post-later_3MZQ5in-","type-cards":"type-cards_2_LGOyRy",card:"card_1dBBoTqX",game:"game_11cXBfbg","card-icon":"card-icon_3fW2lqKE",article:"article_sLKK9hOz",showcase:"showcase_1tABhI1E","card-title":"card-title_3GfeVIY-","card-description":"card-description_1eAKFUq8","card-button":"card-button_2b7HYOjw","webgl-cards":"webgl-cards_21HUOqFt",icon:"icon_2tJ8uuhA",webgl:"webgl_3oBVHPg2",hide:"hide_PWWSLJUC",notice:"notice_2usEkPgI","notice-info":"notice-info_nl_AR3Ta","notice-title":"notice-title_1xeXA-tu","notice-description":"notice-description_3m9bllep","notice-button":"notice-button_1iu4SOc2",button:"button_3nnMOXQl"}},function(e,t){e.exports={title:"title_d0Lr",title_game_select:"title_game_select_1VDV",description_top:"description_top_Alsm",description_bottom:"description_bottom_2MVi",description_game_select:"description_game_select_4n-D",return_to_main:"return_to_main_b570",article_title:"article_title_3fFx",article_description:"article_description_3jl5",article_create_button:"article_create_button_3tzm",game_title:"game_title_26v0",game_description:"game_description_1A4B",game_create_button:"game_create_button_1uay",showcase_title:"showcase_title_2hti",showcase_description:"showcase_description_3r7v",showcase_create_button:"showcase_create_button_28WK",notice_title:"notice_title_24c8",notice_description:"notice_description_2LzL",button_ok:"button_ok_O190",select_webgl_title:"select_webgl_title_1h63",select_webgl_description:"select_webgl_description_3bEe",select_webgl_post:"select_webgl_post_2dT_",select_game_title:"select_game_title_3NZC",select_game_description:"select_game_description_3ONl",select_game_post:"select_game_post_2Tb6"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["currentPath"],["currentPath"]),_=s(["homeType"],["homeType"]),g=a(n(2)),v=a(n(1)),b=a(n(3)),y=n(5),w=n(0),j=a(n(4)),E=a(n(319)),k=a(n(6)),C=a(n(320)),O=(l=(0,y.decorator)({currentPath:(0,w.state)(h),homeType:(0,w.state)(_)}),c=(0,j.default)(E.default),u=(0,k.default)(C.default),l(d=c(d=u((f=p=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,b.default),m(t,[{key:"isActive",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",n=this.props,a=n.currentPath,o=void 0===a?"/":a,r=n.homeType;if(t===o)return!0;var i=t.split("?");return i.length>1&&i[0]===o&&"/"===i[0]&&e===r}},{key:"renderNew",value:function(){return v.default.createElement("div",{className:this.ss("new")},this.__("new"))}},{key:"render",value:function(){var e=this,t=this.props.onClose,n=[{id:"groups",icon:"icons-group",link:"/groups/discover"},{id:"hottest",icon:"hot",link:"/?path=hottest"},{id:"feed",icon:"icons-feed",link:"/?path=feed"},{id:"connections",icon:"icons-connection",link:"/connections"},{id:"projects",icon:"icons-project",link:"/p"},{id:"jobs",icon:"icons-job",link:"/jobs"},{id:"recruit",icon:"icons-recruit",link:"/my/jobs"},{id:"talents",icon:"icons-talent",link:"/search?t=user"},{id:"companies",icon:"icons-company-v2",link:"/search?t=team"},{id:"schools",icon:"icons-school",link:"/search?t=school"},{id:"channels",icon:"icons-channel",link:"/search?t=channel"},{id:"contests",icon:"icons-contest",link:"/challenges"},{id:"events",icon:"icons_calendar",link:"/events"}].map(function(t){var n=t.id,a=t.icon,o=t.link,r=t.renderChild;return v.default.createElement("a",{key:"menu_"+n,className:e.ss("menu",e.isActive(n,o)&&"active"),href:o},v.default.createElement("div",{className:e.ss("icons-wrapper",n)},v.default.createElement("div",{className:e.ss("icons","ifont","ifont-"+a)})),v.default.createElement("div",{className:e.ss("text")},e.__(n)),r&&r())});return v.default.createElement("div",{className:this.ss("mobile-menu")},v.default.createElement("div",{className:this.ss("close-wrapper")},v.default.createElement("div",{className:this.ss("icon-close","ifont","ifont-icon-close2"),onClick:function(){return t&&t()}})),v.default.createElement("div",{className:this.ss("scroller-wrapper")},v.default.createElement("div",{className:this.ss("scroller")},n)))}}]),t}(),p.propTypes={currentPath:g.default.string,homeType:g.default.string,onClose:g.default.func},d=f))||d)||d)||d);t.default=O},function(e,t){e.exports={"mobile-menu":"mobile-menu_1dgGzNED","scroller-wrapper":"scroller-wrapper_2CGwELGx",scroller:"scroller_MizhnjwE","close-wrapper":"close-wrapper_2lLZPl57","icon-close":"icon-close_1Im3ux6C",menu:"menu_2T9H78zH",active:"active_13E7sSc2","icons-wrapper":"icons-wrapper_1AZKmhWm",hottest:"hottest_3KOVWtcA",icons:"icons_2NSk762E",feed:"feed_P__CBzPI",connections:"connections_3wWt19w6",projects:"projects_1wg-qij8",jobs:"jobs_xOVhZD9C",recruit:"recruit_385HuvCO",talents:"talents_1eRxbcLQ",companies:"companies_h_G2yeyM",schools:"schools_1Ug8zj56",channels:"channels_3ABmr6nf",contests:"contests_3XNnJRG1",events:"events_3YdEfqAL",groups:"groups_2na6kppb",text:"text_30T1BGhi","icons-arrow":"icons-arrow_3ZaR5_dq",new:"new_1FiF0PTY"}},function(e,t){e.exports={hottest:"hottest_33cV",feed:"feed_2wgt",connections:"connections_1KT8",projects:"projects_nqMW",jobs:"jobs_9HtD",recruit:"recruit_1rqf",discover:"discover_XiC_",talents:"talents_2NZg",companies:"companies_1V3V",schools:"schools_3Rll",channels:"channels_3433",contests:"contests_2DWo",events:"events_HkZ-",new:"new_381A"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["liveHelpEnabled"],["liveHelpEnabled"]),_=s(["header.loginTo"],["header.loginTo"]),g=s(["loginUser"],["loginUser"]),v=s(["currentPath"],["currentPath"]),b=s(["header.sendCDPRequest"],["header.sendCDPRequest"]),y=a(n(2)),w=a(n(1)),j=a(n(3)),E=n(5),k=n(0),C=a(n(68)),O=a(n(4)),P=a(n(323)),S=a(n(6)),N=a(n(324)),M=(l=(0,E.decorator)({liveHelpEnabled:(0,k.state)(h),loginTo:(0,k.signal)(_),loginUser:(0,k.state)(g),currentPath:(0,k.state)(v),sendCDPRequest:(0,k.signal)(b)}),c=(0,O.default)(P.default),u=(0,S.default)(N.default),l(d=c(d=u((f=p=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,j.default),m(t,[{key:"onMenuClick",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a={menuType:"discover",subtype:e};this.props.sendCDPRequest({type:"menu",data:a,redirectUrl:t,loginRequired:n})}},{key:"getItems",value:function(){var e=this,t=this.props,n=t.liveHelpEnabled,a=(t.loginUser||{}).myGroups,o=a&&a.length>0?"/groups":"/groups/discover";return[{key:"groups",text:this.__("menu_groups"),menuPath:o,onClick:function(){return e.onMenuClick("groups",o)}},{key:"talents",text:this.__("menu_talents"),menuPath:"/search?t=user",onClick:function(){return e.onMenuClick("talents","/search?t=user")}},{key:"live_help",text:this.__("menu_live_help"),menuPath:"livehelp",onClick:function(){return e.onMenuClick("live_help","https://livehelp.unity.com/")},disable:!n},{key:"companies",text:this.__("menu_companies"),menuPath:"/search?t=team",onClick:function(){return e.onMenuClick("companies","/search?t=team")}},{key:"schools",text:this.__("menu_schools"),menuPath:"/search?t=school",onClick:function(){return e.onMenuClick("schools","/search?t=school")}},{key:"channels",text:this.__("menu_channels"),menuPath:"/search?t=channel",onClick:function(){return e.onMenuClick("channels","/search?t=channel")}},{key:"challenges",text:this.__("menu_challenges"),menuPath:"/challenges",onClick:function(){return e.onMenuClick("challenges","/challenges")}},{key:"events",text:this.__("menu_events"),menuPath:"/events",onClick:function(){return e.onMenuClick("events","/events")}},{key:"connections",text:this.__("menu_connections"),menuPath:"/connections",onClick:function(){return e.onMenuClick("connections","/connections",!0)}}]}},{key:"render",value:function(){var e=this.props,t=e.liveHelpEnabled,n=e.currentPath,a=t,o=this.getItems(),r=!1;return o.findIndex(function(e){return(e.menuPath||"").startsWith(n)})>-1&&"/"!==n&&(r=!0),w.default.createElement("div",{className:this.ss("first-menu")},w.default.createElement("div",{className:this.ss("icon-wrapper",r&&"active")},this.__("menu_text"),a&&w.default.createElement("div",{className:this.ss("new")})),w.default.createElement("div",{className:this.ss("menu-wrap")},w.default.createElement(C.default,{items:o,parent:this,showNew:a})))}}]),t}(),p.propTypes={liveHelpEnabled:y.default.bool,loginTo:y.default.func,loginUser:y.default.object,currentPath:y.default.string,sendCDPRequest:y.default.func},d=f))||d)||d)||d);t.default=M},function(e,t){e.exports={menu:"menu_3Un9Sv1K",items:"items_39qFc7hq",item:"item_1xCevqmY",new:"new_21i4obQF"}},function(e,t){e.exports={"first-menu":"first-menu_1dZys_oJ","menu-wrap":"menu-wrap_2w_GvYUd","icon-wrapper":"icon-wrapper_1pBRZHJ-",new:"new_3WCHE6sp",active:"active_1tql8CqI",icon:"icon_hUyv3gXn"}},function(e,t){e.exports={menu_text:"menu_text_wEJ_",menu_talents:"menu_talents_1Xiu",menu_companies:"menu_companies_3-5s",menu_schools:"menu_schools_2Pd6",menu_channels:"menu_channels_3aJ2",menu_challenges:"menu_challenges_3gxS",menu_events:"menu_events_10pt",menu_groups:"menu_groups_uHt2",menu_live_help:"menu_live_help_2YFt",menu_connections:"menu_connections_2THa",new:"new_2F_U"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["currentPath"],["currentPath"]),_=s(["header.loginTo"],["header.loginTo"]),g=s(["header.sendCDPRequest"],["header.sendCDPRequest"]),v=a(n(2)),b=a(n(1)),y=a(n(3)),w=n(5),j=n(0),E=a(n(68)),k=a(n(4)),C=a(n(326)),O=a(n(6)),P=a(n(327)),S=(l=(0,w.decorator)({currentPath:(0,j.state)(h),loginTo:(0,j.signal)(_),sendCDPRequest:(0,j.signal)(g)}),c=(0,k.default)(C.default),u=(0,O.default)(P.default),l(d=c(d=u((f=p=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,y.default),m(t,[{key:"onMenuClick",value:function(e,t){var n={menuType:"projects",subtype:e};this.props.sendCDPRequest({type:"menu",data:n,redirectUrl:t})}},{key:"getItems",value:function(){var e=this;return[{key:"articles",text:this.__("menu_articles"),menuPath:"/p?orderBy=trending:w&projectType=article",onClick:function(){return e.onMenuClick("articles","/p?orderBy=trending:w&projectType=article")}},{key:"showcases",text:this.__("menu_showcases"),menuPath:"/p?orderBy=trending:w&projectType=showcase",onClick:function(){return e.onMenuClick("showcases","/p?orderBy=trending:w&projectType=showcase")}},{key:"games",text:this.__("menu_games"),menuPath:"/p?orderBy=trending:w&projectType=game",onClick:function(){return e.onMenuClick("games","/p?orderBy=trending:w&projectType=game")}}]}},{key:"render",value:function(){var e=this.props.currentPath,t=this.getItems(),n=!1;return t.findIndex(function(t){return(t.menuPath||"").startsWith(e)})>-1&&"/"!==e&&(n=!0),b.default.createElement("div",{className:this.ss("first-menu")},b.default.createElement("div",{className:this.ss("icon-wrapper",n&&"active")},this.__("menu_text"),!1),b.default.createElement("div",{className:this.ss("menu-wrap")},b.default.createElement(E.default,{items:t,parent:this})))}}]),t}(),p.propTypes={currentPath:v.default.string,loginTo:v.default.func,sendCDPRequest:v.default.func},d=f))||d)||d)||d);t.default=S},function(e,t){e.exports={"first-menu":"first-menu_1xVg9hNy","menu-wrap":"menu-wrap_3QAHkrqg","icon-wrapper":"icon-wrapper_TPumiF4f",new:"new_1KzOOxW5",active:"active_1ovO-_rv",icon:"icon_khaSjY70"}},function(e,t){e.exports={menu_text:"menu_text_3UHi",menu_articles:"menu_articles_3_FH",menu_showcases:"menu_showcases_TFgY",menu_games:"menu_games_2gEq",new:"new_15kr"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["currentPath"],["currentPath"]),_=s(["header.postJob"],["header.postJob"]),g=s(["header.sendCDPRequest"],["header.sendCDPRequest"]),v=a(n(2)),b=a(n(1)),y=a(n(3)),w=n(5),j=n(0),E=a(n(68)),k=a(n(4)),C=a(n(329)),O=a(n(6)),P=a(n(330)),S=(l=(0,w.decorator)({currentPath:(0,j.state)(h),postJob:(0,j.signal)(_),sendCDPRequest:(0,j.signal)(g)}),c=(0,k.default)(C.default),u=(0,O.default)(P.default),l(d=c(d=u((f=p=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,y.default),m(t,[{key:"onMenuClick",value:function(e,t){var n={menuType:"jobs",subtype:e};this.props.sendCDPRequest({type:"menu",data:n,redirectUrl:t})}},{key:"getItems",value:function(){var e=this,t=this.props.postJob;return[{key:"search_jobs",text:this.__("menu_search_jobs"),onClick:function(){return e.onMenuClick("search_jobs","/jobs")}},{key:"post_jobs",text:this.__("menu_post_jobs"),otherClassName:["GA_btn_header_postJob"],onClick:function(){return t({source:"header"})}},{key:"manage_jobs",text:this.__("menu_manage_jobs"),onClick:function(){return e.onMenuClick("manage_jobs","/my/jobs")}}]}},{key:"render",value:function(){var e=this.props.currentPath,t=this.getItems(),n="/jobs"===e||"/jobs/0/resume"===e||"/my/jobs"===e;return b.default.createElement("div",{className:this.ss("first-menu")},b.default.createElement("div",{className:this.ss("icon-wrapper",n&&"active")},this.__("menu_text"),!1),b.default.createElement("div",{className:this.ss("menu-wrap")},b.default.createElement(E.default,{items:t,parent:this})))}}]),t}(),p.propTypes={currentPath:v.default.string,postJob:v.default.func,sendCDPRequest:v.default.func},d=f))||d)||d)||d);t.default=S},function(e,t){e.exports={"first-menu":"first-menu_1sbJSQP5","menu-wrap":"menu-wrap_3skhSRHM","icon-wrapper":"icon-wrapper_w3sd7Klr",new:"new_1eh48EQR",active:"active_GCZUtISb",icon:"icon_3GfX46ip"}},function(e,t){e.exports={menu_text:"menu_text_19ez",menu_search_jobs:"menu_search_jobs_3bh-",menu_post_jobs:"menu_post_jobs_Vv2L",menu_manage_jobs:"menu_manage_jobs_30Ob"}},function(e,t){e.exports={"first-menu":"first-menu_39LZCCai","menu-wrap":"menu-wrap_3ETLHqkJ","icon-wrapper":"icon-wrapper_1HFj8ixK",new:"new_1jqEHjm1",active:"active_fhEpatfC",icon:"icon_2CzHv9Vd"}},function(e,t){e.exports={menu_text:"menu_text_3Gg6",discover:"discover_3va7"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,u,d,p,f,m,h=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),_=l(["header.createGroupDialog.show"],["header.createGroupDialog.show"]),g=l(["header.createGroupDialog.form"],["header.createGroupDialog.form"]),v=l(["header.createGroupDialog.updateStatus"],["header.createGroupDialog.updateStatus"]),b=l(["header.groupCategory"],["header.groupCategory"]),y=l(["header.languageOptions"],["header.languageOptions"]),w=l(["header.createGroupDialog.isEdit"],["header.createGroupDialog.isEdit"]),j=l(["header.createGroupDialog.skillMap"],["header.createGroupDialog.skillMap"]),E=l(["loginUser"],["loginUser"]),k=l(["header.recaptchaCode"],["header.recaptchaCode"]),C=l(["header.groupBaseDataStatus"],["header.groupBaseDataStatus"]),O=l(["header.closeCreateGroupDialog"],["header.closeCreateGroupDialog"]),P=l(["header.changeGroupAvatar"],["header.changeGroupAvatar"]),S=l(["header.changeGroupName"],["header.changeGroupName"]),N=l(["header.changeGroupCategory"],["header.changeGroupCategory"]),M=l(["header.changeDescription"],["header.changeDescription"]),T=l(["header.changePrivacy"],["header.changePrivacy"]),x=l(["header.changeLicense"],["header.changeLicense"]),I=l(["header.createGroup"],["header.createGroup"]),R=l(["header.showMessage"],["header.showMessage"]),D=l(["header.changeLanguage"],["header.changeLanguage"]),A=l(["header.addTag"],["header.addTag"]),U=l(["header.deleteTag"],["header.deleteTag"]),L=a(n(2)),z=a(n(1)),W=a(n(3)),H=n(5),B=n(0),q=a(n(37)),F=a(n(28)),K=a(n(46)),G=a(n(136)),V=n(7),J=a(n(334)),Y=a(n(17)),Q=a(n(57)),X=a(n(47)),Z=n(11),$=a(n(126)),ee=a(n(4)),te=a(n(340)),ne=n(6),ae=a(ne),oe=a(n(341)),re=a(n(342)),ie=(c=(0,H.decorator)({show:(0,B.state)(_),form:(0,B.state)(g),updateStatus:(0,B.state)(v),categoryOptions:(0,B.state)(b),languageOptions:(0,B.state)(y),isEdit:(0,B.state)(w),skillMap:(0,B.state)(j),loginUser:(0,B.state)(E),recaptchaCode:(0,B.state)(k),getGroupOptionsStatus:(0,B.state)(C),onClose:(0,B.signal)(O),changeGroupAvatar:(0,B.signal)(P),changeGroupName:(0,B.signal)(S),changeGroupCategory:(0,B.signal)(N),changeDescription:(0,B.signal)(M),changePrivacy:(0,B.signal)(T),changeLicense:(0,B.signal)(x),createGroup:(0,B.signal)(I),showMessage:(0,B.signal)(R),changeLanguage:(0,B.signal)(D),addTag:(0,B.signal)(A),deleteTag:(0,B.signal)(U)}),u=(0,ee.default)(te.default),d=(0,ae.default)(oe.default),c(p=u(p=d((m=f=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,W.default),h(t,[{key:"onClose",value:function(){var e=this.props.onClose;e&&e()}},{key:"updateAvatar",value:function(e){this.props.changeGroupAvatar({value:e})}},{key:"renderPrivacyItem",value:function(e){var t=e.value,n={public:"icons-public",closed:"icons-lockoff",secret:"icons-lockon"};return z.default.createElement("div",{className:this.ss("privacy-item")},z.default.createElement("div",{className:this.ss("icon","ifont","ifont-"+n[t])}),z.default.createElement("div",{className:this.ss("right")},z.default.createElement("div",{className:this.ss("name")},this.__("group_"+t)),z.default.createElement("div",{className:this.ss("hint")},this.__("group_"+t+"_hint"))))}},{key:"renderLanguage",value:function(){var e=this.props,t=e.isEdit,n=e.changeLanguage,a=e.form.language,r=e.languageOptions;if(!t)return null;var i=[].concat(o(r));i.sort(function(e,t){var n=e.name.toUpperCase(),a=t.name.toUpperCase();return n<a?-1:n>a?1:0});var s=i.map(function(e){return{text:e.name,value:e.id}});return z.default.createElement("div",{className:this.ss("field")},z.default.createElement("div",{className:this.ss("title")},this.__("preferred_language")),z.default.createElement("div",{className:this.ss("input-wrapper")},z.default.createElement(K.default,{hintText:this.__("hint_language"),selects:s,value:a.value,onChange:function(e,t,a){return n({value:a})}})))}},{key:"renderTags",value:function(){var e=this.props,t=e.isEdit,n=e.skillMap,a=e.form.tags,o=e.addTag,r=e.deleteTag;return t?z.default.createElement("div",{className:this.ss("field")},z.default.createElement("div",{className:this.ss("title")},this.__("tags")),z.default.createElement("div",{className:this.ss("tags-wrapper")},z.default.createElement(Q.default,{inputType:"multiple",st:"skill",hintText:this.__("add_tags"),valueTheme:"gray",skillType:"skill",addInputValue:!0,tagType:"tag",selectedIds:a.value,idToCandidateMap:n,onSelected:function(e){return o({value:e})},onRemove:function(e){var t=e.id;return r({value:t})}}))):null}},{key:"renderLicenseSelect",value:function(){var e=this.props,t=e.form,n=t.unityLicense,a=t.privacy,o=e.loginUser,r=e.isEdit,i=e.changeLicense,s={color:"#5a5a5b",fontWeight:"normal"},l=(o||{}).isStaff;return"closed"===a.value&&l?z.default.createElement("div",{className:this.ss("field")},z.default.createElement("div",{className:this.ss("title")},this.__("member_limitation")),z.default.createElement("div",{className:this.ss("limitation-selects")},z.default.createElement(X.default,{theme:"primary",label:this.__("limitation_pro_plus"),labelStyle:s,className:this.ss("radio"),disabled:r,value:Z.groupLimitations.plus,isChecked:n.value===Z.groupLimitations.plus,onCheck:function(e,t){return!r&&i({value:t})}}),z.default.createElement(X.default,{theme:"primary",label:this.__("limitation_pro_only"),labelStyle:s,className:this.ss("radio"),disabled:r,value:Z.groupLimitations.pro,isChecked:n.value===Z.groupLimitations.pro,onCheck:function(e,t){return!r&&i({value:t})}}),z.default.createElement(X.default,{theme:"primary",label:this.__("limitation_none"),labelStyle:s,className:this.ss("radio"),disabled:r,value:Z.groupLimitations.none,isChecked:n.value===Z.groupLimitations.none,onCheck:function(e,t){return!r&&i({value:t})}}))):null}},{key:"renderCaptcha",value:function(){return z.default.createElement("div",{className:this.ss("field")},z.default.createElement($.default,null))}},{key:"renderCategoryOptions",value:function(){var e=this,t=this.props,n=t.form.category,a=t.categoryOptions,o=t.getGroupOptionsStatus,r=t.changeGroupCategory,i=a.map(function(t){return{text:(0,ne.i18n)(e.context,re.default,t.refId),value:t.id}});return(0,V.isLoading)(o)?z.default.createElement("div",{className:this.ss("input-wrapper","category-options")},z.default.createElement("div",{className:this.ss("loading-wrapper")},z.default.createElement("div",{className:this.ss("loading")}))):z.default.createElement("div",{className:this.ss("input-wrapper","category-options")},z.default.createElement(K.default,{hintText:this.__("hint_category"),textClassName:this.ss("option-text"),selects:i,value:n.value,onChange:function(e,t,n){return r({value:n})}}),z.default.createElement("div",{className:this.ss("error")},n.isTouched&&this.__(n.errorMessage)))}},{key:"renderFields",value:function(){var e=this,t=this.props,n=t.form,a=n.avatar,o=n.name,r=n.description,i=n.privacy,s=t.isEdit,l=t.changeGroupName,c=t.changeDescription,u=t.changePrivacy,d=["public","closed","secret"].map(function(e){return{text:e,value:e}}),p={},f=!1;return a.value&&(p.backgroundImage='url("'+a.value+'")',f=!0),z.default.createElement("div",{className:this.ss("fields")},z.default.createElement("div",{className:this.ss("top-wrapper")},z.default.createElement("div",{className:this.ss("left")},z.default.createElement("a",{className:this.ss("avatar"),style:p,onClick:function(){return e.refs.crop.onSelectFile()}},z.default.createElement("div",{className:this.ss("icon",f&&"hide","ifont","ifont-camera-icon")}),f&&z.default.createElement("div",{className:this.ss("hover-wrapper")},z.default.createElement("div",{className:this.ss("icon","ifont","ifont-camera-icon")}))),z.default.createElement("div",{className:this.ss("error")},a.isTouched&&this.__(a.errorMessage))),z.default.createElement("div",{className:this.ss("right")},z.default.createElement("div",{className:this.ss("field")},z.default.createElement("div",{className:this.ss("title")},this.__("name")),z.default.createElement("div",{className:this.ss("input-wrapper")},z.default.createElement(q.default,{value:o.value,disabled:s,placeholder:this.__("hint_name"),onChange:function(e,t){return l({value:t})}}),z.default.createElement("div",{className:this.ss("error")},o.isTouched&&this.__(o.errorMessage)))),z.default.createElement("div",{className:this.ss("field","category")},z.default.createElement("div",{className:this.ss("title")},this.__("category")),this.renderCategoryOptions()))),z.default.createElement("div",{className:this.ss("field")},z.default.createElement("div",{className:this.ss("title")},this.__("description")),z.default.createElement("div",{className:this.ss("text-area-wrapper")},z.default.createElement(G.default,{inputValue:r.value,rows:1,fontWidthEstimate:5,className:this.ss("text-area"),placeholder:this.__("hint_description"),onChange:function(e){return c({value:e})}}),z.default.createElement("div",{className:this.ss("error")},r.isTouched&&this.__(r.errorMessage)))),this.renderLanguage(),this.renderTags(),z.default.createElement("div",{className:this.ss("field")},z.default.createElement("div",{className:this.ss("title")},this.__("select_privacy"),z.default.createElement("div",{className:this.ss("tips","warning")},this.__("privacy_tips"))),z.default.createElement("div",{className:this.ss("input-wrapper","privacy")},z.default.createElement(K.default,{className:this.ss("select-container"),optGroupClassName:this.ss("select-items"),optClassName:this.ss("select-opt"),hintText:this.__("hint_category"),selects:d,value:i.value,disabled:s,renderItem:function(t){return e.renderPrivacyItem(t)},onChange:function(e,t,n){return u({value:n})}}),z.default.createElement("div",{className:this.ss("error")},i.isTouched&&this.__(i.errorMessage)))),this.renderLicenseSelect(),this.renderCaptcha())}},{key:"render",value:function(){var e=this,t=this.props,n=t.show,a=t.updateStatus,o=t.isEdit,r=t.createGroup,i=t.showMessage,s=t.recaptchaCode;return z.default.createElement(F.default,{open:n,title:o?this.__("edit_group"):this.__("create_new_group"),width:640,submitStyle:"ok/cancel",submitDisable:!s,submitInProgress:(0,V.isLoadingOrSucceeded)(a),onClose:function(){return e.onClose()},onSubmit:function(){return r({isEdit:o})}},z.default.createElement("div",{className:this.ss("content")},z.default.createElement(Y.default,null,this.renderFields())),z.default.createElement(J.default,{ref:"crop",onSave:function(t){return e.updateAvatar(t)},onSetError:function(){return i({message:"image_type_error"})}}))}}]),t}(),f.propTypes={show:L.default.bool,form:L.default.object,updateStatus:L.default.string,categoryOptions:L.default.array,languageOptions:L.default.array,isEdit:L.default.bool,skillMap:L.default.object,loginUser:L.default.object,recaptchaCode:L.default.string,getGroupOptionsStatus:L.default.string,onClose:L.default.func,changeGroupAvatar:L.default.func,changeGroupName:L.default.func,changeGroupCategory:L.default.func,changeDescription:L.default.func,changePrivacy:L.default.func,changeLicense:L.default.func,createGroup:L.default.func,showMessage:L.default.func,changeLanguage:L.default.func,addTag:L.default.func,deleteTag:L.default.func},p=m))||p)||p)||p);t.default=ie},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u,d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=a(n(2)),m=a(n(1)),h=a(n(3)),_=a(n(335)),g=a(n(4)),v=a(n(338)),b={cropWidth:128,cropHeight:128,maxCropWidth:400,maxCropHeight:400},y={open:!1,top:0,left:0,imageFile:"",imageWidth:0,imageHeight:0,originWidth:0,originHeight:0},w=(s=(0,g.default)(v.default))((u=c=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state=y,i=n,r(a,i)}return i(t,h.default),p(t,[{key:"onSelectFile",value:function(){this.refs.fileSelect.click()}},{key:"onClose",value:function(){this.setState(y)}},{key:"setImageSize",value:function(e){var t=e||{},n=t.src,a=t.width,o=t.height,r=218*a/o;480>=r?this.setState({open:!0,imageFile:n,imageWidth:r,imageHeight:218,originWidth:a,originHeight:o}):this.normalizeImage(e)}},{key:"getPosition",value:function(){var e=this.state,t=e.imageWidth;return{top:(e.imageHeight-128)/2,left:(t-128)/2}}},{key:"normalizeImage",value:function(e){var t=this,a=n(339).resizeCanvas,o=document.createElement("canvas");o.width=e.width,o.height=e.height,o.getContext("2d").drawImage(e,0,0,o.width,o.height);var r=Math.min(e.width/480,e.height/218),i=document.createElement("canvas");i.width=e.width/r,i.height=e.height/r,a(o,i,{},function(e){e&&console.log(e);var n=document.createElement("canvas");n.width=480,n.height=218;var a=(i.width-n.width)/-2,o=(i.height-n.height)/-2;n.getContext("2d").drawImage(i,a,o,i.width,i.height);var r=n.toDataURL("image/jpeg");t.setState({open:!0,imageFile:r,imageWidth:480,imageHeight:218,originWidth:480,originHeight:218})})}},{key:"handleFile",value:function(e){var t=e.target.files[0];t&&(t.type.match(/image\/(png|jpeg)/)?this.handleFileChange(t):this.props.onSetError&&this.props.onSetError(),this.refs.fileSelect.value=null)}},{key:"handleFileChange",value:function(e){var t=this,n=new FileReader;n.onload=function(e){var n=e.target.result,a=new Image;a.src=n,a.onload=function(){t.setImageSize(a)}},n.readAsDataURL(e)}},{key:"render",value:function(){var e=this,t=this.getPosition(),n=d({},b,this.props,this.state,t);return m.default.createElement("div",null,m.default.createElement(_.default,d({},n,{width:480,onClose:function(){return e.onClose()}})),m.default.createElement("input",{type:"file",ref:"fileSelect",className:this.ss("hide"),accept:"image/*",onChange:function(t){return e.handleFile(t)}}))}}]),t}(),c.propTypes={onSave:f.default.func,onSetError:f.default.func},l=u))||l;t.default=w},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=a(n(2)),_=a(n(1)),g=a(n(3)),v=a(n(72)),b=a(n(13)),y=n(11),w=a(n(4)),j=a(n(336)),E=a(n(6)),k=a(n(337)),C=(l=(0,w.default)(j.default),c=(0,E.default)(k.default),l(u=c((p=d=function(e){function t(){var e,n,a,o;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={onMove:!1,onResize:!1,clientX:0,clientY:0,top:NaN,left:NaN,cropWidth:NaN},a.onClose=function(){a.setState({onMove:!1,onResize:!1,clientX:0,clientY:0,top:NaN,left:NaN,cropWidth:NaN}),a.props.onClose&&a.props.onClose()},o=n,i(a,o)}return s(t,g.default),m(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("mouseup",function(){return e.onDragResizeEnd()}),window.addEventListener("mousemove",function(t){return e.onDrag(t)})}},{key:"componentWillUnmount",value:function(){var e=this;window.removeEventListener("mouseup",function(){return e.onDragResizeEnd()}),window.removeEventListener("mousemove",function(t){return e.onDrag(t)})}},{key:"onSave",value:function(){var e=this,t=this.props,n=t.imageHeight,a=t.imageFile,o=t.originWidth,r=t.originHeight,i=t.maxCropWidth,s=t.maxCropHeight,l=this.getNumber("top"),c=this.getNumber("left"),u=this.getNumber("cropWidth"),d=Math.round(u*this.getSizeRatio()),p=new Image;p.src=a,p.width=o,p.height=r,p.onload=function(){var t=(1*r/n).toFixed(2),a=Math.round(l*t),f=Math.round(c*t),m=Math.round(u*t),h=Math.round(d*t);m+f>o&&(m=o-f),h+a>r&&(h=r-a);var _=Math.min(i,m),g=Math.min(s,h),v=document.createElement("canvas"),b=v.getContext("2d");v.width=_,v.height=g,b.drawImage(p,f,a,m,h,0,0,_,g);var y=v.toDataURL("image/jpeg");e.props.onSave&&e.props.onSave(y),e.onClose()}}},{key:"onDragMoveStart",value:function(e){(0,y.pauseEvent)(e);var t=e.clientX,n=e.clientY,a=this.getNumber("top"),o=this.getNumber("left");this.setState({onMove:!0,clientX:t,clientY:n,top:a,left:o})}},{key:"onDragMove",value:function(e){var t=this.props,n=t.imageWidth,a=t.imageHeight,o=this.state,r=o.clientX,i=o.clientY;if(o.onMove){var s=this.getNumber("top"),l=this.getNumber("left"),c=this.getNumber("cropWidth"),u=this.getSizeRatio(),d=Math.round(c*u),p=e.clientX,f=e.clientY,m=p-r,h=a-d,_=n-c,g=s+(f-i);g=Math.max(g,0),g=Math.min(g,h);var v=l+m;v=Math.max(v,0),v=Math.min(v,_),this.setState({clientX:p,clientY:f,top:g,left:v})}}},{key:"onDragResizeStart",value:function(e,t){(0,y.pauseEvent)(e);var n=e.clientX;this.setState({onResize:!0,clientX:n,direction:t})}},{key:"onDragResizeEnd",value:function(){var e=this.state,t=e.onResize,n=e.onMove;(t||n)&&this.setState({onResize:!1,onMove:!1})}},{key:"onDrag",value:function(e){var t=this.state,n=t.onResize,a=t.onMove;n?this.onDragResize(e):a&&this.onDragMove(e)}},{key:"onDragResize",value:function(e){switch(this.state.direction){case"nw":this.resizeNW(e);break;case"ne":this.resizeNE(e);break;case"sw":this.resizeSW(e);break;case"se":this.resizeSE(e);break;default:this.resizeNW(e)}}},{key:"getNumber",value:function(e){var t=this.props[e],n=this.state[e];return Number.isFinite(n)?n:t||0}},{key:"getSizeRatio",value:function(){var e=this.props,t=e.cropWidth;return(e.cropHeight/t).toFixed(2)}},{key:"resizeNW",value:function(e){var t=this.state,n=t.clientX;if(t.onResize){var a=this.getNumber("top"),o=this.getNumber("left"),r=this.getNumber("cropWidth"),i=this.getSizeRatio(),s=e.clientX,l=s-n;l<0&&(l=-Math.min(Math.abs(l),Math.abs(a),Math.abs(o)));var c=r-l;if(c>=20){var u=a+Math.round(l*i),d=o+l;this.setState({clientX:s,top:u,left:d,cropWidth:c})}else this.setState({clientX:s})}}},{key:"resizeNE",value:function(e){var t=this.props.imageWidth,n=this.state,a=n.clientX;if(n.onResize){var o=this.getNumber("top"),r=this.getNumber("left"),i=this.getNumber("cropWidth"),s=this.getSizeRatio(),l=e.clientX,c=-(l-a);c<0&&(c=-Math.min(Math.abs(c),Math.abs(o),Math.abs(Math.max(0,t-i-r))));var u=i-c;if(u>=20){var d=o+Math.round(c*s);this.setState({clientX:l,top:d,cropWidth:u})}else this.setState({clientX:l})}}},{key:"resizeSW",value:function(e){var t=this.props.imageHeight,n=this.state,a=n.clientX;if(n.onResize){var o=this.getNumber("top"),r=this.getNumber("left"),i=this.getNumber("cropWidth"),s=this.getSizeRatio(),l=Math.round(i*s),c=e.clientX,u=c-a;u<0&&(u=-Math.min(Math.abs(u),Math.abs(Math.max(0,t-l-o)),Math.abs(r)));var d=i-u;if(d>=20){var p=r+u;this.setState({clientX:c,left:p,cropWidth:d})}else this.setState({clientX:c})}}},{key:"resizeSE",value:function(e){var t=this.props,n=t.imageHeight,a=t.imageWidth,o=this.state,r=o.clientX;if(o.onResize){var i=this.getNumber("top"),s=this.getNumber("left"),l=this.getNumber("cropWidth"),c=this.getSizeRatio(),u=Math.round(l*c),d=e.clientX,p=-(d-r);p<0&&(p=-Math.min(Math.abs(p),Math.abs(Math.max(0,n-u-i)),Math.abs(Math.max(0,a-l-s))));var f=l-p;f>=20?this.setState({clientX:d,cropWidth:f}):this.setState({clientX:d})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.imageFile,a=t.imageWidth,r=t.imageHeight,i=o(t,["imageFile","imageWidth","imageHeight"]),s=this.state,l=s.onResize,c=s.direction,u=this.getNumber("top"),d=this.getNumber("left"),p=this.getNumber("cropWidth"),m=this.getSizeRatio(),h={width:a,height:r},g={width:a,height:r,marginLeft:-d-1,marginTop:-u-1},y={top:u,left:d,width:p,height:Math.round(p*m)},w={};return l&&(w.cursor=c+"-resize",y.pointerEvents="none"),_.default.createElement(v.default,f({},i,{title:this.__("title"),disableBgClick:!0,onCloseModal:this.onClose}),_.default.createElement("div",{className:this.ss("content"),style:{height:r}},_.default.createElement("div",{className:this.ss("content-wrapper"),style:w},_.default.createElement("img",{src:n,style:h,alt:"",className:this.ss("image")}),_.default.createElement("div",{style:y,className:this.ss("crop-wrapper")},_.default.createElement("div",{className:this.ss("crop-inner-wrapper")},_.default.createElement("div",{className:this.ss("image-wrapper"),draggable:"true",onDragStart:function(t){return e.onDragMoveStart(t)}},_.default.createElement("img",{src:n,style:g,alt:""}))),_.default.createElement("div",{className:this.ss("top-left","drag-block"),onMouseDown:function(t){return e.onDragResizeStart(t,"nw")},onMouseUp:function(){return e.onDragResizeEnd()}}),_.default.createElement("div",{className:this.ss("top-right","drag-block"),onMouseDown:function(t){return e.onDragResizeStart(t,"ne")},onMouseUp:function(){return e.onDragResizeEnd()}}),_.default.createElement("div",{className:this.ss("bottom-left","drag-block"),onMouseDown:function(t){return e.onDragResizeStart(t,"sw")},onMouseUp:function(){return e.onDragResizeEnd()}}),_.default.createElement("div",{className:this.ss("bottom-right","drag-block"),onMouseDown:function(t){return e.onDragResizeStart(t,"se")},onMouseUp:function(){return e.onDragResizeEnd()}})))),_.default.createElement("div",{className:this.ss("buttons")},_.default.createElement(b.default,{className:this.ss("add"),theme:"primary",label:this.__("add"),onClick:function(){return e.onSave()}})))}}]),t}(),d.propTypes={open:h.default.bool,imageFile:h.default.string,left:h.default.number,top:h.default.number,cropWidth:h.default.number,cropHeight:h.default.number,maxCropWidth:h.default.number,maxCropHeight:h.default.number,imageWidth:h.default.number,imageHeight:h.default.number,originWidth:h.default.number,originHeight:h.default.number,onSave:h.default.func,onClose:h.default.func,onSetError:h.default.func},u=p))||u)||u);t.default=C},function(e,t){e.exports={content:"content_2-Opc0gg","content-wrapper":"content-wrapper_1n68JqKz",image:"image_P4zbd4kA","crop-wrapper":"crop-wrapper_xFfVcLzJ","crop-inner-wrapper":"crop-inner-wrapper_3-Rzu2z_","image-wrapper":"image-wrapper_3MwA9Xb3","drag-block":"drag-block_2JV4w5K1","top-left":"top-left_1Iyu6Dpj","top-right":"top-right_3fkfAlDn","bottom-left":"bottom-left__xY0YyM_","bottom-right":"bottom-right_27x-c3SA",crop:"crop__IyZlPTI",buttons:"buttons_16lIDcK0",add:"add_1LW0yga-",hide:"hide_alBS4eRy"}},function(e,t){e.exports={title:"title_2l8l",add:"add_1ky6"}},function(e,t){e.exports={hide:"hide_3N_qgKYS"}},function(e,t,n){e.exports=n(8)(979)},function(e,t){e.exports={content:"content_2vJyTSvp",fields:"fields_2auNdYNB","top-wrapper":"top-wrapper_2jHOk1UL",left:"left_28Vk8RsS",avatar:"avatar_2FX0FCbc","hover-wrapper":"hover-wrapper_3WoKE0HS",icon:"icon_2P68HjkM",hide:"hide_3q61DuUG",right:"right_2_s_Jd28",field:"field_3MfJ7F9t",category:"category_303N_-Dp",title:"title_3diTr2iC",tips:"tips_1y-DocRs",warning:"warning_2azMD45N","input-wrapper":"input-wrapper_2Hfu4jIv",privacy:"privacy_1MkKo3qe","select-container":"select-container_1eYYJlYk","select-items":"select-items_2QGni25b","select-opt":"select-opt_2__ikyZJ","category-options":"category-options_1cld70L4","loading-wrapper":"loading-wrapper_3YhRzl_z",loading:"loading_3NDCjrpv",input:"input_18A_cvLt","inner-border":"inner-border_le8jRI-q","option-text":"option-text_Exa0nka8","tags-wrapper":"tags-wrapper_zh14r1ZM","text-area-wrapper":"text-area-wrapper_1Hl-9-4K","text-area":"text-area_D5eJvNEk",error:"error_4uyy_fxI","privacy-item":"privacy-item_1Wnm-DVQ",name:"name_2U5tSH4W",hint:"hint_30yEe9i8","limitation-selects":"limitation-selects_3iYFva4X",radio:"radio_3OIn5BaA"}},function(e,t){e.exports={create_new_group:"create_new_group_1-h0",edit_group:"edit_group_2hZl",name:"name_3NUv",category:"category_zaHW",description:"description_12Bn",hint_name:"hint_name_1y39",hint_description:"hint_description_1Jxa",hint_category:"hint_category_-fG7",error_maxLength60:"error_maxLength60_2jhj",error_maxLength1000:"error_maxLength1000_LAXI",select_privacy:"select_privacy_1ZKD",group_public:"group_public_111a",group_closed:"group_closed_24VH",group_secret:"group_secret_3pNp",group_public_hint:"group_public_hint_3l1c",group_closed_hint:"group_closed_hint_1m63",group_secret_hint:"group_secret_hint_Iv5A",error_isRequired:"error_isRequired_2Dv0",preferred_language:"preferred_language_3hbz",hint_language:"hint_language_1oVB",tags:"tags_3N2F",add_tags:"add_tags_14d3",privacy_tips:"privacy_tips_yfyR",member_limitation:"member_limitation_2pDs",limitation_pro_plus:"limitation_pro_plus_3McO",limitation_pro_only:"limitation_pro_only_3RYq",limitation_none:"limitation_none_2ju2"}},function(e,t){e.exports={categories:"categories_PI7h",hottest:"hottest_1gK7",latest:"latest_f0Qh",filter:"filter_10tw",school_education:"school_education_1mOk",news:"news_3aAz",community:"community_GF7r",work:"work_2KFP",skill_interest:"skill_interest_2YNm",groups_from_unity:"groups_from_unity_fK0p",user_groups:"user_groups_bN5r"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["header.ongoingSession.show"],["header.ongoingSession.show"]),_=s(["header.ongoingSession.question"],["header.ongoingSession.question"]),g=s(["header.ongoingSession.user"],["header.ongoingSession.user"]),v=s(["header.closeOngoingSessionWidget"],["header.closeOngoingSessionWidget"]),b=a(n(2)),y=a(n(1)),w=a(n(3)),j=n(0),E=n(5),k=a(n(54)),C=a(n(4)),O=a(n(344)),P=a(n(6)),S=a(n(345)),N=(l=(0,E.decorator)({show:(0,j.state)(h),question:(0,j.state)(_),user:(0,j.state)(g),closeOngoingSessionWidget:(0,j.signal)(v)}),c=(0,C.default)(O.default),u=(0,P.default)(S.default),l(d=c(d=u((f=p=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,w.default),m(t,[{key:"render",value:function(){var e=this.props,t=e.show,n=e.question,a=e.user,o=e.closeOngoingSessionWidget;if(!t)return null;var r=n.id,i=a.fullName,s="/workspace/"+r;return y.default.createElement("div",{className:this.ss("on-going-session")},this.__("tips",{fullName:i,link:s}),y.default.createElement("a",{className:this.ss("link"),onClick:function(){return(0,k.default)(s)}},this.__("enter_workspace")),".",y.default.createElement("div",{className:this.ss("icon-close","ifont","ifont-icon-close2"),onClick:function(){return o()}}))}}]),t}(),p.propTypes={show:b.default.bool,question:b.default.object,user:b.default.object,closeOngoingSessionWidget:b.default.func},d=f))||d)||d)||d);t.default=N},function(e,t){e.exports={"on-going-session":"on-going-session_3mEFdOiK",link:"link_3PfyuNTO","icon-close":"icon-close_G5qFuSEt"}},function(e,t){e.exports={tips:"tips_2KKw",enter_workspace:"enter_workspace_LANO"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["header.unpaidSession.show"],["header.unpaidSession.show"]),_=s(["header.unpaidSession.question"],["header.unpaidSession.question"]),g=s(["currentHost"],["currentHost"]),v=s(["header.closeUnpaidSessionWidget"],["header.closeUnpaidSessionWidget"]),b=a(n(2)),y=a(n(1)),w=a(n(3)),j=n(0),E=n(5),k=a(n(50)),C=a(n(4)),O=a(n(347)),P=a(n(6)),S=a(n(348)),N=(l=(0,E.decorator)({show:(0,j.state)(h),question:(0,j.state)(_),currentHost:(0,j.state)(g),closeUnpaidSessionWidget:(0,j.signal)(v)}),c=(0,C.default)(O.default),u=(0,P.default)(S.default),l(d=c(d=u((f=p=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,w.default),m(t,[{key:"render",value:function(){var e=this.props,t=e.show,n=e.closeUnpaidSessionWidget,a=e.question,o=e.currentHost;if(!t)return null;var r=(a||{}).id,i=(0,k.default)("/session_detail?id="+r,o);return y.default.createElement("div",{className:this.ss("unpaid-session")},this.__("tip_genesis_fail",{link:i}),y.default.createElement("div",{className:this.ss("icon-close","ifont","ifont-icon-close2"),onClick:function(){return n()}}))}}]),t}(),p.propTypes={show:b.default.bool,question:b.default.object,currentHost:b.default.string,closeUnpaidSessionWidget:b.default.func},d=f))||d)||d)||d);t.default=N},function(e,t){e.exports={"unpaid-session":"unpaid-session_3CWGCjqI","icon-close":"icon-close_1sBseHQK"}},function(e,t){e.exports={tip_pending:"tip_pending_7RgX",tip_genesis_fail:"tip_genesis_fail_1VPN"}},function(e,t){e.exports={"header-wrap":"header-wrap_GEr2c682",header:"header_257pCc7M",logo:"logo_2qLo13oA","main-menu-wrapper":"main-menu-wrapper_2eWH5ERW","mobile-search":"mobile-search_1Z64zx8n","search-icon":"search-icon_1aNZfCuf","main-menu":"main-menu_1tN5E3Qk","menu-left":"menu-left_flKNOvnq","menu-right":"menu-right_3N8zyF91","user-actions":"user-actions_2nPAaNhU","beta-user":"beta-user_qYfiTnah","logout-btn":"logout-btn_1xXhzsUW",activity:"activity_2hsBDG1G",connections:"connections_3pKyu_1S",link:"link_1vCaVFnC",popout:"popout_INZi8Dlv",users:"users_3kyuoJZx",teams:"teams_w3QxeBEQ",blog:"blog_3Q2yx8Ad",active:"active_-jEgOzvA","post-job":"post-job_4QxSo5qh","post-project":"post-project_1fTFfVat","login-action":"login-action_3l78Blzg",icon:"icon_1vkcqUWb","avatar-action":"avatar-action_3Hs5yanb",button:"button_TlVLGbNi","button-inner":"button-inner_EbWpvfpx","down-icon":"down-icon_2La7glGl",webgl:"webgl_3r0oc8_L",left:"left_1-ZhBma-",right:"right_3-9oUgPp",title:"title_1tNdREWD",list:"list_3uIUx6lR",item:"item_10ugXhqD","item--reference":"item--reference_dHDPmLb0",badge:"badge_3wOL_6zr","team-name":"team-name_1nJe3SSL","item-school":"item-school_2KuzAuT6",school:"school_2X80dDsQ",draft:"draft_WEej8aLz",reject:"reject_1PaU8oLA",hover:"hover_3_slvHfk","bars-action":"bars-action_IfoerojT","search-action":"search-action_1nBrxqFZ",divider:"divider_2TI-g4Gz","chat-action":"chat-action_1rsrH49i","chat-icon":"chat-icon_2HIU7Ta2",open:"open_2NV3yUwa","notifications-action":"notifications-action_6onoUfYJ","notifications-icon":"notifications-icon_2sOVPumh","app-switcher-action":"app-switcher-action_2o5Ba6sD","app-switcher-icon":"app-switcher-icon_biYRoW9m","messages-wrap":"messages-wrap_1tlb7AbE","messages-action":"messages-action_3dV74hna","messages-icon":"messages-icon_LvBNieoE","badge-hint":"badge-hint_3JsnXWcw","beta-logo":"beta-logo_CMtP53c_","messages-unread":"messages-unread_1axU4mVW","mobile-search-box":"mobile-search-box_2uhRfA1h","app-switcher":"app-switcher_30lhKb3b","switcher-wrap":"switcher-wrap_2AMtj4oL","app-item":"app-item__7ZrOmfi","app-icon":"app-icon_1Zb9VDQz","app-name":"app-name_ArqHW3kt","profile-wrap":"profile-wrap_1Yarzwu_","profile-avatar-wrap":"profile-avatar-wrap_2qyuXREQ",avatar:"avatar_o_aKnY8g","profile-account":"profile-account_16ouBH7U","profile-name":"profile-name_2Ltp-gZg","profile-email":"profile-email_S1nbHvTm","profile-link":"profile-link_2g1TJ3cw","anonymous-wrap":"anonymous-wrap_3uKdHweu","anonymous-avatar":"anonymous-avatar_olPh5ROn","anonymous-name":"anonymous-name_1nPcGJQ6","login-desc":"login-desc_36VP292p","profile-completeness-wrap":"profile-completeness-wrap_2ma2wuAk","profile-completeness":"profile-completeness_3RoN3UKt","completeness-text":"completeness-text_2DiiRRPi","edit-link":"edit-link_-P9Ql8In","progress-bar":"progress-bar_1UypRVDA","menu-item":"menu-item_3nU9LEYN","item-icon":"item-icon_3NQaz43Q","item-name":"item-name_26DsXl9a","account-switcher":"account-switcher_eSCn1fWL","sunset-bar-wrap":"sunset-bar-wrap_1ah9BFZh","sunset-bar":"sunset-bar_2hlzcykx","sunset-title":"sunset-title_3reBlXQ-","sunset-link":"sunset-link_1iOL-TXb"}},function(e,t,n){e.exports=n.p+"../styles/i/connect-logo.927b13506030489ed4daf90f9c417423.png"},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["region"],["region"]),_=s(["autoLocated"],["autoLocated"]),g=s(["footer.regionChange"],["footer.regionChange"]),v=a(n(2)),b=a(n(1)),y=a(n(14)),w=n(5),j=n(0),E=a(n(3)),k=a(n(46)),C=a(n(13)),O=a(n(4)),P=a(n(352)),S=n(6),N=a(S),M=a(n(353)),T=a(n(106)),x=(l=(0,w.decorator)({region:(0,j.state)(h),autoLocated:(0,j.state)(_),regionChange:(0,j.signal)(g)}),c=(0,O.default)(P.default),u=(0,N.default)(M.default),l(d=c(d=u((f=p=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={choiceRegion:a.props.region},i=n,r(a,i)}return i(t,E.default),m(t,[{key:"onChangeRegion",value:function(){this.props.regionChange({regionRefId:this.state.choiceRegion})}},{key:"render",value:function(){var e=this;if(!y.default.REGION_AUTO_LOCATED_NOTE_ENABLED)return null;var t=this.props,n=t.region,a=t.autoLocated,o=y.default.REGIONS.find(function(e){return e.refId===n}),r=(0,S.i18n)(this.context,T.default,o&&o.i18n_key||"region_06"),i=y.default.REGIONS.map(function(t){return{text:(0,S.i18n)(e.context,T.default,t.i18n_key),value:t.refId}}),s=b.default.createElement("div",{key:"regionNote",className:this.ss("region-note")},b.default.createElement("div",{className:this.ss("note")},this.__("note",{region:r})),b.default.createElement("div",{className:this.ss("region")},b.default.createElement(k.default,{className:this.ss("region-select"),buttonClassName:this.ss("region-select-btn"),optGroupClassName:this.ss("region-select-items"),selects:i,value:this.state.choiceRegion,onChange:function(t,n,a){return e.setState({choiceRegion:a})}}),b.default.createElement(C.default,{className:this.ss("btn-ok"),label:this.__("btn_ok"),theme:"black",onClick:function(){return e.onChangeRegion()}})));return a&&s||null}}]),t}(),p.propTypes={region:v.default.string,autoLocated:v.default.bool,regionChange:v.default.func},d=f))||d)||d)||d);t.default=x},function(e,t){e.exports={"region-note":"region-note_1wVsOoYY",note:"note_1nQZJaUS",region:"region_3rBOILjQ","region-select":"region-select_2G79_nwS","region-select-btn":"region-select-btn_6UKZX1gJ","region-select-items":"region-select-items_xYhvPcdN","btn-ok":"btn-ok_3dpC6IlF"}},function(e,t){e.exports={note:"note_34uM",btn_ok:"btn_ok_1oBX"}},function(e,t){e.exports={footer:"footer_gB2SQFq1",black:"black_1SNs96wa",context:"context_X0yLJLiH",copyright:"copyright_2xBra9b8",links:"links_2vDoJs1s",link:"link_158SuLFX","link-contact-us":"link-contact-us_2eOw5XY_",shares:"shares_17fK4Dop",share:"share_16pSoqCJ","choice-control":"choice-control_KNRpftRm",region:"region_1dI34jgL",label:"label_3ruKM066",select:"select_3cE0LJRA","select-text":"select-text_355G1-cl","select-flag":"select-flag_3zRYwBR6","select-btn":"select-btn_1u5bJ8Gj","select-items":"select-items_3_4IU_Nw","contact-us":"contact-us_1yMtbd9l","icon-arrow-down":"icon-arrow-down_3NMh2Fzg"}},function(e,t){e.exports={link_text_0:"link_text_0_ExQL",link_text_1:"link_text_1_3_qb",link_text_2:"link_text_2_1VEs",link_text_3:"link_text_3_z-ed",link_text_4:"link_text_4_3HTr",copyright:"copyright_2i1W",contact_us:"contact_us_15VB",mail_subject:"mail_subject_3xZ4",choice_lang:"choice_lang_3Aca",choice_region:"choice_region_2o0s"}},,function(e,t){e.exports={"image-popup-wrap":"image-popup-wrap_2mfd1uIw","image-popup-bg":"image-popup-bg_4rOUncNH","image-wrap":"image-wrap_2c_lroAL","image-inner":"image-inner_1oyTehEW",center:"center_243-nVyG",image:"image_1ZTsq_jh",video:"video_2e9gzh5B","arrow-wrap":"arrow-wrap_35Myb9WE",arrow:"arrow_2ayL-p-H",close:"close_PGfJas40",hide:"hide_3zu2v6fP","loading-wrap":"loading-wrap_1qxIOlge",loading:"loading_3gj0I0Kj"}},function(e,t){e.exports={"dialog-wrap":"dialog-wrap_2D2KBBXW","report-wrap":"report-wrap_2VN6nznH","report-title":"report-title_1tnENBT6","report-options":"report-options_2is75Ek7","report-option-item":"report-option-item_3oBzjn_Q","report-option-row":"report-option-row_u4ZqDBEz","button-wrap":"button-wrap_3-py6JZv",button:"button_3y8N7RUr","btn-submit":"btn-submit_Uhx-FEps"}},function(e,t){e.exports={title_report_user:"title_report_user_3CHc",title_report_project:"title_report_project_3w0N",title_report_webgl:"title_report_webgl_2cSW",title_report_job:"title_report_job_3i5b",title_report_company:"title_report_company_2DFa",title_report_comment:"title_report_comment__3OO",report_title:"report_title_19w2",report_option_spam:"report_option_spam_3qeX",report_option_copyright_violation:"report_option_copyright_violation_nJTn",report_option_abusive_contents:"report_option_abusive_contents_uJG-",report_option_adult_contents:"report_option_adult_contents_3GSh",input_placeholder:"input_placeholder_23wq",btn_submit:"btn_submit_3xUy",error_isRequired:"error_isRequired_2xlS",error_maxLength80:"error_maxLength80_51UC",error_minLength10:"error_minLength10_TnxO"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u,d,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["header.setWindowSize"],["header.setWindowSize"]),m=a(n(2)),h=a(n(1)),_=a(n(3)),g=n(5),v=n(0),b=a(n(137)),y=a(n(361)),w=a(n(138)),j=a(n(17)),E=a(n(142)),k=a(n(364)),C=a(n(76)),O=a(n(4)),P=a(n(370)),S=(s=(0,g.decorator)({setWindowSize:(0,v.signal)(f)}),l=(0,O.default)(P.default),s(c=l((d=u=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,_.default),p(t,[{key:"componentDidMount",value:function(){this.props.setWindowSize()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.contentClass,a=e.mediaData,o=e.mediaSignals,r=e.onScrollEnd;return h.default.createElement("div",{id:"pageContent",className:this.ss(n)},h.default.createElement(b.default,null),h.default.createElement(j.default,{onScrollEnd:r},h.default.createElement(y.default,null),h.default.createElement("div",{id:"pageBody",className:this.ss("default-layout")},t),h.default.createElement("div",{className:this.ss("footer-nonsticky")},h.default.createElement(w.default,{type:"non-sticky"}))),!!a&&h.default.createElement(E.default,{mediaSignals:o,mediaData:a}),h.default.createElement(k.default,null),h.default.createElement(C.default,null),h.default.createElement("div",{className:this.ss("footer-sticky")},h.default.createElement(w.default,{type:"sticky"})))}}]),t}(),u.propTypes={children:m.default.node,contentClass:m.default.string,setWindowSize:m.default.func,mediaData:m.default.object,mediaSignals:m.default.object,onScrollEnd:m.default.func},c=d))||c)||c);t.default=S},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MoreAction=t.AvatarAction=void 0;var c,u,d,p,f,m,h,_,g,v,b,y,w,j,E,k,C,O,P,S,N,M=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),T=l(["loginUser"],["loginUser"]),x=l(["currentHost"],["currentHost"]),I=l(["currentPath"],["currentPath"]),R=l(["team.showBasicForm"],["team.showBasicForm"]),D=l(["header.postSchool"],["header.postSchool"]),A=l(["header.openCreateGroupDialog"],["header.openCreateGroupDialog"]),U=l(["header.loginTo"],["header.loginTo"]),L=l(["header.createProjectByTypeInternal"],["header.createProjectByTypeInternal"]),z=l(["header.setting.headerTop"],["header.setting.headerTop"]),W=l(["header.setting.scrollTop"],["header.setting.scrollTop"]),H=l(["messages.startSession"],["messages.startSession"]),B=l(["header.closeLoginWindow"],["header.closeLoginWindow"]),q=l(["header.setCurrHeaderTop"],["header.setCurrHeaderTop"]),F=l(["header.setHeaderPosition"],["header.setHeaderPosition"]),K=a(n(2)),G=a(n(1)),V=a(n(3)),J=n(5),Y=n(0),Q=n(18),X=a(n(14)),Z=n(75),$=a(n(84)),ee=a(n(101)),te=a(n(102)),ne=a(n(103)),ae=a(n(104)),oe=a(n(100)),re=n(49),ie=n(75),se=a(n(4)),le=a(n(362)),ce=a(n(6)),ue=a(n(363)),de=a(n(105)),pe=!1,fe=t.AvatarAction=(c=(0,J.decorator)({loginUser:(0,Y.state)(T),currentHost:(0,Y.state)(x),currentPath:(0,Y.state)(I),showForm:(0,Y.signal)(R),postSchool:(0,Y.signal)(D),postGroup:(0,Y.signal)(A),loginTo:(0,Y.signal)(U)}),u=(0,se.default)(le.default),d=(0,ce.default)(ue.default),c(p=u(p=d((m=f=function(e){function t(){var e,n,a,s;r(this,t);for(var l=arguments.length,c=Array(l),u=0;u<l;u++)c[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.onMenuClicked=function(e){var t,n=a.props,r=n.showForm,i=n.postSchool,s=(t={},o(t,UAS_MENU_ITEMS.CREATE_COMPANY,r),o(t,UAS_MENU_ITEMS.CREATE_SCHOOL,i),o(t,UAS_MENU_ITEMS.MY_GROUPS,function(){return windowLocationHref("/groups")}),o(t,UAS_MENU_ITEMS.MY_REFERENCES,function(){return windowLocationHref("/ref")}),o(t,UAS_MENU_ITEMS.SETTINGS,function(){return windowLocationHref("/settings")}),t),l=e.detail;s[l]&&s[l](),re.amplitudeEvents.accountDropdownClick()},s=n,i(a,s)}return s(t,V.default),M(t,[{key:"componentDidMount",value:function(){pe||(pe=!0,window.addEventListener("uasMenuClicked",this.onMenuClicked))}},{key:"componentWillUnmount",value:function(){window.addEventListener("uasMenuClicked",this.onMenuClicked)}},{key:"render",value:function(){var e=this.props,t=e.loginUser,n=e.currentHost,a=e.currentPath,o="https://"+n+"/public/pages/auth/cbiframe.html?redirect_to="+encodeURIComponent(a)+"&source=account_switch",r="https://"+n+"/auth/account_switch/callback?noiframe=true&redirect_to="+encodeURIComponent(a),i="https://"+n+"/auth/logout/callback?redirectUri="+a,s=X.default.NAME,l="prod",c={headerHeight:72,menuItems:[],env:l="production"===s?"prod":"staging"===s?"staging":"int",loginRedirectURL:o,switchAccountRidirectURL:r,logoutRedirectURL:i,clientID:"marketplace"};return t&&(c.user={avatar:t.avatar,name:t.name},c.userProfileURL="https://"+n+"/u/"+t.id),G.default.createElement("div",{className:this.ss("account-switcher")},G.default.createElement("unity-account-switcher",{config:JSON.stringify(c)}))}}]),t}(),f.propTypes={loginUser:K.default.object,currentHost:K.default.string,currentPath:K.default.string,showForm:K.default.func,postSchool:K.default.func,postGroup:K.default.func,loginTo:K.default.func},p=m))||p)||p)||p),me=t.MoreAction=(h=(0,se.default)(le.default),_=(0,ce.default)(ue.default),h(g=_(g=function(e){function t(){var e,n,a,o;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={hover:!1},o=n,i(a,o)}return s(t,V.default),M(t,[{key:"componentDidMount",value:function(){var e=this;this.removeClickOutside=(0,Q.addClickOutside)([this],function(){e.setState({hover:!1})})}},{key:"componentWillUnmount",value:function(){this.removeClickOutside()}},{key:"render",value:function(){var e=this,t=this.state.hover;return G.default.createElement("div",{className:this.ss("more-action",t&&"hover")},G.default.createElement("button",{className:this.ss("button","ifont","ifont-bars"),onClick:function(){return e.setState({hover:!t})}}),G.default.createElement("div",{className:this.ss("popout")},t&&G.default.createElement("div",{className:this.ss("discovery"),onClose:function(){return e.setState({hover:!1})}},G.default.createElement("div",{className:this.ss("icon","ifont","ifont-icons-gamepad")}),G.default.createElement(de.default,{title:"discover",font:14}))))}}]),t}())||g)||g),he=(v=(0,J.decorator)({createProjectByType:(0,Y.signal)(L)}),b=(0,se.default)(le.default),y=(0,ce.default)(ue.default),v(w=b(w=y((E=j=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,V.default),M(t,[{key:"onClick",value:function(){this.props.createProjectByType({type:"webgl",skipPopup:!0}),this.props.onClick&&this.props.onClick()}},{key:"render",value:function(){var e=this;return G.default.createElement("div",{className:this.ss("post-project")},G.default.createElement("a",{className:this.ss("link"),onClick:function(){return e.onClick()}},this.__("menu_post_project")))}}]),t}(),j.propTypes={onClick:K.default.func,createProjectByType:K.default.func},w=E))||w)||w)||w),_e=(k=(0,J.decorator)({currentPath:(0,Y.state)(I),headerTop:(0,Y.state)(z),scrollTop:(0,Y.state)(W),loginUser:(0,Y.state)(T),startSession:(0,Y.signal)(H),closeLoginWindow:(0,Y.signal)(B),setCurrHeaderTop:(0,Y.signal)(q),setHeaderPosition:(0,Y.signal)(F)}),C=(0,se.default)(le.default),O=(0,ce.default)(ue.default),k(P=C(P=O((N=S=function(e){function t(){var e,n,a,o;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={},o=n,i(a,o)}return s(t,V.default),M(t,[{key:"componentDidMount",value:function(){this.isLogin()&&(0,this.props.startSession)()}},{key:"onUnityLogoClick",value:function(){re.amplitudeEvents.headerUnityLogoClick()}},{key:"onPostProjectClick",value:function(){re.amplitudeEvents.headerPostProjectClick()}},{key:"onAppSwitcherClick",value:function(){re.amplitudeEvents.applicationSwitcherClick()}},{key:"onAppSwitcherDashboardClick",value:function(){re.amplitudeEvents.applicationSwitcherDashboardClick()}},{key:"onAppSwitcherAssetStoreClick",value:function(){re.amplitudeEvents.applicationSwitcherAssetStoreClick()}},{key:"onAppSwitcherAnswersClick",value:function(){re.amplitudeEvents.applicationSwitcherAnswersClick()}},{key:"onAppSwitcherForumClick",value:function(){re.amplitudeEvents.applicationSwitcherForumClick()}},{key:"onAppSwitcherDistributeClick",value:function(){re.amplitudeEvents.applicationSwitcherDistributeClick()}},{key:"onAppSwitcherLearnClick",value:function(){re.amplitudeEvents.applicationSwitcherLearnClick()}},{key:"inSignUp",value:function(){return"/sign-up"===this.props.currentPath}},{key:"isLogin",value:function(){return!!this.props.loginUser}},{key:"renderUserActions",value:function(){var e=this;return this.inSignUp()?G.default.createElement("div",{className:this.ss("user-actions")},G.default.createElement("div",{className:this.ss("beta-user")},G.default.createElement("a",{className:this.ss("logout-btn"),href:"/auth/logout"},this.__("logout_action")))):G.default.createElement("div",{className:this.ss("user-actions")},G.default.createElement(te.default,{right:[G.default.createElement("div",{className:this.ss("desktop-only"),key:"desktop"},G.default.createElement(he,{key:"post-project",onClick:function(){return e.onPostProjectClick()}})),G.default.createElement(Z.ApplicationSwitcherAction,{key:"application_switcher",className:this.ss("switcher"),onDashboardClick:function(){return e.onAppSwitcherDashboardClick()},onAssetStoreClick:function(){return e.onAppSwitcherAssetStoreClick()},onAnswersClick:function(){return e.onAppSwitcherAnswersClick()},onForumClick:function(){return e.onAppSwitcherForumClick()},onDistributeClick:function(){return e.onAppSwitcherDistributeClick()},onLearnClick:function(){return e.onAppSwitcherLearnClick()},onClick:function(){return e.onAppSwitcherClick()}}),G.default.createElement(fe,{key:"avatar",theme:"webgl"})]}))}},{key:"renderLogo",value:function(){var e=this;return G.default.createElement("div",{className:this.ss("logo")},G.default.createElement("a",{className:this.ss("icons-logo","ifont","ifont-icons-unity-logo"),href:"/share-home",onClick:function(){return e.onUnityLogoClick()}}))}},{key:"render",value:function(){var e=this.props.closeLoginWindow;return G.default.createElement("div",null,G.default.createElement(ae.default,null),G.default.createElement($.default,null),G.default.createElement("div",{className:this.ss("header-wrap")},G.default.createElement("div",{className:this.ss("header")},G.default.createElement(me,null),this.renderLogo(),G.default.createElement("div",{className:this.ss("desktop")},G.default.createElement(de.default,{title:"discover"})),this.renderUserActions()),G.default.createElement(Z.SunsetBar,null)),G.default.createElement(oe.default,null),G.default.createElement(ee.default,{onClose:function(){return e()}}),G.default.createElement(ne.default,null),G.default.createElement(ie.TfaNotifyDialog,null),G.default.createElement(ie.TfaConfirmDialog,null))}}]),t}(),S.propTypes={currentPath:K.default.string.isRequired,headerTop:K.default.number.isRequired,scrollTop:K.default.number.isRequired,loginUser:K.default.object,startSession:K.default.func,closeLoginWindow:K.default.func,setCurrHeaderTop:K.default.func,setHeaderPosition:K.default.func},P=N))||P)||P)||P);t.default=_e},function(e,t){e.exports={"header-wrap":"header-wrap_1MgbJAZ_",header:"header_2Gb9Vnfi",discovery:"discovery_vuqGJ_DK",logo:"logo_No7hI4uN",desktop:"desktop_1TAWRX2g","user-actions":"user-actions_1Gs5RsbG","desktop-only":"desktop-only_2tid5JLd","post-project":"post-project_VFEnzL5C",link:"link_2KWy9Fqm","beta-user":"beta-user_1xLyHf6R","logout-btn":"logout-btn_ahgj7EYI",switcher:"switcher_2IKsbB_e","more-action":"more-action_wt25N3Rl",button:"button_BsakNLtP",popout:"popout_3GSgF7fj",icon:"icon_3_NjHcWs",hover:"hover_33cwXij-","account-switcher":"account-switcher_2VsmeHWL"}},function(e,t){e.exports={edit_game:"edit_game_3dcf",get_started:"get_started_3v1O",get_started_short:"get_started_short_B2Gs",menu_post_project:"menu_post_project_MeGs"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),m=s(["job.jobExampleShow"],["job.jobExampleShow"]),h=s(["job.hideJobExample"],["job.hideJobExample"]),_=a(n(2)),g=a(n(1)),v=a(n(3)),b=n(5),y=n(0),w=a(n(365)),j=a(n(17)),E=n(11),k=n(18),C=a(n(4)),O=a(n(369)),P=(l=(0,b.decorator)({jobExampleShow:(0,y.state)(m),hideJobExample:(0,y.signal)(h)}),c=(0,C.default)(O.default),l(u=c((p=d=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.onClick=function(e){(0,k.getClickOutside)([a.jobExampleInfo],function(e){return a.onClose(e)})(e)},a.onClose=function(e){e&&(0,E.pauseEvent)(e);var t=a.props,n=t.jobExampleShow,o=t.hideJobExample;n&&o()},i=n,r(a,i)}return i(t,v.default),f(t,[{key:"componentDidMount",value:function(){var e=this;this._handKeyDown=function(t){return e.onKeyDown(t)},window.addEventListener("keydown",this._handKeyDown,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this._handKeyDown,!1)}},{key:"onKeyDown",value:function(e){var t=this.props.jobExampleShow,n=e.keyCode;if(t)switch(n){case 27:this.onClose(e)}}},{key:"render",value:function(){var e=this;if(!this.props.jobExampleShow)return null;var t=g.default.createElement("button",{className:this.ss("close"),onClick:this.onClose},g.default.createElement("div",{className:this.ss("icon","ifont","ifont-icon-close")}));return g.default.createElement("div",{className:this.ss("post-popup-wrap")},g.default.createElement("div",{className:this.ss("job-example-popup")}),g.default.createElement("div",{className:this.ss("job-example"),onClick:this.onClick},g.default.createElement(j.default,null,g.default.createElement("div",{className:this.ss("job-info","popup"),ref:function(t){e.jobExampleInfo=t}},g.default.createElement("div",{className:this.ss("job-info-wrap","detail")},g.default.createElement(w.default,null))))),t)}}]),t}(),d.propTypes={jobExampleShow:_.default.bool,hideJobExample:_.default.func},u=p))||u)||u);t.default=P},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=a(n(1)),p=a(n(3)),f=a(n(4)),m=a(n(366)),h=a(n(6)),_=a(n(367)),g=a(n(368)),v=(s=(0,f.default)(m.default),l=(0,h.default)(_.default),s(c=l(c=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,p.default),u(t,[{key:"renderJobPropsInfo",value:function(){return d.default.createElement("div",{className:this.ss("job-prop-row")},d.default.createElement("div",{className:this.ss("span"),key:"place"},this.__("job_place")),d.default.createElement("div",{className:this.ss("span"),key:"type"},this.__("fullTime")),d.default.createElement("div",{className:this.ss("span"),key:"other"},this.__("other")),d.default.createElement("div",{className:this.ss("span"),key:"pubTime"},this.__("publish_time",{time:"2017-09-20T20:21:17.857Z"})))}},{key:"renderJobAttrs",value:function(){return d.default.createElement("div",{className:this.ss("job-attr-row")},d.default.createElement("div",{className:this.ss("span"),key:"unityExpLevel"},this.__("unityExperience",{experience:"qualified"})),d.default.createElement("div",{className:this.ss("span"),key:"unityCertified"},this.__("unityCertified",{level:this.__("preferred")})))}},{key:"renderJobDesc",value:function(){return d.default.createElement("div",{className:this.ss("job-desc")},d.default.createElement("div",{className:this.ss("description")},d.default.createElement("div",{dangerouslySetInnerHTML:{__html:(0,g.default)('<p>The Unity Analytics team is the global leader in predictive marketing and data science for games and apps. Unity Analytics has captured deep dynamic user behaviors across over 400 million user profiles, and enables leading apps and games to retain, monetize, and personalize the app experience for all customers.</p>\n<p>Empowering game developers from indie to enterprise is our core focus. Together, we’ll work to provide a global cloud-based platform that enables developers to better connect with their audience, optimize their players’ experience, and discover the right players for their games.  </p>\n<p>As a Sr. Backend Engineer on the Unity Analytics team, you will help to collect and analyze data from hundreds of millions of Unity game players.</p>\n<p>You are a software engineer who knows all about how to capture and explicate massive amounts of information. You are passionate about how analytics can improve decision making to empower game developers. You love data science, and have done some work in Java, Spark, and Scala to help build and/or maintain systems in big data.</p>\n<p><strong>Responsibilities </strong></p>\n<ul>\n<li>Design, implement, test and maintain Unity’s platform and services that are capable of handling real time and batch processing of thousands of requests and daily events</li>\n<li>Write high-quality code that supports existing and future functionality of the product</li>\n</ul>\n<p><strong>Requirements </strong></p>\n<ul>\n<li>5 yrs of professional programming experience in Java, Scala, #C#</li>\n<li>2 yrs of experience developing large scale data solutions using one or more of the following technologies: Spark, Hadoop, Storm, Kafka, Cassandra, HBase</li>\n<li>Solid understanding of systems and management of resources or 2 yrs of experience developing large scale distributed systems</li>\n<li>BS in Computer Science or equivalent experience </li>\n</ul>\n<p><strong>Bonus Points</strong></p>\n<ul>\n<li>Excited by data science and analytics</li>\n</ul>\n<p class="p1"><strong>Who We Are</strong></p>\n<p>We are product-driven, curious, and creative. We aggressively reinvest in development to keep Unity moving and evolving - from expanding usability and power, to platform reach. With over a billion installs per month, Unity touches gamers and non-gamers alike. As well as video games, our software is used in industries as diverse as medicine, visualization and shopping - democratizing game development while solving hard problems and enabling success for a huge range of developers worldwide.</p>\n<p>Today, Unity has expanded to over 15 international offices and has employees in 23 countries. Every person at Unity Technologies has an inherent passion and driven spirit and it isn’t enough to be able to do the job- we’re looking for people that color outside the lines, are looking to be freed from the process tangle, and can dream big!</p>\n<hr>\n<p>Headhunters and recruitment agencies may not submit resumes/CVs through this Web site or directly to managers. Unity does not accept unsolicited headhunter and agency resumes. Unity will not pay fees to any third-party agency or company that does not have a signed agreement with Unity.</p>\n<p>Pursuant to the San Francisco Fair Chance Ordinance, we will consider for employment qualified applicants with arrest and conviction records.</p>\n<p><em><span style="font-family: arial, helvetica, sans-serif;">Unity is an Equal Opportunity Employer committed to providing employment opportunities without regard to race, color, </span><span style="font-family: arial, helvetica, sans-serif;">sex </span><span style="font-family: arial, helvetica, sans-serif;">(including gender identity, sexual orientation, and pregnancy)</span><span style="font-family: arial, helvetica, sans-serif;">, age</span><span style="font-family: arial, helvetica, sans-serif;">, national origin, religion, veteran status, disability, </span><span style="font-family: arial, helvetica, sans-serif;">genetic information</span><span style="font-family: arial, helvetica, sans-serif;">, or any other protected status in accordance with applicable law.</span></em></p>\n<p>#LI-MH1</p>","descriptionPlain":"The Unity Analytics team is the global leader in predictive marketing and data science for games and apps. Unity Analytics has captured deep dynamic user behaviors across over 400 million user profiles, and enables leading apps and games to retain, monetize, and personalize the app experience for all customers.\nEmpowering game developers from indie to enterprise is our core focus. Together, we’ll work to provide a global cloud-based platform that enables developers to better connect with their audience, optimize their players’ experience, and discover the right players for their games.  \nAs a Sr. Backend Engineer on the Unity Analytics team, you will help to collect and analyze data from hundreds of millions of Unity game players.\nYou are a software engineer who knows all about how to capture and explicate massive amounts of information. You are passionate about how analytics can improve decision making to empower game developers. You love data science, and have done some work in Java, Spark, and Scala to help build and/or maintain systems in big data.\nResponsibilities \n\nDesign, implement, test and maintain Unity’s platform and services that are capable of handling real time and batch processing of thousands of requests and daily events\nWrite high-quality code that supports existing and future functionality of the product\n\nRequirements \n\n5 yrs of professional programming experience in Java, Scala, #C#\n2 yrs of experience developing large scale data solutions using one or more of the following technologies: Spark, Hadoop, Storm, Kafka, Cassandra, HBase\nSolid understanding of systems and management of resources or 2 yrs of experience developing large scale distributed systems\nBS in Computer Science or equivalent experience \n\nBonus Points\n\nExcited by data science and analytics\n\nWho We Are\nWe are product-driven, curious, and creative. We aggressively reinvest in development to keep Unity moving and evolving - from expanding usability and power, to platform reach. With over a billion installs per month, Unity touches gamers and non-gamers alike. As well as video games, our software is used in industries as diverse as medicine, visualization and shopping - democratizing game development while solving hard problems and enabling success for a huge range of developers worldwide.\nToday, Unity has expanded to over 15 international offices and has employees in 23 countries. Every person at Unity Technologies has an inherent passion and driven spirit and it isn’t enough to be able to do the job- we’re looking for people that color outside the lines, are looking to be freed from the process tangle, and can dream big!\n\nHeadhunters and recruitment agencies may not submit resumes/CVs through this Web site or directly to managers. Unity does not accept unsolicited headhunter and agency resumes. Unity will not pay fees to any third-party agency or company that does not have a signed agreement with Unity.\nPursuant to the San Francisco Fair Chance Ordinance, we will consider for employment qualified applicants with arrest and conviction records.\nUnity is an Equal Opportunity Employer committed to providing employment opportunities without regard to race, color, sex (including gender identity, sexual orientation, and pregnancy), age, national origin, religion, veteran status, disability, genetic information, or any other protected status in accordance with applicable law.\n#LI-MH1')}})))}},{key:"render",value:function(){return d.default.createElement("div",{className:this.ss("job")},d.default.createElement("div",{className:this.ss("job-title")},this.__("job_title")),this.renderJobPropsInfo(),this.renderJobAttrs(),this.renderJobDesc())}}]),t}())||c)||c);t.default=v},function(e,t){e.exports={job:"job_1_SYva3d","job-title":"job-title_1R-5vwBu","job-prop-row":"job-prop-row_2LYhm1ha","job-attr-row":"job-attr-row_14BgDtDV",span:"span_2avaWAW-",task:"task_3wULA1on","job-desc":"job-desc_1QlVT4yf",description:"description_QG4y1bqC"}},function(e,t){e.exports={good_example:"good_example_2ZEZ",job_title:"job_title_2C_3",job_place:"job_place_Wqcg",language:"language_nl4z",skill:"skill_1Qkm",ohter:"ohter_2uXk",attr_task:"attr_task_3weT",fullTime:"fullTime_37Nq",expires:"expires_AvOP",publish_time:"publish_time_-dxB",budget:"budget_aPze",remoteOk:"remoteOk_p4sl",unityExperience:"unityExperience_3_yG",unityCertified:"unityCertified_23Ns",preferred:"preferred_1JBt"}},function(e,t,n){e.exports=n(8)(1009)},function(e,t){e.exports={"job-example-popup":"job-example-popup_3uor91xK","job-example":"job-example_a14cJCRu",close:"close_1U_Wjjgo","job-info":"job-info_2RqbR84_",popup:"popup_1WMeJ6m2","job-info-wrap":"job-info-wrap_Hp94yIwH",detail:"detail_2kPMO1ds"}},function(e,t){e.exports={"default-layout":"default-layout_RwnACAOa","footer-sticky":"footer-sticky_1f-EaWrj","footer-nonsticky":"footer-nonsticky_3pyogdkb"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function l(){return(De.default.WEBGL_PLAYER_BASE_URL||"").replace("/webgl","")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,u,d,p,f,m,h=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),_=s(["project.edit"],["project.edit"]),g=s(["project.projectData"],["project.projectData"]),v=s(["project.contentMap"],["project.contentMap"]),b=s(["project.editing"],["project.editing"]),y=s(["project.projectData.description"],["project.projectData.description"]),w=s(["project.projectData.rows"],["project.projectData.rows"]),j=s(["project.projectData.readmore"],["project.projectData.readmore"]),E=s(["project.projectData.hideReadmore"],["project.projectData.hideReadmore"]),k=s(["project.projectData.changed"],["project.projectData.changed"]),C=s(["project.webglPKG"],["project.webglPKG"]),O=s(["project.like"],["project.like"]),P=s(["project.showWebglToolBar"],["project.showWebglToolBar"]),S=s(["project.enableMobile"],["project.enableMobile"]),N=s(["project.time"],["project.time"]),M=s(["project.uploadingPreview"],["project.uploadingPreview"]),T=s(["project.hideRecord"],["project.hideRecord"]),x=s(["project.showStopRecord"],["project.showStopRecord"]),I=s(["project.mute"],["project.mute"]),R=s(["project.uploads"],["project.uploads"]),D=s(["project.uploadId"],["project.uploadId"]),A=s(["project.processing"],["project.processing"]),U=s(["project.pauseBackGround"],["project.pauseBackGround"]),L=s(["project.pauseState"],["project.pauseState"]),z=s(["loginUser"],["loginUser"]),W=s(["project.webglPKG.webgl.previewAttachmentId"],["project.webglPKG.webgl.previewAttachmentId"]),H=s(["currentUserId"],["currentUserId"]),B=s(["project.loadingMobile"],["project.loadingMobile"]),q=s(["pageType"],["pageType"]),F=s(["project.contentLength"],["project.contentLength"]),K=s(["project.warning.title"],["project.warning.title"]),G=s(["project.prePost.disablePostButton"],["project.prePost.disablePostButton"]),V=s(["project.projectData.challengeId"],["project.projectData.challengeId"]),J=s(["project.prePost.updateStatus"],["project.prePost.updateStatus"]),Y=s(["project.autoSave.updateStatus"],["project.autoSave.updateStatus"]),Q=s(["project.projectData.title"],["project.projectData.title"]),X=s(["project.isHottest"],["project.isHottest"]),Z=s(["project.projectData.id"],["project.projectData.id"]),$=s(["project.initWebglData"],["project.initWebglData"]),ee=s(["project.getBody"],["project.getBody"]),te=s(["header.showMessage"],["header.showMessage"]),ne=s(["project.publishWebgl"],["project.publishWebgl"]),ae=s(["project.openDeleteChallengeConfirm"],["project.openDeleteChallengeConfirm"]),oe=s(["project.setProjectState"],["project.setProjectState"]),re=s(["project.openShare"],["project.openShare"]),ie=s(["project.openGetLink"],["project.openGetLink"]),se=s(["report.open"],["report.open"]),le=s(["project.toggleLike"],["project.toggleLike"]),ce=s(["project.setChanged"],["project.setChanged"]),ue=s(["project.setContentIds"],["project.setContentIds"]),de=s(["project.setHideReadmore"],["project.setHideReadmore"]),pe=s(["project.setReadmore"],["project.setReadmore"]),fe=s(["project.submitDescription"],["project.submitDescription"]),me=s(["project.changeDescription"],["project.changeDescription"]),he=s(["project.setEditing"],["project.setEditing"]),_e=s(["project.projectData.body"],["project.projectData.body"]),ge=s(["project.openProjectDeleteDialog"],["project.openProjectDeleteDialog"]),ve=s(["project.downloadPreview"],["project.downloadPreview"]),be=s(["project.toggleHottestProject"],["project.toggleHottestProject"]),ye=a(n(2)),we=a(n(1)),je=n(5),Ee=n(0),ke=a(n(3)),Ce=n(26),Oe=n(10),Pe=n(11),Se=a(n(15)),Ne=a(n(4)),Me=a(n(372)),Te=a(n(6)),xe=a(n(373)),Ie=a(n(374)),Re=a(n(377)),De=a(n(14)),Ae=a(n(89)),Ue=a(n(242)),Le=a(n(90)),ze=n(7),We=a(n(13)),He=n(380),Be=a(He),qe=a(n(40)),Fe=(c=(0,je.decorator)({edit:(0,Ee.state)(_),projectData:(0,Ee.state)(g),contentMap:(0,Ee.state)(v),editing:(0,Ee.state)(b),defaultDescriptionState:(0,Ee.state)(y),rows:(0,Ee.state)(w),readmore:(0,Ee.state)(j),hideReadmore:(0,Ee.state)(E),changed:(0,Ee.state)(k),webglPKG:(0,Ee.state)(C),like:(0,Ee.state)(O),showWebglToolBar:(0,Ee.state)(P),enableMobile:(0,Ee.state)(S),time:(0,Ee.state)(N),uploadingPreview:(0,Ee.state)(M),hideRecord:(0,Ee.state)(T),showStopRecord:(0,Ee.state)(x),mute:(0,Ee.state)(I),uploads:(0,Ee.state)(R),uploadId:(0,Ee.state)(D),processing:(0,Ee.state)(A),pauseBackGround:(0,Ee.state)(U),pauseState:(0,Ee.state)(L),loginUser:(0,Ee.state)(z),previewAttachmentId:(0,Ee.state)(W),currentUserId:(0,Ee.state)(H),loadingMobile:(0,Ee.state)(B),pageType:(0,Ee.state)(q),contentLength:(0,Ee.state)(F),titleWarning:(0,Ee.state)(K),disablePostButton:(0,Ee.state)(G),challengeId:(0,Ee.state)(V),postStatus:(0,Ee.state)(J),saveStatus:(0,Ee.state)(Y),defaultTitleState:(0,Oe.$editorStateFromText)((0,Ee.state)(Q)),defaultDescriptionStateObject:(0,Oe.$editorStateFromText)((0,Ee.state)(y)),isHottest:(0,Ee.state)(X),projectId:(0,Ee.state)(Z),initWebglData:(0,Ee.signal)($),getBody:(0,Ee.signal)(ee),showMessage:(0,Ee.signal)(te),onPublish:(0,Ee.signal)(ne),openDeleteChallengeConfirm:(0,Ee.signal)(ae),setProjectState:(0,Ee.signal)(oe),openShare:(0,Ee.signal)(re),openGetLink:(0,Ee.signal)(ie),reportOpen:(0,Ee.signal)(se),toggleLike:(0,Ee.signal)(le),setChanged:(0,Ee.signal)(ce),setContentIds:(0,Ee.signal)(ue),setHideReadmore:(0,Ee.signal)(de),setReadmore:(0,Ee.signal)(pe),submitDescription:(0,Ee.signal)(fe),changeDescription:(0,Ee.signal)(me),setEditing:(0,Ee.signal)(he),defaultBodyState:(0,Oe.$editorStateFromJSON)((0,Ee.state)(_e)),openProjectDeleteDialog:(0,Ee.signal)(ge),downloadPreview:(0,Ee.signal)(ve),toggleHottestProject:(0,Ee.signal)(be)}),u=(0,Ne.default)(Me.default),d=(0,Te.default)(xe.default),c(p=u(p=d((m=f=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={isDevice:!1,shareShow:!1,reportShow:!1,morePop:!1,needReadMore:!1,screenshotTipShow:!1,startRecordTipShow:!1,fullscreenShow:!1,muteShow:!1},a.handleChange=function(e){var t=a.props,n=t.changeDescription,o=t.setChanged,r=e.target.rows;e.target.rows=3;var i=parseInt(e.target.scrollHeight/24,10);i===r&&(e.target.rows=i),i>=15&&(e.target.rows=15,e.target.scrollTop=e.target.scrollHeight),n({value:e.target.value,rows:i<15?i:15}),o({changed:!0})},i=n,r(a,i)}return i(t,ke.default),h(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.projectData,a=t.contentMap,o=t.setContentIds,r=t.pageType,i=t.initWebglData;o({contentIds:(n.contentIds||[]).filter(function(e){return a[e]&&"img"===a[e].type})}),i(),"detail"!==r&&(window.onbeforeunload=function(){return"You are uploading the preview record"}),setTimeout(function(){e.trackNeedReadMore(),e.setState({isDevice:(0,Ce.isDevice)()});var t=document.getElementById("webgl_iframe").contentWindow,n=e;t.onfocus=function(){n.postMessageToWebgl("startRecordingByFocus")}},1e3)}},{key:"componentDidUpdate",value:function(){this.trackNeedReadMore(),this.trackBody()}},{key:"componentWillUnmount",value:function(){window.onbeforeunload=null}},{key:"onMadeWithMicrogameClick",value:function(e){for(var t,n=arguments.length,a=Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];(t=this.props).onMadeWithMicrogameClick.apply(t,[e].concat(a))}},{key:"onMadeWithUnityClick",value:function(){var e;(e=this.props).onMadeWithUnityClick.apply(e,arguments)}},{key:"onAuthorClick",value:function(){var e;(e=this.props).onAuthorClick.apply(e,arguments)}},{key:"onWebglEditClick",value:function(){this.props.onWebglEditClick()}},{key:"onWebglReportClick",value:function(e){this.props.reportOpen(e),this.props.onWebglReportClick()}},{key:"onWebglDeleteClick",value:function(){this.props.openProjectDeleteDialog(),this.props.onWebglDeleteClick()}},{key:"onWebglLikeClick",value:function(){this.props.toggleLike(),this.props.onWebglLikeClick()}},{key:"onWebglFullscreenClick",value:function(){this.postMessageToWebgl("fullscreen"),this.props.onWebglFullscreenClick()}},{key:"onWebglUnmuteClick",value:function(){this.postMessageToWebgl("mute"),this.props.onWebglUnmuteClick()}},{key:"onWebglScreenshotCommentClick",value:function(){this.postMessageToWebgl("screenshot"),this.props.onWebglScreenshotCommentClick()}},{key:"onWebglRecordClick",value:function(){this.startRecording(),this.props.onWebglRecordClick()}},{key:"onWebglPauseRecordingClick",value:function(){this.pauseRecord(),this.props.onWebglPauseRecordingClick()}},{key:"onWebglStopRecordingClick",value:function(){this.postMessageToWebgl("stopRecording"),this.props.onWebglStopRecordingClick()}},{key:"clickPauseBorder",value:function(){(0,this.props.setProjectState)({key:"pauseBackGround",value:!1}),this.postMessageToWebgl("pauseRecordingByBlur")}},{key:"trackBody",value:function(){(0,this.props.getBody)()}},{key:"trackNeedReadMore",value:function(){if("detail"===this.props.pageType){var e=this.state.needReadMore;e!==(document.getElementById("moreDescription").clientHeight!==document.getElementById("lessDescription").clientHeight)&&this.setState({needReadMore:!e})}}},{key:"editDescript",value:function(){var e=this.props,t=e.edit,n=e.setEditing,a=e.setReadmore,o=e.setHideReadmore;t&&(a({value:!0}),o({value:!0}),n({value:!0}))}},{key:"submit",value:function(){var e=this.props,t=e.edit,n=e.setEditing,a=e.submitDescription,o=e.setReadmore,r=e.setHideReadmore,i=e.changed,s=e.setChanged;i&&(a(),s({changed:!1})),t&&(n({value:!1}),r({value:!1}),o({value:!1}))}},{key:"OpenShare",value:function(){var e=this.props,t=e.projectData.title,n=e.openShare;this.state.isDevice&&navigator.share?navigator.share({text:this.__("share_body",{title:t}),url:window.location.href}):n()}},{key:"publish",value:function(){var e=this.props,t=e.saveStatus,n=e.uploads,a=e.showMessage,o=e.onPublish,r="project_publish_after_loaded_or_saved";n&&Object.keys(n).some(function(e){return(0,ze.isLoading)(n[e].status)})?a({message:r}):(0,ze.isLoading)(t)?a({message:r}):(window.onbeforeunload=null,o())}},{key:"postMessageToWebgl",value:function(e){var t=l();document.getElementById("webgl_iframe").contentWindow.postMessage({action:e},t)}},{key:"pauseRecord",value:function(){this.postMessageToWebgl("pauseRecording")}},{key:"parseLink",value:function(e){return qe.default.plainTextParse(e,!0,{})}},{key:"startRecording",value:function(){this.props.setProjectState({key:"pauseState",value:!1}),this.postMessageToWebgl("startRecording")}},{key:"renderMuteButton",value:function(e){var t=this,n=this.props,a=n.mute,o=n.showStopRecord,r=this.state.muteShow;return we.default.createElement("button",{className:this.ss("button-wrapper","mute",e&&"hide"),onMouseEnter:function(){return t.setState({muteShow:!0})},onMouseLeave:function(){return t.setState({muteShow:!1})},onClick:function(){return r&&!o&&t.onWebglUnmuteClick()}},we.default.createElement("div",{className:this.ss("mute-icon","ifont",!a&&"ifont-ic_volume_mute",a&&"ifont-ic_volume_on",o&&"inactive")}),a?we.default.createElement(Re.default,{show:r,tips:this.__("mute")}):we.default.createElement(Re.default,{show:r,tips:this.__("volume_on")}))}},{key:"renderScreenshotButton",value:function(e){var t=this,n=this.props,a=n.showStopRecord,o=n.pageType,r=this.state.screenshotTipShow;return we.default.createElement("button",{className:this.ss("button-wrapper","GA_screenshot_botton","screenshot",("detail"!==o||e)&&"hide"),onMouseEnter:function(){return t.setState({screenshotTipShow:!0})},onMouseLeave:function(){return t.setState({screenshotTipShow:!1})},onClick:function(){return!a&&t.onWebglScreenshotCommentClick()}},we.default.createElement("div",{className:this.ss("screenshot-icon","ifont","ifont-ic_camera",a&&"inactive")}),we.default.createElement(Re.default,{show:r,tips:this.__("screenshot_tip")}))}},{key:"renderFullScreen",value:function(e){var t=this,n=this.props.showStopRecord,a=this.state.fullscreenShow;return we.default.createElement("button",{className:this.ss("button-wrapper","fullscreen",e&&"hide"),onMouseEnter:function(){return t.setState({fullscreenShow:!0})},onMouseLeave:function(){return t.setState({fullscreenShow:!1})},onClick:function(){return!n&&t.onWebglFullscreenClick()}},we.default.createElement("div",{className:this.ss("fullscreen-icon","ifont","ifont-ic_expand",n&&"inactive")}),we.default.createElement(Re.default,{show:a,tips:this.__("fullscreen")}))}},{key:"renderLeft",value:function(){var e=this,t=this.props,n=t.hideReadmore,a=t.defaultDescriptionState,o=t.editing,r=t.readmore,i=t.setReadmore,s=t.pageType,l=this.state.needReadMore;if("detail"!==s)return null;var c=this.parseLink(a);return we.default.createElement("div",null,we.default.createElement(Ie.default,{onAuthorClick:function(){return e.onAuthorClick()}}),we.default.createElement("div",{className:this.ss("description-wrapper")},we.default.createElement("div",{id:"moreDescription",className:this.ss("game-description",r&&!o&&"show"),tabIndex:"0",onClick:function(){return e.editDescript()}},c),we.default.createElement("div",{id:"lessDescription",className:this.ss("game-description","readmore-on",!r&&!o&&"show"),tabIndex:"0",onClick:function(){return e.editDescript()}},c),this.renderEditor(),we.default.createElement("button",{className:this.ss("readmore",(!l||n)&&"hide"),onClick:function(){return i({value:!r})}},r?this.__("read_less"):this.__("read_more"))))}},{key:"renderDraft",value:function(){var e=this,t=this.props,n=t.pageType,a=t.postStatus,o=t.disablePostButton,r=t.contentLength,i=t.titleWarning;if("detail"===n)return null;return we.default.createElement("div",null,we.default.createElement(Ae.default,{editorKey:"editorTitle",nextEditorKey:"editorDescription",placeholder:this.__("add_title_hint"),defaultEditorState:this.props.defaultTitleState,warning:i,theme:"webgl"}),we.default.createElement(Le.default,{editorType:"webgl",editorKey:"editorDescription",nextEditorKey:"editorBody",theme:"webgl",prevEditorKey:"editorTitle",placeholder:this.__("add_description_hint"),defaultEditorState:this.props.defaultDescriptionStateObject}),we.default.createElement("div",{className:this.ss("save-button")},we.default.createElement(We.default,{className:this.ss("post"),gaTag:"GA_btn_project_publish",theme:"primary-blue",label:this.__("save"),size:"new-small",disabled:o||r<1,loading:(0,ze.isLoadingOrSucceeded)(a),onClick:function(){return e.publish()}})))}},{key:"renderSubContent",value:function(){return we.default.createElement("div",{className:this.ss("sub-content")},we.default.createElement("div",{className:this.ss("left")},this.renderLeft(),this.renderDraft()),we.default.createElement("div",{className:this.ss("right")},this.renderMadeWith()))}},{key:"renderDetail",value:function(){var e=this,t=this.props,n=t.like,a=t.projectData,o=a.title,r=a.viewCount,i=a.playCount;return we.default.createElement("div",{className:this.ss("detail")},we.default.createElement("div",{className:this.ss("heart","icon","ifont","ifont-icon-heart-o",n&&"ifont-icon-heart",n&&"heartBeat"),onClick:function(){return e.onWebglLikeClick()}}),we.default.createElement("div",{className:this.ss("info")},we.default.createElement("div",{className:this.ss("title")},o),we.default.createElement("div",{className:this.ss("counts")},this.__("views_hint",{count:r,v:(0,Pe.formatNumberV2)(r)})," · ",this.__("play_hint",{count:i,v:(0,Pe.formatNumberV2)(i)}))))}},{key:"renderMadeWith",value:function(){var e=this,t=this.props.webglPKG||{},n=t.mgType,a=t.pkgThumbnail,o=n&&a,r="https://store.unity.com/download-nuo";return n&&(r=this.__("url_"+n)),[we.default.createElement("div",{key:"mg-title",className:this.ss("made-with")},this.__("made_with")),o&&we.default.createElement("div",{key:"mg-pkg",className:this.ss("pkg")},we.default.createElement("div",{className:this.ss("image")},we.default.createElement(Se.default,{src:a,sizes:"40px",width:40,height:40})),we.default.createElement("div",{className:this.ss("name")},this.__(n)),we.default.createElement("a",{className:this.ss("view"),onClick:function(){for(var t=arguments.length,a=Array(t),o=0;o<t;o++)a[o]=arguments[o];return e.onMadeWithMicrogameClick.apply(e,[n].concat(a))},href:r,target:"_blank"},this.__("view"))),we.default.createElement("div",{key:"mg-unity",className:this.ss("pkg")},we.default.createElement("div",{className:this.ss("image-wrapper")},we.default.createElement("div",{className:this.ss("icon-unity","ifont","ifont-unity-icon-white")})),we.default.createElement("div",{className:this.ss("name")},this.__("unity")),we.default.createElement("a",{className:this.ss("view"),onClick:function(){return e.onMadeWithUnityClick.apply(e,arguments)},href:"https://store.unity.com/download-nuo",target:"_blank"},this.__("view"))),we.default.createElement(He.CustomizedMadeWith,{key:"customized"}),we.default.createElement(Be.default,{key:"add-made-with"})]}},{key:"renderEditor",value:function(){var e=this,t=this.props,n=t.editing,a=t.rows,o=t.defaultDescriptionState;return n?we.default.createElement("div",{className:this.ss("edit-description"),onBlur:function(){return e.submit()}},we.default.createElement("textarea",{className:this.ss("input"),rows:a,placeholder:this.__("describe_your_project"),autoFocus:!0,maxLength:1e3,value:o,onChange:this.handleChange}),we.default.createElement("div",{className:this.ss("count")},1e3-o.length),we.default.createElement("div",{className:this.ss("newline")}),we.default.createElement("button",{className:this.ss("save-button")},this.__("save"))):null}},{key:"renderWebglToolBar",value:function(){var e=this,t=this.props,n=t.uploadingPreview,a=t.showStopRecord,o=t.hideRecord,r=t.showWebglToolBar,i=t.enableMobile,s=t.time,l=t.uploadId,c=t.uploads,u=t.processing,d=t.pauseState,p=t.pageType,f=this.state,m=f.isDevice,h=f.pauseTipShow,_=f.stopTipShow,g=f.muteShow,v=f.fullscreenShow,b=f.screenshotTipShow,y=f.startRecordTipShow,w=!i&&m,j=g||v||b||h||_||y,E=60*Math.PI,k=E,C=s>3;if(c){var O=c[l];if(O){var P=O.loaded,S=void 0===P?0:P,N=O.total,M=void 0===N?1:N;k=(M-S)/M*E}}return we.default.createElement("div",{className:this.ss("black",j&&"black-z-index")},we.default.createElement("div",{className:this.ss("black-top",j&&"hide")}),we.default.createElement("div",{className:this.ss("black-container",!r&&"bar-extend-revert",r&&"bar-extend")},we.default.createElement("div",{className:this.ss("black-bar-back")}),we.default.createElement("div",{className:this.ss("black-bar")},we.default.createElement("div",{className:this.ss("red-dot",!a&&"hide")}),we.default.createElement("div",{className:this.ss("record-timer",!a&&"hide")},s),we.default.createElement("div",{className:this.ss("button-wrapper","pause-recording",!a&&"hide"),onMouseEnter:function(){return e.setState({pauseTipShow:!0})},onMouseLeave:function(){return e.setState({pauseTipShow:!1})},onClick:function(){return e.onWebglPauseRecordingClick()}},we.default.createElement("div",{className:this.ss("screenshot-icon","ifont",!d&&"ifont-ic_pause",d&&"ifont-ic_play")}),we.default.createElement(Re.default,{show:h,tips:this.__("pause_tip")})),we.default.createElement("div",{className:this.ss("button-wrapper","stop-recording",!a&&"hide",C&&"inactive"),onMouseEnter:function(){return e.setState({stopTipShow:!0})},onMouseLeave:function(){return e.setState({stopTipShow:!1})},onClick:function(){return e.onWebglStopRecordingClick()}},we.default.createElement("div",{className:this.ss("screenshot-icon","ifont","ifont-ic_stop")}),we.default.createElement(Re.default,{show:_,tips:this.__("stop_tip")})),we.default.createElement("div",{className:this.ss("tools")},we.default.createElement("button",{className:this.ss("button-wrapper","start-recording",("edit"!==p||o)&&"hide"),onClick:function(){return!u&&e.onWebglRecordClick()},onMouseEnter:function(){return e.setState({startRecordTipShow:!0})},onMouseLeave:function(){return e.setState({startRecordTipShow:!1})}},we.default.createElement("div",{className:this.ss("check-icon","ifont","ifont-check-mark",u&&"fade-in-out")}),we.default.createElement("div",{className:this.ss("record-icon","ifont","ifont-ic_record",n&&"hide",u&&"inactive",u&&"fade-in")}),we.default.createElement("div",{className:this.ss("icon-wrapper",!n&&"hide")},we.default.createElement("svg",{className:this.ss("spinner"),width:"20px",height:"20px",viewBox:"0 0 66 66"},we.default.createElement("circle",{className:this.ss("circle"),fill:"none",strokeWidth:"6",strokeLinecap:"round",strokeDasharray:E,strokeDashoffset:k,cx:"33",cy:"33",r:"30"}))),we.default.createElement(Re.default,{show:y,tips:this.__("start_record")})),this.renderScreenshotButton(w),this.renderMuteButton(w),this.renderFullScreen(w)))))}},{key:"renderFooter",value:function(){var e=this,t=this.props,n=t.projectData.id,a=t.edit,o=t.pageType,r=t.loginUser,i=t.openDeleteChallengeConfirm,s=t.challengeId,l=t.downloadPreview,c=t.previewAttachmentId,u=t.isHottest,d=t.toggleHottestProject,p=t.projectId,f=t.openGetLink,m=r&&r.isAdmin,h=this.state,_=h.shareShow,g=h.reportShow,v=h.morePop,b=h.isDevice;return"detail"!==o?null:we.default.createElement("div",{className:this.ss("footer")},this.renderDetail(),we.default.createElement("div",{className:this.ss("buttons")},we.default.createElement("button",{className:this.ss("button-wrapper","share"),onMouseEnter:function(){return e.setState({shareShow:!0})},onMouseLeave:function(){return e.setState({shareShow:!1})},onClick:function(){return e.OpenShare()}},we.default.createElement("div",{className:this.ss("share-icon","ifont","ifont-ic_share")}),we.default.createElement(Re.default,{show:_,tips:this.__("share")})),we.default.createElement("div",{className:this.ss("popup-back",v&&"display"),onClick:function(){return e.setState({morePop:!1})}}),we.default.createElement("button",{className:this.ss("button-wrapper","more"),onMouseEnter:function(){return e.setState({reportShow:!0})},onMouseLeave:function(){return e.setState({reportShow:!1})},onClick:function(){return e.setState({morePop:!0})}},we.default.createElement("div",{className:this.ss("more-icon","ifont","ifont-ic_more")}),we.default.createElement(Re.default,{show:g,tips:this.__("more")}),we.default.createElement("div",{className:this.ss("popup",v&&"display")},we.default.createElement("a",{className:this.ss("button","edit",!a&&"hide"),href:"/p/"+n+"/edit",onClick:function(){return e.onWebglEditClick()}},this.__("edit")),we.default.createElement("div",{className:this.ss("button","delete-challenge",(!a||!s)&&"hide"),onClick:function(){return i()}},this.__("delete_challenge")),we.default.createElement("div",{className:this.ss("button","delete",!a&&"hide"),onClick:function(){return e.onWebglDeleteClick()}},this.__("delete")),we.default.createElement("div",{className:this.ss("button","get-link",!b&&"hide"),onClick:function(){return f()}},this.__("get_link")),we.default.createElement("div",{className:this.ss("button","report",a&&"hide"),onClick:function(){return e.onWebglReportClick({itemId:n,itemType:"project",reportTitle:"webgl"})}},this.__("report")),we.default.createElement("div",{className:this.ss("button","icon-download",(!m||!c)&&"hide"),onClick:function(){return l()}},this.__("download")),we.default.createElement("a",{id:"admin-download",download:"preview.webm"}),we.default.createElement("div",{className:this.ss("button",!m&&"hide"),onClick:function(){return d({itemId:p,isAdd:!u,language:"en"})}},u?this.__("remove_hottest"):this.__("add_hottest"))))))}},{key:"render",value:function(){var e=this,t=this.props,n=t.pauseBackGround,a=t.pageType;return we.default.createElement("div",{className:this.ss("content-wrapper")},we.default.createElement("div",{className:this.ss("place-holder-top")},we.default.createElement(Ue.default,{editorKey:"editorBody",defaultEditorState:this.props.defaultBodyState,renderOnly:"detail"===a})),this.renderWebglToolBar(),we.default.createElement("div",{className:this.ss("pause-record",!n&&"hide"),onClick:function(){return e.clickPauseBorder()}}),this.renderFooter(),this.renderSubContent())}}]),t}(),f.propTypes={edit:ye.default.bool,projectData:ye.default.object,contentMap:ye.default.object,defaultDescriptionState:ye.default.string,defaultBodyState:ye.default.object,editing:ye.default.bool,rows:ye.default.number,readmore:ye.default.bool,hideReadmore:ye.default.bool,changed:ye.default.bool,webglPKG:ye.default.object,like:ye.default.bool,uploadingPreview:ye.default.bool,showWebglToolBar:ye.default.bool,enableMobile:ye.default.bool,time:ye.default.number,hideRecord:ye.default.bool,showStopRecord:ye.default.bool,mute:ye.default.bool,uploads:ye.default.object,uploadId:ye.default.string,processing:ye.default.bool,pauseBackGround:ye.default.bool,pauseState:ye.default.bool,loginUser:ye.default.object,previewAttachmentId:ye.default.string,currentUserId:ye.default.string,loadingMobile:ye.default.bool,pageType:ye.default.string,defaultTitleState:ye.default.object,defaultDescriptionStateObject:ye.default.object,saveStatus:ye.default.string,postStatus:ye.default.string,challengeId:ye.default.string,disablePostButton:ye.default.bool,titleWarning:ye.default.bool,contentLength:ye.default.number,isHottest:ye.default.bool,projectId:ye.default.string,initWebglData:ye.default.func,getBody:ye.default.func,openDeleteChallengeConfirm:ye.default.func,showMessage:ye.default.func,onPublish:ye.default.func,setProjectState:ye.default.func,openShare:ye.default.func,openGetLink:ye.default.func,reportOpen:ye.default.func,toggleLike:ye.default.func,setChanged:ye.default.func,setReadmore:ye.default.func,setHideReadmore:ye.default.func,setContentIds:ye.default.func,submitDescription:ye.default.func,changeDescription:ye.default.func,setEditing:ye.default.func,onComment:ye.default.func,onUpdate:ye.default.func,openProjectDeleteDialog:ye.default.func,downloadPreview:ye.default.func,toggleHottestProject:ye.default.func,onMadeWithUnityClick:ye.default.func,onMadeWithMicrogameClick:ye.default.func,onAuthorClick:ye.default.func,onWebglEditClick:ye.default.func,onWebglReportClick:ye.default.func,onWebglDeleteClick:ye.default.func,onWebglLikeClick:ye.default.func,onWebglFullscreenClick:ye.default.func,onWebglUnmuteClick:ye.default.func,onWebglScreenshotCommentClick:ye.default.func,onWebglRecordClick:ye.default.func,onWebglPauseRecordingClick:ye.default.func,onWebglStopRecordingClick:ye.default.func},p=m))||p)||p)||p);t.default=Fe},function(e,t){e.exports={"content-wrapper":"content-wrapper_3Q93L_5P","pause-record":"pause-record_1e1a7yZo","place-holder-top":"place-holder-top_18JcMK9x",footer:"footer_OxAzZnBS","shared-time":"shared-time_3InlU6hx",detail:"detail_1_k4a9Hc",heart:"heart_3XMPb18Q",heartBeat:"heartBeat_1B5U6Rv7","heart-beat":"heart-beat_Um7dWmhI",icon:"icon_3TSYDEms",info:"info_3ZmSJeq9",title:"title_1NACe97i",counts:"counts_2Gl6HZqD",buttons:"buttons_1nzTwOu1",hide:"hide_3C8jH7T7","button-wrapper":"button-wrapper_2GxnSBIQ",disable:"disable_2silRFaS","share-icon":"share-icon_XtWV8XuJ","more-icon":"more-icon_1LGjJ9UH","report-icon":"report-icon_3YsHA3pu",more:"more_pvD6IDED",popup:"popup_21vcnWJ2",button:"button_1pWmRBEV",report:"report_2E7T_-vd",edit:"edit_15RtTHWy",delete:"delete_2ldjWiL7","icon-download":"icon-download_4oS4W33W",display:"display_rKSNgLXv","popup-back":"popup-back_183Vw_WQ",share:"share_vNdq68hO","sub-content":"sub-content_3OhWyHOQ",left:"left_1ihPxw08","save-button":"save-button_1swAQA5J",right:"right_2ijjll8d","made-with":"made-with_34pdCFbq",pkg:"pkg_s79lxqsv",image:"image_323l2Y8G",name:"name_2kJtMxTV",view:"view_2CDT0wRc","image-wrapper":"image-wrapper_1FLHsq_e","icon-unity":"icon-unity_1jVZSKQu","description-wrapper":"description-wrapper_194Zs2lw","game-description":"game-description_3rb6KtnZ",show:"show_1TEjns52","edit-description":"edit-description_2ZfAdohG",input:"input_2dZLJNID",count:"count_1LZKqmLB",newline:"newline_2oALDbLp","readmore-on":"readmore-on_N8tTrF-e",readmore:"readmore_2g5HONuw","black-bar-back":"black-bar-back_mC83GE3t","black-bar":"black-bar_2kZ-B_oL","red-dot":"red-dot_IgumYv4E","record-timer":"record-timer_2jSj5HTA",tools:"tools_2HrKD0nh","check-icon":"check-icon_2VEkaGdM","record-icon":"record-icon_6PAIYAxs","pause-recording":"pause-recording_24peP6Xo","stop-recording":"stop-recording_1AlYIb7e","icon-wrapper":"icon-wrapper_3ak81vid","fullscreen-icon":"fullscreen-icon_3gnwSWkH","screenshot-icon":"screenshot-icon_3JWXf1XA","mute-icon":"mute-icon_16jmk89k",inactive:"inactive_KIh1A8TG","fade-in":"fade-in_2cyF-ad4","hold-fade-in":"hold-fade-in_CAKuqStX","fade-in-out":"fade-in-out_2Shs9BI5","fade-out":"fade-out_K4em0JIs",spinner:"spinner_QiRom8M6",circle:"circle_QAzzceu2",black:"black_2atjq6xD","black-top":"black-top_hoLjJM6R","black-z-index":"black-z-index_k_xEVpJm","black-container":"black-container_18Hi2HV5","bar-extend":"bar-extend_3DGixhhX",extend:"extend_1zkyqR0h","bar-extend-revert":"bar-extend-revert_3_gB6xIv","extend-revert":"extend-revert_18OIbxtU"}},function(e,t){e.exports={read_more:"read_more_3Ya5",read_less:"read_less_i-VJ",describe_your_project:"describe_your_project_ykJz",made_with:"made_with_2fMb",mg_fps:"mg_fps_2E3K",mg_karting:"mg_karting_DU05",mg_platformer:"mg_platformer_3mtS",mg_lego:"mg_lego_xw53",view:"view_3ot8",views_hint:"views_hint_67_A",play_hint:"play_hint_X1yw",report:"report_1fMb",more:"more_37fU",share:"share_1zls",start_record:"start_record_32Ws",pause_tip:"pause_tip_2Iwn",stop_tip:"stop_tip_nONk",mute:"mute_3Bl9",fullscreen:"fullscreen_2Zx1",screenshot:"screenshot_35Nr",screenshot_tip:"screenshot_tip_3Uby",volume_on:"volume_on_1JC1",unity:"unity_1rsi",edit:"edit_yPjt",delete:"delete_4QRp",delete_challenge:"delete_challenge_2WSq",save:"save_39SA",add_title_hint:"add_title_hint_3Wyh",add_description_hint:"add_description_hint_1RR1",remove_hottest:"remove_hottest_eGEh",add_hottest:"add_hottest_3ESs",download:"download_3S5Y",get_link:"get_link_3mjR",url_mg_fps:"url_mg_fps_2r32",url_mg_karting:"url_mg_karting_3xIo",url_mg_platformer:"url_mg_platformer_1Rle",url_mg_lego:"url_mg_lego_2-c_"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["project"],["project"]),_=s(["project.userMap"],["project.userMap"]),g=s(["project.teamMap"],["project.teamMap"]),v=s(["project.jobRoleMap"],["project.jobRoleMap"]),b=s(["project.followMap"],["project.followMap"]),y=s(["project.followStatus"],["project.followStatus"]),w=s(["project.mouseOver"],["project.mouseOver"]),j=s(["currentUserId"],["currentUserId"]),E=s(["project.edit"],["project.edit"]),k=s(["project.toggleFollow"],["project.toggleFollow"]),C=s(["project.mouseOut"],["project.mouseOut"]),O=a(n(2)),P=a(n(1)),S=n(5),N=n(0),M=a(n(16)),T=a(n(3)),x=a(n(13)),I=n(7),R=a(n(4)),D=a(n(375)),A=a(n(6)),U=a(n(376)),L=(l=(0,S.decorator)({project:(0,N.state)(h),userMap:(0,N.state)(_),teamMap:(0,N.state)(g),jobRoleMap:(0,N.state)(v),followMap:(0,N.state)(b),followStatus:(0,N.state)(y),mouseOver:(0,N.state)(w),currentUserId:(0,N.state)(j),edit:(0,N.state)(E),toggleFollow:(0,N.signal)(k),projectMouseOver:(0,N.signal)(w),projectMouseOut:(0,N.signal)(C)}),c=(0,R.default)(D.default),u=(0,A.default)(U.default),l(d=c(d=u((f=p=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,T.default),m(t,[{key:"renderFollow",value:function(e,t){var n=this.props,a=n.followMap,o=n.followStatus,r=n.mouseOver,i=n.toggleFollow,s=n.projectMouseOver,l=n.projectMouseOut,c=n.edit,u=(0,I.isLoading)(o[e]),d=c;if(a&&a[e]){var p=r[e]?"unfollow":"following";return P.default.createElement(x.default,{label:this.__(p),className:this.ss("button"),theme:"webgl",size:"xxsmall",loading:u,disabled:d,onClick:function(){return i({followeeId:e,type:t})},onMouseOver:function(){return s({authorId:e})},onMouseOut:function(){return l({authorId:e})}})}return d?null:P.default.createElement("div",null,P.default.createElement(x.default,{label:this.__("follow_on_connect"),className:this.ss("button-long"),theme:"webgl",size:"xxsmall",loading:u,disabled:d,gaTag:"GA_btn_follow",onClick:function(){return i({followeeId:e,type:t})}}),P.default.createElement(x.default,{label:this.__("follow"),className:this.ss("button-short"),theme:"webgl",size:"xxsmall",loading:u,disabled:d,gaTag:"GA_btn_follow",onClick:function(){return i({followeeId:e,type:t})}}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.project.projectData,a=t.userMap,o=t.teamMap,r=n.userId,i=n.teamId,s=n.ownerType,l=n.publishedTime,c="team"===s,u=void 0,d=void 0,p=void 0;return c?(d="/t/"+(u=o&&o[i]).id,p=u.name):(d="/u/"+(u=a&&a[r]).id,p=u.fullName),P.default.createElement("div",{className:this.ss("sub-info")},P.default.createElement("div",{className:this.ss("avatar-name")},P.default.createElement("a",{className:this.ss("avatar"),href:d,onClick:function(){return e.props.onAuthorClick()}},P.default.createElement(M.default,{user:u,size:"xsmall",shape:c?"square":"circle"})),P.default.createElement("div",{className:this.ss("user-wrapper")},P.default.createElement("div",{className:this.ss("name-title")},P.default.createElement("a",{className:this.ss("username"),href:d,onClick:function(){return e.props.onAuthorClick()}},p)),P.default.createElement("div",{className:this.ss("time")},this.__("time",{time:l})))))}}]),t}(),p.propTypes={project:O.default.object,userMap:O.default.object,teamMap:O.default.object,jobRoleMap:O.default.object,followMap:O.default.object,followStatus:O.default.object,mouseOver:O.default.object,currentUserId:O.default.string,edit:O.default.bool,toggleFollow:O.default.func,projectMouseOver:O.default.func,projectMouseOut:O.default.func,onAuthorClick:O.default.func},d=f))||d)||d)||d);t.default=L},function(e,t){e.exports={"sub-info":"sub-info_A9KoXCoI","avatar-name":"avatar-name_kR5GY_hX",avatar:"avatar_31zj6ZUV","user-wrapper":"user-wrapper_3EnBXRsT","button-long":"button-long_3uvyI6m0","button-short":"button-short_2vwuVCSx","name-title":"name-title_ZZLlgGIC",username:"username_1rliP5A4",title:"title_3LAAZZQF",time:"time_fTxCsAoa","project-title":"project-title_zgZefOjZ","report-wrap":"report-wrap_3Ko9gXcR",report:"report_2GAsHnKz"}},function(e,t){e.exports={follow_on_connect:"follow_on_connect_1z27",follow:"follow_8VZn",following:"following_5Jga",unfollow:"unfollow_2nVX",report_project:"report_project_eXZ-",time:"time_7FZu"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u,d,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=a(n(2)),m=a(n(1)),h=a(n(3)),_=a(n(4)),g=a(n(378)),v=a(n(6)),b=a(n(379)),y=(s=(0,_.default)(g.default),l=(0,v.default)(b.default),s(c=l((d=u=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,h.default),p(t,[{key:"render",value:function(){var e=this.props,t=e.show,n=e.tips;return m.default.createElement("div",{className:this.ss("relative")},m.default.createElement("div",{className:this.ss("absolute")},m.default.createElement("div",{className:this.ss("tooltip",t&&"show")},m.default.createElement("div",{className:this.ss("tips")},n),m.default.createElement("span",{className:this.ss("tip-down")}))))}}]),t}(),u.propTypes={show:f.default.bool,tips:f.default.string},c=d))||c)||c);t.default=y},function(e,t){e.exports={relative:"relative_2-6iXrcE",absolute:"absolute_2__BZB_h",tooltip:"tooltip_2pr2tMRG",show:"show_jqSAeY5l",deleyShow:"deleyShow_a5dt0yCn",tips:"tips_21tecNyP","tip-down":"tip-down_U0soWEFw"}},function(e,t){e.exports={screenshot_tips:"screenshot_tips_2Zr_"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.CustomizedMadeWith=t.default=void 0;var l,c,u,d,p,f,m,h,_,g,v,b,y=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),w=s(["project"],["project"]),j=s(["pageType"],["pageType"]),E=s(["project.madeWith.candidates"],["project.madeWith.candidates"]),k=s(["project.madeWith.value"],["project.madeWith.value"]),C=s(["project.madeWith.searchStatus"],["project.madeWith.searchStatus"]),O=s(["project.madeWith.searchType"],["project.madeWith.searchType"]),P=s(["project.changeSearchValue"],["project.changeSearchValue"]),S=s(["project.searchAssets"],["project.searchAssets"]),N=s(["project.addMadeWith"],["project.addMadeWith"]),M=s(["project.changeSearchType"],["project.changeSearchType"]),T=s(["project.madeWith.items"],["project.madeWith.items"]),x=s(["project.deleteMadeWith"],["project.deleteMadeWith"]),I=a(n(2)),R=a(n(1)),D=n(5),A=n(0),U=a(n(3)),L=n(7),z=a(n(14)),W=a(n(4)),H=a(n(381)),B=a(n(6)),q=a(n(382)),F=(l=(0,D.decorator)({project:(0,A.state)(w),pageType:(0,A.state)(j),candidates:(0,A.state)(E),searchValue:(0,A.state)(k),searchStatus:(0,A.state)(C),searchType:(0,A.state)(O),changeSearchValue:(0,A.signal)(P),searchAssets:(0,A.signal)(S),addMadeWith:(0,A.signal)(N),changeSearchType:(0,A.signal)(M)}),c=(0,W.default)(H.default),u=(0,B.default)(q.default),l(d=c(d=u((f=p=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,U.default),y(t,[{key:"onKeyDown",value:function(e){switch(e.keyCode){case 13:this.onSearch();break;case 27:this.props.changeSearchValue({value:""})}}},{key:"onSearch",value:function(){var e=this.props,t=e.searchValue,n=e.searchAssets;t&&n()}},{key:"renderCandidates",value:function(){var e=this,t=this.props,n=t.candidates,a=t.addMadeWith,o=n.map(function(t){var n=t.id,o=t.name,r=t.image,i=t.url,s=t.type;return R.default.createElement("div",{key:n,className:e.ss("item")},R.default.createElement("a",{href:i,target:"_blank",className:e.ss("img-wrapper")},R.default.createElement("img",{src:r})),R.default.createElement("a",{href:i,target:"_blank",className:e.ss("name")},o),R.default.createElement("div",{className:e.ss("add-button"),onClick:function(){return a({title:o,image:r,url:i,refId:n,type:s})}},e.__("add")))});return R.default.createElement("div",{className:this.ss("search-results")},o)}},{key:"renderSearchButton",value:function(){var e=this,t=this.props,n=t.searchStatus,a=t.searchValue;return(0,L.isLoading)(n)?R.default.createElement("div",{className:this.ss("loading")}):R.default.createElement("div",{className:this.ss("search-icon","ifont","ifont-material-baseline-search",!a&&"hide"),onClick:function(){return e.onSearch()}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.pageType,a=t.searchValue,o=t.changeSearchValue,r=t.searchStatus;if("detail"===n)return null;var i=(0,L.isLoading)(r);return R.default.createElement("div",{className:this.ss("made-with")},R.default.createElement("div",{className:this.ss("search-wrapper")},R.default.createElement("input",{className:this.ss("input"),value:a,disabled:i,placeholder:this.__("search_hint"),onChange:function(e){return o({value:e.target.value})},onKeyDown:function(t){return e.onKeyDown(t)}}),this.renderSearchButton()),R.default.createElement("div",{className:this.ss("tips",a&&"hide")},this.__("tips")),this.renderCandidates())}}]),t}(),p.propTypes={project:I.default.object,pageType:I.default.string,candidates:I.default.array,searchValue:I.default.string,searchStatus:I.default.string,searchType:I.default.string,changeSearchValue:I.default.func,searchAssets:I.default.func,addMadeWith:I.default.func,changeSearchType:I.default.func},d=f))||d)||d)||d);t.default=F;t.CustomizedMadeWith=(m=(0,D.decorator)({items:(0,A.state)(T),pageType:(0,A.state)(j),changeSearchValue:(0,A.signal)(P),deleteMadeWith:(0,A.signal)(x)}),h=(0,W.default)(H.default),_=(0,B.default)(q.default),m(g=h(g=_((b=v=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,U.default),y(t,[{key:"isAssetStoreUrl",value:function(e){return e.substr(0,z.default.ASSETSTORE_PAGE_BASEURL.length)===z.default.ASSETSTORE_PAGE_BASEURL}},{key:"render",value:function(){var e=this,t=this.props,n=t.items,a=t.deleteMadeWith,o="detail"===t.pageType;return n.map(function(t){var n=t.refId,r=t.title,i=t.image,s=t.url;return R.default.createElement("div",{key:n,className:e.ss("pkg")},R.default.createElement("img",{src:i,className:e.ss("image")}),R.default.createElement("div",{className:e.ss("name")},r),o&&e.isAssetStoreUrl(s)&&R.default.createElement("a",{className:e.ss("button"),href:s+"?source=share-platform&aid="+z.default.ASSETSTORE_ID,target:"_blank"},e.__("view")),o&&!e.isAssetStoreUrl(s)&&R.default.createElement("a",{className:e.ss("button"),href:s+"?source=share-platform",target:"_blank"},e.__("view")),!o&&R.default.createElement("div",{className:e.ss("button"),onClick:function(){return a({refId:n})}},e.__("remove")))})}}]),t}(),v.propTypes={items:I.default.array,pageType:I.default.string,changeSearchValue:I.default.func,deleteMadeWith:I.default.func},g=b))||g)||g)||g)},function(e,t){e.exports={"made-with":"made-with_2w87MYHr",types:"types_3BHQgbGh",name:"name_3oV2mdIJ","selects-wrapper":"selects-wrapper_17JBQayM","select-list-button":"select-list-button_3hDkFQLI","search-wrapper":"search-wrapper_11XENmrK",input:"input_27IkNBuW","search-icon":"search-icon_1C43KkgS",loading:"loading_3lIqpwDg",tips:"tips_1cTsYGKG",item:"item_3a_wUdW5","img-wrapper":"img-wrapper_2Q8d-GRD","add-button":"add-button_2PH5THkm",pkg:"pkg_oePAtSbt",image:"image_3jrqRMd-",button:"button_2vvDDP1D","image-wrapper":"image-wrapper_Iqg0j04A","icon-unity":"icon-unity_3JlbbQRC",hide:"hide_3Rr3f4qw"}},function(e,t){e.exports={search_hint:"search_hint_1-dk",add:"add_3KIE",remove:"remove_2Fb8",resource_type:"resource_type_28sA",asset_store:"asset_store_11HQ",learn:"learn_R5c6",view:"view_3zfT",tips:"tips_-0K4"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u,d,p,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),m=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["project.openProject"],["project.openProject"]),h=a(n(2)),_=a(n(1)),g=n(5),v=n(0),b=a(n(3)),y=n(11),w=a(n(15)),j=a(n(4)),E=a(n(384)),k=a(n(6)),C=a(n(385)),O=n(386),P=(s=(0,g.decorator)({openProject:(0,v.signal)(m)}),l=(0,j.default)(E.default),c=(0,k.default)(C.default),s(u=l(u=c((p=d=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,b.default),f(t,[{key:"onClick",value:function(e,t,n){this.props.onClick(),this.openProject(e,t,n)}},{key:"openProject",value:function(e,t,n){e&&(0,y.pauseEvent)(e);var a=this.props.openProject;a({projectId:t,type:n,from:"mg_recommend"})}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,a=t.teamMap,o=t.userMap,r=n.title,i=n.thumbnail,s=n.originalImage,l=n.userId,c=n.teamId,u=n.playCount,d=n.slug,p=n.type,f=o&&l&&o[l],m=a&&c&&a[c],h=_.default.createElement("div",{className:this.ss("project-author","empty")}),g=i&&i.url||O;if(s&&s.width>=800&&i.width<800&&(g=s.url||O),m||f){var v=f?"/u/"+l:"/t/"+c,b=f?f.fullName:m.name;h=_.default.createElement("div",{className:this.ss("project-author")},_.default.createElement("a",{className:this.ss("link","link-text"),href:v},_.default.createElement("div",{className:this.ss("name")},b)))}return _.default.createElement("div",{className:this.ss("project")},_.default.createElement("div",{className:this.ss("project-inner"),onClick:function(t){return e.onClick(t,d,p)}},_.default.createElement(w.default,{src:g,alt:n.title,sizes:"223px"})),_.default.createElement("div",{className:this.ss("project-info")},_.default.createElement("div",{className:this.ss("title"),onClick:function(t){return e.onClick(t,d,p)}},r),h,_.default.createElement("div",{className:this.ss("plays")}," ",this.__("play_count",{n:u,v:(0,y.formatNumberV2)(u)}))))}}]),t}(),d.propTypes={project:h.default.object,userMap:h.default.object,teamMap:h.default.object,openProject:h.default.func,onClick:h.default.func},u=p))||u)||u)||u);t.default=P},function(e,t){e.exports={project:"project_2Gn8A5xx","project-inner":"project-inner_3p--uwaf","project-info":"project-info_2-oDI1F_",title:"title_3-F8P-sd",link:"link_2vTngvvi",name:"name_3nmFINy1",plays:"plays_mp0ymbSV"}},function(e,t){e.exports={play_count:"play_count_2kJh"}},function(e,t,n){e.exports=n.p+"../styles/i/webgl-default-image.56ef9e087fe8f635f46beb8531a49357.jpeg"},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,d,p,f,m,h,_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},g=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),v=c(["project.projectData"],["project.projectData"]),b=c(["loginUser"],["loginUser"]),y=c(["project.commentEditing"],["project.commentEditing"]),w=c(["project.comments"],["project.comments"]),j=c(["project.reactions"],["project.reactions"]),E=c(["project.selfComments.items"],["project.selfComments.items"]),k=c(["project.replyShow"],["project.replyShow"]),C=c(["project.replysShow"],["project.replysShow"]),O=c(["project.moreListShow"],["project.moreListShow"]),P=c(["project.channelId"],["project.channelId"]),S=c(["project.inputValues"],["project.inputValues"]),N=c(["project.loadMoreStatus"],["project.loadMoreStatus"]),M=c(["project.loadMoreReactionsStatus"],["project.loadMoreReactionsStatus"]),T=c(["project.canPublish"],["project.canPublish"]),x=c(["project.isChannelReadonly"],["project.isChannelReadonly"]),I=c(["project.isAdmin"],["project.isAdmin"]),R=c(["project.deleteCommentConfirmId"],["project.deleteCommentConfirmId"]),D=c(["project.deleteCommentStatus"],["project.deleteCommentStatus"]),A=c(["project.comment.showEmoji"],["project.comment.showEmoji"]),U=c(["project.comment.emoji"],["project.comment.emoji"]),L=c(["project.openCommentEmoji"],["project.openCommentEmoji"]),z=c(["project.closeCommentEmoji"],["project.closeCommentEmoji"]),W=c(["project.changeCommentEmoji"],["project.changeCommentEmoji"]),H=c(["project.storeComment"],["project.storeComment"]),B=c(["project.sendEditComment"],["project.sendEditComment"]),q=c(["project.updateEditing"],["project.updateEditing"]),F=c(["project.toggleReaction"],["project.toggleReaction"]),K=c(["project.updateReplyShow"],["project.updateReplyShow"]),G=c(["project.updateReplysShow"],["project.updateReplysShow"]),V=c(["project.updateMoreListShow"],["project.updateMoreListShow"]),J=c(["project.createComment"],["project.createComment"]),Y=c(["project.createCommentWithEmoji"],["project.createCommentWithEmoji"]),Q=c(["project.changeReply"],["project.changeReply"]),X=c(["project.changeInputValue"],["project.changeInputValue"]),Z=c(["project.webglLoadMore"],["project.webglLoadMore"]),$=c(["project.loadMoreChild"],["project.loadMoreChild"]),ee=c(["project.webglLoadMoreReactions"],["project.webglLoadMoreReactions"]),te=c(["project.toggleChannelReadonly"],["project.toggleChannelReadonly"]),ne=c(["project.deleteComment"],["project.deleteComment"]),ae=c(["project.openDeleteCommentConfirmDialog"],["project.openDeleteCommentConfirmDialog"]),oe=c(["project.closeDeleteCommentConfirmDialog"],["project.closeDeleteCommentConfirmDialog"]),re=c(["report.open"],["report.open"]),ie=c(["header.loginTo"],["header.loginTo"]),se=a(n(2)),le=a(n(1)),ce=n(5),ue=n(0),de=a(n(3)),pe=n(11),fe=a(n(16)),me=a(n(97)),he=a(n(13)),_e=a(n(34)),ge=a(n(98)),ve=n(99),be=a(n(71)),ye=a(n(20)),we=a(n(40)),je=a(n(4)),Ee=a(n(388)),ke=a(n(6)),Ce=a(n(389)),Oe=(u=(0,ce.decorator)({projectData:(0,ue.state)(v),loginUser:(0,ue.state)(b),commentEditing:(0,ue.state)(y),comments:(0,ue.state)(w),reactions:(0,ue.state)(j),selfComments:(0,ue.state)(E),replyShow:(0,ue.state)(k),replysShow:(0,ue.state)(C),moreListShow:(0,ue.state)(O),channelId:(0,ue.state)(P),inputValues:(0,ue.state)(S),loadMoreStatus:(0,ue.state)(N),loadMoreReactionsStatus:(0,ue.state)(M),canPublish:(0,ue.state)(T),isChannelReadonly:(0,ue.state)(x),isAdmin:(0,ue.state)(I),deleteCommentConfirmId:(0,ue.state)(R),deleteCommentStatus:(0,ue.state)(D),showEmoji:(0,ue.state)(A),emoji:(0,ue.state)(U),openEmoji:(0,ue.signal)(L),closeEmoji:(0,ue.signal)(z),changeEmoji:(0,ue.signal)(W),storeComment:(0,ue.signal)(H),sendEditComment:(0,ue.signal)(B),updateEditing:(0,ue.signal)(q),toggleReaction:(0,ue.signal)(F),updateReplyShow:(0,ue.signal)(K),updateReplysShow:(0,ue.signal)(G),updateMoreListShow:(0,ue.signal)(V),createComment:(0,ue.signal)(J),createCommentWithEmoji:(0,ue.signal)(Y),changeReply:(0,ue.signal)(Q),changeInputValue:(0,ue.signal)(X),loadMore:(0,ue.signal)(Z),loadMoreChild:(0,ue.signal)($),loadMoreReactions:(0,ue.signal)(ee),toggleChannelReadonly:(0,ue.signal)(te),deleteComment:(0,ue.signal)(ne),openDeleteCommentConfirmDialog:(0,ue.signal)(ae),closeDeleteCommentConfirmDialog:(0,ue.signal)(oe),reportOpen:(0,ue.signal)(re),loginTo:(0,ue.signal)(ie)}),d=(0,je.default)(Ee.default),p=(0,ke.default)(Ce.default),u(f=d(f=p((h=m=function(e){function t(){var e,n,a,o;i(this,t);for(var r=arguments.length,l=Array(r),c=0;c<r;c++)l[c]=arguments[c];return n=a=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={textAreaFocused:{},reactionsDialogOpen:!1},a.clickEmoji=function(e){var t=a.props,n=t.changeEmoji,o=t.closeEmoji;n({value:e}),o()},o=n,s(a,o)}return l(t,de.default),g(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleEmojiClose.bind(this))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleEmojiClose.bind(this))}},{key:"onChangeTextAreaFocused",value:function(e,t,n){var a=this.state.textAreaFocused,o=_({},a,r({},e,t));this.setState({textAreaFocused:o});var i="new_comment"===e?"":e;this.props.changeReply({id:i,parentMessageId:n})}},{key:"onChange",value:function(e,t){e&&(0,pe.pauseEvent)(e),this.props.changeInputValue({id:t,value:e.target.value})}},{key:"onReactionsDialogClose",value:function(){this.setState({reactionsDialogOpen:!1})}},{key:"onCommentLikeClick",value:function(e){this.props.onCommentLikeClick(),this.props.toggleReaction(e)}},{key:"onCommentReplyClick",value:function(e){this.props.onCommentReplyClick(),this.props.updateReplyShow(e)}},{key:"getTextAreaValue",value:function(e){var t=this.props.inputValues;return t[e]&&t[e].trim()}},{key:"getEmojiPlaceholder",value:function(){return n(390)}},{key:"getEmoji",value:function(){return new Map([["unhappy",n(110)],["nerd",n(111)],["laugh",n(112)],["love",n(113)],["grinning",n(114)]])}},{key:"getMoreReactionsOnScroll",value:function(e){var t=this.props,n=t.reactions,a=t.loadMoreReactions,o=(n||{}).hasMore,r=e.target,i=r.scrollTop,s=r.scrollHeight,l=r.clientHeight;!1!==o&&i+l>=s&&a({loading:!0})}},{key:"pauseWebgl",value:function(){document.getElementById("webgl_iframe").focus(),document.getElementsByTagName("iframe")[0].focus()}},{key:"handleCreateComment",value:function(e,t){var n=this.props.loginUser,a=this.props.emoji,o=this.getTextAreaValue(e),r=this.props,i=r.channelId,s=r.createCommentWithEmoji,l=r.updateReplysShow,c=r.storeComment;return!(!o||!o.length)&&(n||this.pauseWebgl(),c(),s({content:o,emoji:a,channelId:i,id:e,parentMessageId:t,unParse:!0}),"new_comment"!==e&&(this.props.updateReplyShow({id:e,show:!1}),l({id:e,show:!0})),(0,this.props.changeEmoji)({value:null}),this.props.inputValues[e]="","new_comment"===e?this.props.onCommentCreated():this.props.onReplyCommentCreated(),!0)}},{key:"handleTextAreaBlur",value:function(e,t,n){e&&(0,pe.pauseEvent)(e),this.onChangeTextAreaFocused(t,!1,n)}},{key:"handleKeyPress",value:function(e,t,n){13!==e.which||e.shiftKey||((0,pe.pauseEvent)(e),this.handleCreateComment(t,n))}},{key:"handleTextAreaFocus",value:function(e,t,n){this.onChangeTextAreaFocused(t,!0,n)}},{key:"hasComments",value:function(){var e=(this.props.comments||{}).items;return 0!==(void 0===e?[]:e).length}},{key:"clickReplysShow",value:function(e,t){var n=this.props,a=n.updateReplysShow,o=n.loadMoreChild;a({id:e,show:!0}),o({messageIds:t})}},{key:"handleSaveComment",value:function(e){var t=this.props,n=t.comments,a=t.sendEditComment,o=t.inputValues,r=(n||{}).items,i=(void 0===r?[]:r).find(function(t){return t.id===e}),s=o[e];a({id:e,message:i,newContent:s,value:!1})}},{key:"handleStartEdit",value:function(e){(0,this.props.updateEditing)({id:e,value:!0})}},{key:"handleEditCommentKeyPress",value:function(e,t){13!==e.which||e.shiftKey||this.handleSaveComment(t)}},{key:"handleEmojiClose",value:function(e){this.props.showEmoji&&-1===e.target.className.indexOf("image_")&&this.props.closeEmoji()}},{key:"loadFirstReactions",value:function(){this.props.projectData.reactionCount>0&&(this.props.loadMoreReactions({loading:!0}),this.setState({reactionsDialogOpen:!0}))}},{key:"parseLink",value:function(e){return we.default.plainTextParse(e,!0,{})}},{key:"renderEditingButton",value:function(e){var t=this,n=this.props.updateEditing;return le.default.createElement("div",{className:this.ss("comment-edit-buttons")},le.default.createElement("button",{className:this.ss("button"),onClick:function(){return n({id:e,value:!1})}},this.__("cancel")),le.default.createElement("button",{className:this.ss("button"),onClick:function(){return t.handleSaveComment(e)}},this.__("save")))}},{key:"renderReply",value:function(e,t){var n=this,a=this.props,o=a.replyShow,r=a.inputValues;if(!o[e])return null;var i=this.state.textAreaFocused,s=r[e],l=!(s||"").trim();return le.default.createElement("div",{className:this.ss("reply-wrapper")},le.default.createElement("div",{className:this.ss("input-wrapper")},le.default.createElement(me.default,{ref:"textarea_"+e,placeholder:this.__("reply_hint"),value:s,autoFocus:!0,onFocus:function(a){return n.handleTextAreaFocus(a,e,t)},onBlur:function(a){return n.handleTextAreaBlur(a,e,t)},onKeyPress:function(a){return n.handleKeyPress(a,e,t)},onChange:function(t){return n.onChange(t,e)}}),i[e]||!l?le.default.createElement(he.default,{theme:"webgl",size:"new-medium",disabled:l,className:this.ss("post"),label:this.__("post"),onClick:function(){return n.handleCreateComment(e,t)}}):null))}},{key:"renderEditingComment",value:function(e,t,n){var a=this,o=this.props.inputValues[e],r={};return r[n.author.id]=n.author,n.mentions.forEach(function(e){r[e.id]=e}),le.default.createElement("div",{className:this.ss("edit-wrapper")},le.default.createElement(me.default,{className:this.ss("editing-comment-input"),ref:"textarea_"+e,defaultValue:t,value:o,placeholder:this.__("hint_comment"),onFocus:function(t){return a.handleTextAreaFocus(t,e)},onBlur:function(t){return a.handleTextAreaBlur(t,e)},onKeyPress:function(t){return a.handleEditCommentKeyPress(t,e)},onChange:function(t){return a.onChange(t,e)}}))}},{key:"renderCommentsItem",value:function(e,t,n){var a=this,o=this.props,r=o.loginUser,i=o.moreListShow,s=o.updateMoreListShow,l=o.reportOpen,c=o.canPublish,u=o.isAdmin,d=o.openDeleteCommentConfirmDialog,p=e.id,f=e.author,m=e.parentMessageId;if(e.skip||n&&m)return null;var h=(r||{}).id,_=f.id,g=f.fullname,v=p?_e.default.extractTimestamp(p):Date.now(),b="/u/"+_,y=_===h,w=[];if(y?w.push(le.default.createElement("button",{key:"edit",className:this.ss("more-item","edit"),onClick:function(){return a.handleStartEdit(p)}},this.__("edit"))):w.push(le.default.createElement("button",{key:"report",className:this.ss("more-item","report"),onClick:function(){return l({itemId:p,itemType:"comment"})}},this.__("report"))),c||u||y){var j=!c&&u;w.push(le.default.createElement("button",{key:"delete",className:this.ss("more-item","delete",(c||u||y)&&"disable"),onClick:function(){return d({id:p,deleteAsAdmin:j})}},this.__("delete")))}var E=e.emojiReaction;return le.default.createElement("div",{key:p||Date.now()},le.default.createElement("div",{className:this.ss("comment-wrap")},le.default.createElement("a",{className:this.ss("avatar-wrap"),href:b},le.default.createElement(fe.default,{user:f,size:"xsmall"}),this.getEmoji().has(E)?le.default.createElement("img",{src:this.getEmoji().get(E),alt:E,className:this.ss("avatar-emoji")}):""),le.default.createElement("div",{className:this.ss("info-wrap")},le.default.createElement("div",{className:this.ss("name-line")},le.default.createElement("a",{className:this.ss("name"),href:b},g),f&&f.isStaff&&le.default.createElement(ge.default,{className:this.ss("staff-label"),type:"staff"}),le.default.createElement("div",{className:this.ss("time")},this.__("comment_created_at",{time:v})),le.default.createElement("div",{className:this.ss("more","ifont","ifont-ic_more"),onClick:function(){return s({id:p,show:!i[p]})}},le.default.createElement("div",{className:this.ss("drop-back",!i[p]&&"hide")}),le.default.createElement("div",{className:this.ss("moreList",!i[p]&&"hide")},w))),this.renderReplyComment(e,t,!1))),this.renderReplyComment(e,t,!0))}},{key:"renderReplyComment",value:function(e,t,n){var a=this,o=this.props,r=o.loginUser,i=o.replyShow,s=(o.updateReplyShow,o.commentEditing),l=e.id,c=e.content,u=e.reactions,d=void 0===u?[]:u,p=e.channelId,f=e.parentMessageId,m=e.attachments,h=e.replyMessageIds,_=(r||{}).id,g=d.filter(function(e){return"like"===e.type}).length,v=d.some(function(e){return e.user.id===_});g>100?g="99+":0===g&&(g="");var b=this.parseLink(c);return le.default.createElement("div",{className:this.ss("comment-reply",n&&this.ss("hide-desk"),!n&&this.ss("hide-touch"))},le.default.createElement("div",{className:this.ss("comment-wrapper")},le.default.createElement("div",{className:this.ss("comment-content",s[l]&&"editing")},le.default.createElement("div",{className:this.ss("comment",!l&&"loading")},this.renderAttachment(m,l),s[l]?this.renderEditingComment(l,c,e):b))),s[l]?this.renderEditingButton(l):le.default.createElement("div",null,le.default.createElement("div",{className:this.ss("buttons","touch-padding")},le.default.createElement("div",{className:this.ss("reaction-like"),onClick:function(){return a.onCommentLikeClick({messageId:l,channelId:p,reactionType:"like"})}},le.default.createElement("button",{className:this.ss("like",v&&"liked")},this.__("like")),le.default.createElement("div",{className:this.ss("reaction-like-count")},g)),le.default.createElement("a",{className:this.ss("reply"),onClick:function(){return a.onCommentReplyClick({id:l,show:!i[l]})}},this.__("reply"))),this.renderReply(l,f),this.renderChild(l,h,t)))}},{key:"renderAttachment",value:function(e,t){var n=this.props.commentEditing;if(!e||e.length<1)return null;var a=e[0],o=a.contentType,r=a.url;return o.startsWith("image/")?le.default.createElement("img",{src:r,className:this.ss("image",n[t]&&"editing-image")}):null}},{key:"renderChild",value:function(e,t,n){var a=this,o=this.props.replysShow,r=n.filter(function(t){return t.parentMessageId===e}).reverse();return o[e]?le.default.createElement("div",{className:this.ss("replys-wrapper")},le.default.createElement("div",{className:this.ss("replys")},r.map(function(e){return a.renderCommentsItem(e,n,!1)}))):t&&0!==t.length?le.default.createElement("div",{className:this.ss("replys-wrapper")},le.default.createElement("button",{className:this.ss("buttons"),onClick:function(){return a.clickReplysShow(e,t)}},this.__("reply_count",{n:t.length}))):null}},{key:"renderCommentList",value:function(){var e=this,t=this.props,n=t.comments,a=t.selfComments,r=(n||{}).items,i=void 0===r?[]:r;if(0===i.length)return null;var s=a?a[0].id:0,l=i.filter(function(e){return s===e.id}),c=i.filter(function(e){return s!==e.id}),u=l.map(function(t){return e.renderCommentsItem(t,i,!0)}),d=c.map(function(t){return e.renderCommentsItem(t,i,!0)});return 0===u.length&&0===d.length&&d.push(le.default.createElement("div",{key:"empty_comments",className:this.ss("no-comments-tip")},this.__("no_comments_tip"))),[].concat(o(u),o(d))}},{key:"renderEmoji",value:function(){var e=this,t=[],n=this.props,a=n.emoji,o=n.showEmoji,r=n.openEmoji;return this.getEmoji().forEach(function(n,a){t.push(le.default.createElement("a",{key:a,className:e.ss("botton-"+a,"emoji-button"),onClick:function(){return e.clickEmoji(a)}},le.default.createElement("img",{className:e.ss("image"),src:n})))}),le.default.createElement("div",{className:this.ss("emojis")},le.default.createElement("div",{className:this.ss("emoji-choose",!o&&"hide")},t),le.default.createElement("div",{className:this.ss("emoji"),onClick:function(){return r()}},le.default.createElement("img",{className:this.ss("image"),src:null!==a?this.getEmoji().get(a):this.getEmojiPlaceholder()})))}},{key:"renderCommentInputArea",value:function(){var e=this,t=this.props,n=t.projectData,a=t.inputValues,o=t.isChannelReadonly,r=(n||{}).publishedTime,i=this.state.textAreaFocused,s=a.new_comment,l=!(s||"").trim();return o?le.default.createElement("div",{className:this.ss("comment-input-wrapper","disabled")},le.default.createElement("div",{className:this.ss("icon-close-comments","ifont","ifont-icons-close-comments")}),le.default.createElement("div",{className:this.ss("hint-text")},this.__("comment_disabled"))):le.default.createElement("div",{className:this.ss("comment-input-wrapper")},this.renderEmoji(),le.default.createElement(me.default,{ref:"textarea_new_comment",value:s,readOnly:!r,placeholder:this.__("hint_comment"),onFocus:function(t){return e.handleTextAreaFocus(t,"new_comment")},onBlur:function(t){return e.handleTextAreaBlur(t,"new_comment")},onKeyPress:function(t){return e.handleKeyPress(t,"new_comment")},onChange:function(t){return e.onChange(t,"new_comment")}}),i.new_comment||!l?le.default.createElement(he.default,{theme:"webgl",size:"new-medium",disabled:l,className:this.ss("post"),label:this.__("post"),onClick:function(){return e.handleCreateComment("new_comment")}}):null)}},{key:"renderComments",value:function(){var e=this.props,t=e.comments,n=e.loadMore,a=e.loadMoreStatus,o=e.isChannelReadonly,r=(t||{}).hasMore;return le.default.createElement("div",{className:this.ss("comments")},le.default.createElement("div",{className:this.ss("comment-list")},!o&&this.renderCommentList(),!o&&r&&le.default.createElement("div",{className:this.ss("load-more")},le.default.createElement(ve.EndBarComponent,{userDefinedLoadMoreStaus:a,onPage:function(){return n({loading:!0})},hasMore:r}))))}},{key:"renderReactionsDialogItem",value:function(e){var t=e.id,n=e.author,a=n.id,o=n.fullname,r="/u/"+a,i=e.emojiReaction;return le.default.createElement("div",{key:t||Date.now()},le.default.createElement("div",{className:this.ss("reaction-wrap")},le.default.createElement("a",{className:this.ss("avatar-wrap"),href:r},le.default.createElement(fe.default,{user:n,size:"xsmall"}),this.getEmoji().has(i)&&le.default.createElement("img",{src:this.getEmoji().get(i),alt:i,className:this.ss("avatar-emoji")})),le.default.createElement("div",{className:this.ss("info-wrap")},le.default.createElement("div",{className:this.ss("name-line")},le.default.createElement("a",{className:this.ss("name"),href:r},o)))))}},{key:"renderReactionsDialog",value:function(){var e=this,t=this.props.reactions,n=t&&t.items.length>0;return le.default.createElement(ye.default,{open:this.state.reactionsDialogOpen&&n,position:"center",onCloseModal:function(){return e.onReactionsDialogClose()}},le.default.createElement("div",{className:this.ss("reactions-dialog")},le.default.createElement("div",{className:this.ss("header-wrapper")},le.default.createElement("h3",null,"All reactions")),le.default.createElement("div",{className:this.ss("reactions-wrapper"),onScroll:function(t){return e.getMoreReactionsOnScroll(t)}},t&&t.items&&t.items.map(function(t){return e.renderReactionsDialogItem(t)})),le.default.createElement("div",{className:this.ss("close-wrapper")},le.default.createElement("div",{className:this.ss("icon-close","ifont","ifont-material-baseline-clear"),onClick:function(){return e.onReactionsDialogClose()}}))))}},{key:"render",value:function(){var e=this,t=this.props,n=t.deleteCommentConfirmId,a=t.deleteCommentStatus,o=t.deleteComment,r=t.closeDeleteCommentConfirmDialog,i=t.projectData||{},s=i.likeCount,l=i.commentCount,c=i.reactionCount,u=i.reactionsUsed,d=!this.hasComments(),p=[];return u&&Object.keys(u).forEach(function(e){p.push(e)}),le.default.createElement("div",{className:this.ss("comments")},p&&this.renderReactionsDialog(),le.default.createElement("div",{className:this.ss("counts")},le.default.createElement("div",{className:this.ss("reactions-used"),onClick:function(){return e.loadFirstReactions()}},p?p.map(function(t){return le.default.createElement("img",{key:t,src:e.getEmoji().get(t),alt:t})}):""),le.default.createElement("div",{className:this.ss("reaction-count"),onClick:function(){return e.loadFirstReactions()}},this.__("reaction_count",{n:s+c})),le.default.createElement("div",{className:this.ss("comment-count")},this.__("comment_count",{n:l}))),le.default.createElement("div",{className:this.ss("comments-wrapper",d&&"no-comments")},this.renderCommentInputArea(),this.renderComments(),le.default.createElement(be.default,{open:!!n,confirmStatus:a,title:this.__("delete_comment"),theme:"delete",description:this.__("delete_comment_confirm"),onConfirm:function(){return o()},onClose:function(){return r()}})))}}]),t}(),m.propTypes={projectData:se.default.object,loginUser:se.default.object,commentEditing:se.default.object,reactions:se.default.object,comments:se.default.object,selfComments:se.default.array,replyShow:se.default.object,replysShow:se.default.object,moreListShow:se.default.object,channelId:se.default.string,inputValues:se.default.object,loadMoreStatus:se.default.string,loadMoreReactionsStatus:se.default.string,canPublish:se.default.bool,isChannelReadonly:se.default.bool,isAdmin:se.default.bool,deleteCommentConfirmId:se.default.string,deleteCommentStatus:se.default.string,showEmoji:se.default.bool,emoji:se.default.string,openEmoji:se.default.func,closeEmoji:se.default.func,changeEmoji:se.default.func,storeComment:se.default.func,sendEditComment:se.default.func,updateEditing:se.default.func,toggleReaction:se.default.func,updateReplyShow:se.default.func,updateReplysShow:se.default.func,updateMoreListShow:se.default.func,createComment:se.default.func,createCommentWithEmoji:se.default.func,changeReply:se.default.func,changeInputValue:se.default.func,loadMore:se.default.func,loadMoreChild:se.default.func,loadMoreReactions:se.default.func,toggleChannelReadonly:se.default.func,deleteComment:se.default.func,openDeleteCommentConfirmDialog:se.default.func,closeDeleteCommentConfirmDialog:se.default.func,reportOpen:se.default.func,loginTo:se.default.func,onCommentCreated:se.default.func,onCommentLikeClick:se.default.func,onCommentReplyClick:se.default.func,onReplyCommentCreated:se.default.func},f=h))||f)||f)||f);t.default=Oe},function(e,t){e.exports={counts:"counts_3Z7yrbln","reaction-count":"reaction-count_3NFWxvvt","reactions-used":"reactions-used_uQ-GEsD7","fade-in":"fade-in_3p9w6Nlg","comments-wrapper":"comments-wrapper_2A5Rdpu6","no-comments":"no-comments_1nFAWR0M","comment-input-wrapper":"comment-input-wrapper_3BasJPTb",comments:"comments_2IjZ3GdS",post:"post_1S2MO7x_",emojis:"emojis_taIDvOi8","emoji-choose":"emoji-choose_3fT_mS2a","load-more":"load-more_lDvF-lws","comment-list":"comment-list_3KoFcH4T","no-comments-tip":"no-comments-tip_3DuKyVad","comment-wrap":"comment-wrap_1KDnjZdl","info-wrap":"info-wrap_1AAbmZUM",buttons:"buttons_lexNbXLR",ops:"ops_jWX2JtKQ","name-line":"name-line_3-Ur4XCf",more:"more_kJjJpoN0","avatar-wrap":"avatar-wrap_2YfFdlaB","avatar-emoji":"avatar-emoji_2bx29rKR",name:"name_sCyNgcte","staff-label":"staff-label_2JS4vg9A",time:"time_Fm8LAJ15","drop-back":"drop-back_LxiP2YGY",moreList:"moreList_pUldDMe-","more-item":"more-item_1QaGbvIJ",delete:"delete_3SO3YZEN","user-title":"user-title_3soXZsMN","comment-wrapper":"comment-wrapper_2nQqhV2K","comment-edit-buttons":"comment-edit-buttons_28TYFFqx",button:"button_11qFe494","reaction-like":"reaction-like_3bHs3xhA",like:"like_1JDfgNef",liked:"liked_2nlNdq4G","reaction-like-count":"reaction-like-count_115Uw30-","comment-content":"comment-content_ep5d0NKf",editing:"editing_gKtqcth9","parent-message":"parent-message_4HLs-pUK","parent-message-author":"parent-message-author_28h-7fze",comment:"comment_1du51nay",loading:"loading_EM3af3KX","edit-wrapper":"edit-wrapper_KMTg94v5","editing-comment-input":"editing-comment-input_1RiDoElA","auto-wrapper":"auto-wrapper_2_3gCpva","replys-wrapper":"replys-wrapper_3wQQR2h0",replys:"replys_PpBi9QrF","touch-padding":"touch-padding_2tx98X50","report-wrap":"report-wrap_moovJrWd",reply:"reply_25Ht4OPA","reply-wrapper":"reply-wrapper_3bG8DnLJ","input-wrapper":"input-wrapper_SBHQwTIl","reply-buttons":"reply-buttons_1kAXuh7f",cancel:"cancel_2DZ85CN0","hide-desk":"hide-desk_1GNrOdkW","hide-touch":"hide-touch_2M8oVVZ-",image:"image_2De7hytF","editing-image":"editing-image_2Dngtb8f","view-cmt-wrap":"view-cmt-wrap_1JiHsrDf","view-cmt":"view-cmt_3zsxBESb",login:"login_1DxvlMoE",hide:"hide_3rMbjSfh","reactions-dialog":"reactions-dialog_1uL5Da4f","header-wrapper":"header-wrapper_2H2xEUC_","reactions-wrapper":"reactions-wrapper_2pDo8Nz6","reaction-wrap":"reaction-wrap_ulyvCsPI","close-wrapper":"close-wrapper_36G05Rf2","icon-close":"icon-close_1w8w1WD9"}},function(e,t){e.exports={hint_comment:"hint_comment_1lM_",comment:"comment_Czx1",no_comments_tip:"no_comments_tip_3i4n",comment_created_at:"comment_created_at_vhSC",reply_hint:"reply_hint_hGJ1",cancel:"cancel_32DN",reply:"reply_1VpW",report_comment:"report_comment_3LUp",game_language:"game_language_2hzV",support_platform:"support_platform_23Ht",play_station:"play_station_1e9K",release_time:"release_time_PxfX",download_press_kit:"download_press_kit_13xG",press_contact:"press_contact_1INO",pressKit:"pressKit_2ZMC",online_store:"online_store_2QPr",comment_disabled:"comment_disabled_1DND",disable_comment:"disable_comment_Szi9",enable_comment:"enable_comment_3jb_",open_channel:"open_channel_1NPM",windows:"windows_26jW",xbox:"xbox_1MK2",winphone:"winphone_39zZ",tizen:"tizen_hphe",steam:"steam_nIsX",playstation:"playstation_32fF",oculus:"oculus_3QQQ",gog:"gog_6xtA",gear_vr:"gear_vr_lmIF",facebook:"facebook_3lik",google_play:"google_play_2eTS",humble:"humble_1rvT",nintendo:"nintendo_2pL7",kongregate:"kongregate_11_t",itch:"itch_2LTZ",indie_game:"indie_game_FG_J",itune:"itune_ItgP",amazon:"amazon_3nru",other:"other_GRJu",delete:"delete_3myf",report:"report_bbT0",delete_comment:"delete_comment_2AGv",delete_comment_confirm:"delete_comment_confirm_5yiA",login_or_create:"login_or_create_K5l7",to_like_or_comment:"to_like_or_comment_1mRR",reply_count:"reply_count_3Cbj",reaction_count:"reaction_count_2hfk",comment_count:"comment_count_OkQW",shared_on:"shared_on_1ykf",like:"like_2MQ3",save:"save_MQX8",edit:"edit_vFY6",post:"post_3NEY"}},function(e,t,n){e.exports=n.p+"../styles/i/emojis/placeholder.ecc18ca40e3f878586c1aa1eeaef57b7.png"},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,u,d,p,f,m,h=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),_=l(["currentPath"],["currentPath"]),g=l(["currentHost"],["currentHost"]),v=l(["project.projectData.title"],["project.projectData.title"]),b=l(["project.projectData.contentIds"],["project.projectData.contentIds"]),y=l(["project.contentMap"],["project.contentMap"]),w=l(["project.embed.show"],["project.embed.show"]),j=l(["project.share.show"],["project.share.show"]),E=l(["header.copyLink"],["header.copyLink"]),k=l(["project.changeScreenshotComment"],["project.changeScreenshotComment"]),C=l(["project.closeShare"],["project.closeShare"]),O=l(["project.setEmbed"],["project.setEmbed"]),P=a(n(2)),S=a(n(1)),N=n(5),M=n(0),T=a(n(3)),x=n(135),I=a(n(20)),R=a(n(14)),D=a(n(4)),A=a(n(392)),U=a(n(6)),L=a(n(393)),z=(c=(0,N.decorator)({currentPath:(0,M.state)(_),currentHost:(0,M.state)(g),title:(0,M.state)(v),contentIds:(0,M.state)(b),contentMap:(0,M.state)(y),embedShow:(0,M.state)(w),showShare:(0,M.state)(j),copyLink:(0,M.signal)(E),changeComment:(0,M.signal)(k),closeShare:(0,M.signal)(C),setEmbed:(0,M.signal)(O)}),u=(0,D.default)(A.default),d=(0,U.default)(L.default),c(p=u(p=d((m=f=function(e){function t(){var e,n,a,o;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={embedCopied:!1,urlCopied:!1},a.onClose=function(){a.props.closeShare&&a.props.closeShare()},o=n,i(a,o)}return s(t,T.default),h(t,[{key:"onShareLinkCopy",value:function(e){(0,this.props.copyLink)({content:e})}},{key:"onPopupWindow",value:function(e){if(window){var t={toolbar:"no",location:"no",status:"no",menubar:"no",scrollbars:"yes",resizable:"yes",width:"640",height:"480"},n=Object.keys(t).reduce(function(e,n){return[].concat(o(e),[n+"="+t[n]])},[]);window.open(e,"targetWindow",n.join(", "))}}},{key:"onEmbedClick",value:function(){this.props.onEmbedClick&&this.props.onEmbedClick(),this.props.setEmbed({value:!0})}},{key:"onMailClick",value:function(e){this.props.onMailClick&&this.props.onMailClick(),this.onPopupWindow(e)}},{key:"onMessengerClick",value:function(e){this.props.onMessengerClick&&this.props.onMessengerClick(),this.onPopupWindow(e)}},{key:"onTwitterClick",value:function(e){this.props.onTwitterClick&&this.props.onTwitterClick(),this.onPopupWindow(e)}},{key:"onFacebookClick",value:function(e){this.props.onFacebookClick&&this.props.onFacebookClick(),this.onPopupWindow(e)}},{key:"onRedditClick",value:function(e){this.props.onRedditClick&&this.props.onRedditClick(),this.onPopupWindow(e)}},{key:"onCopyClick",value:function(e){this.props.onCopyClick&&this.props.onCopyClick(),this.copyUrlLink(e)}},{key:"copyEmbedLink",value:function(e){this.setState({embedCopied:!0}),this.onShareLinkCopy(e)}},{key:"copyUrlLink",value:function(e){this.setState({urlCopied:!0}),this.onShareLinkCopy(e)}},{key:"renderButtons",value:function(){var e=this,t=this.props,a=t.title,o="https://"+t.currentHost+t.currentPath,r=encodeURIComponent(o),i=encodeURIComponent(""+a),s="mailto:?subject="+this.__("share_subject",{title:a})+"&body="+this.__("share_body",{title:a,url:r}),l="http://www.facebook.com/dialog/send?app_id="+(R.default.APP_ID||"")+"&link="+r+"&redirect_uri="+r,c="https://twitter.com/intent/tweet?text="+this.__("share_twitter_text",{title:a,url:r})+"&source=webclient",u="https://www.facebook.com/sharer/sharer.php?u="+r,d="https://www.reddit.com/submit?title="+i+"&url="+r;return S.default.createElement("div",{className:this.ss("body")},S.default.createElement("div",{className:this.ss("share-items")},S.default.createElement("a",{className:this.ss("item"),onClick:function(){return e.onEmbedClick()}},S.default.createElement("img",{role:"presentation",className:this.ss("item-img"),src:n(394)}),this.__("embed")),S.default.createElement("a",{className:this.ss("item"),onClick:function(){return e.onMailClick(s)}},S.default.createElement("img",{role:"presentation",className:this.ss("item-img"),src:n(395)}),this.__("mail")),S.default.createElement("a",{className:this.ss("item"),onClick:function(){return e.onMessengerClick(l)}},S.default.createElement("img",{role:"presentation",className:this.ss("item-img"),src:n(396)}),this.__("messenger")),S.default.createElement("a",{className:this.ss("item"),onClick:function(){return e.onTwitterClick(c)}},S.default.createElement("img",{role:"presentation",className:this.ss("item-img"),src:n(397)}),this.__("twitter")),S.default.createElement("a",{className:this.ss("item"),onClick:function(){return e.onFacebookClick(u)}},S.default.createElement("img",{role:"presentation",className:this.ss("item-img"),src:n(398)}),this.__("facebook")),S.default.createElement("a",{className:this.ss("item"),onClick:function(){return e.onRedditClick(d)}},S.default.createElement("img",{role:"presentation",className:this.ss("item-img"),src:n(399)}),this.__("reddit"))))}},{key:"renderEmbed",value:function(){var e=this,t=this.props,n=t.embedShow,a=t.contentMap,o=t.contentIds;if(!n)return null;var r=o.length>0?(0,x.getEmbededHtml)(a[o[0]]):"unValid";return S.default.createElement("div",{className:this.ss("embed")},S.default.createElement("div",{className:this.ss("backgroud"),onClick:function(){return e.props.setEmbed({value:!1})}}),S.default.createElement("div",{className:this.ss("content")},S.default.createElement("div",{className:this.ss("button-close"),onClick:function(){return e.props.setEmbed({value:!1})}},S.default.createElement("div",{className:this.ss("close","ifont","ifont-ic_close")})),S.default.createElement("div",{className:this.ss("embed-content","sub-content")},S.default.createElement("div",{className:this.ss("embed-title","title")},this.__("share_embed")),S.default.createElement("div",{className:this.ss("embed-link","share-link-wrapper")},S.default.createElement("div",{className:this.ss("embed-text")},r),S.default.createElement("a",{className:this.ss("copy",this.state.embedCopied&&"copied"),onClick:function(){return e.copyEmbedLink(r)}},this.state.embedCopied?this.__("copied"):this.__("copy"))))))}},{key:"render",value:function(){var e=this,t=this.props,n=t.currentHost,a=t.currentPath,o=t.showShare,r="https://"+n+a;return S.default.createElement(I.default,{open:o,position:"center",onCloseModal:function(){return e.onClose()}},S.default.createElement("div",{className:this.ss("content")},S.default.createElement("button",{className:this.ss("button-close"),onClick:function(){return e.onClose()}},S.default.createElement("div",{className:this.ss("close","ifont","ifont-ic_close")})),S.default.createElement("div",{className:this.ss("share-content","sub-content")},S.default.createElement("div",{className:this.ss("share","title")},this.__("share")),this.renderButtons(),S.default.createElement("div",{className:this.ss("share-link-wrapper")},r,S.default.createElement("a",{className:this.ss("copy",this.state.urlCopied&&"copied"),onClick:function(){return e.onCopyClick(r)}},this.state.urlCopied?this.__("copied"):this.__("copy")))),this.renderEmbed()))}}]),t}(),f.propTypes={facebookUrl:P.default.string,twitterUrl:P.default.string,linkedinUrl:P.default.string,pinterestUrl:P.default.string,redditUrl:P.default.string,wechatKey:P.default.string,currentHost:P.default.string,currentPath:P.default.string,title:P.default.string,contentMap:P.default.object,contentIds:P.default.array,embedShow:P.default.bool,showShare:P.default.bool,copyLink:P.default.func,closeShare:P.default.func,setEmbed:P.default.func,onEmbedClick:P.default.func,onMailClick:P.default.func,onMessengerClick:P.default.func,onTwitterClick:P.default.func,onFacebookClick:P.default.func,onRedditClick:P.default.func,onCopyClick:P.default.func},p=m))||p)||p)||p);t.default=z},function(e,t){e.exports={embed:"embed_3ILjMfrg","share-title":"share-title_3Y7z6UU-","share-items":"share-items_LdDU9l5I",item:"item_2xq1TnnI","item-img":"item-img_34sgj5cE",content:"content_1pXL4YdB","sub-content":"sub-content_3t05hIp-","button-close":"button-close_1OXc9Ux-",close:"close_wX8yu60P",title:"title_pkZwMeqU","share-link-wrapper":"share-link-wrapper_1Upkk1E5",copy:"copy_3artDHQX",copied:"copied_Jz1dMRen","embed-link":"embed-link_32D1m6Di","embed-text":"embed-text_39sP_e4k"}},function(e,t){e.exports={share:"share_2b7_",share_twitter_text:"share_twitter_text_3UAQ",share_subject:"share_subject_3Fch",share_body:"share_body_TZ1V",embed:"embed_3DFU",mail:"mail_25iC",messenger:"messenger_99Rj",twitter:"twitter_2ovx",facebook:"facebook_7qgb",reddit:"reddit_3HWu",copy:"copy_3rB4",copied:"copied_2BmZ",share_embed:"share_embed_2oTg"}},function(e,t,n){e.exports=n.p+"../styles/i/share/embed.819e076583597186b3163a416d0a2e04.svg"},function(e,t,n){e.exports=n.p+"../styles/i/share/mail@3x.61856c3dc82c425ce81753a8cb830742.png"},function(e,t,n){e.exports=n.p+"../styles/i/share/messenger@3x.e12971b622e528c46a110db062c156c3.png"},function(e,t,n){e.exports=n.p+"../styles/i/share/twitter-social-icon-rounded-square-color@3x.41b1a9762d4ab251b892167c809bb58f.png"},function(e,t,n){e.exports=n.p+"../styles/i/share/facebook@3x.ad64081aeb7c61bf39ef725ee98db046.png"},function(e,t,n){e.exports=n.p+"../styles/i/share/reddit@3x.733e200227ab6489d06dd124992100eb.png"},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["header.clipboardTip.show"],["header.clipboardTip.show"]),_=s(["header.clipboardTip.copied"],["header.clipboardTip.copied"]),g=a(n(1)),v=a(n(2)),b=n(5),y=n(0),w=a(n(3)),j=a(n(4)),E=a(n(401)),k=a(n(6)),C=a(n(402)),O=(l=(0,b.decorator)({show:(0,y.state)(h),copied:(0,y.state)(_)}),c=(0,j.default)(E.default),u=(0,k.default)(C.default),l(d=c(d=u((f=p=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,w.default),m(t,[{key:"render",value:function(){var e=this.props,t=e.show,n=e.copied;return g.default.createElement("div",{className:this.ss("text-wrap",!!t&&"active","animate-tip",!!n&&"in",!n&&"out")},this.__("text"))}}]),t}(),p.propTypes={show:v.default.bool,copied:v.default.bool},p.defaultProps={show:!1,copied:!1},d=f))||d)||d)||d);t.default=O},function(e,t){e.exports={"text-wrap":"text-wrap_2B-Yk65p",active:"active_2JZKOZ9l","animate-tip":"animate-tip_2JXttsfU",in:"in_a-CzVBxk","animate-tip-in":"animate-tip-in_2IfF-mkr",out:"out_18F2o_DD","animate-tip-out":"animate-tip-out_1hvPAH75"}},function(e,t){e.exports={text:"text_2kNw"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["project.submitWebglDialog.show"],["project.submitWebglDialog.show"]),_=s(["project.submitWebglDialog.updateStatus"],["project.submitWebglDialog.updateStatus"]),g=s(["project.globalChallenge"],["project.globalChallenge"]),v=s(["project.projectData"],["project.projectData"]),b=s(["project.closeSubmitWebglDialog"],["project.closeSubmitWebglDialog"]),y=s(["project.submitProjectToChallenge"],["project.submitProjectToChallenge"]),w=a(n(2)),j=a(n(1)),E=a(n(3)),k=n(5),C=n(0),O=a(n(28)),P=a(n(15)),S=n(7),N=a(n(4)),M=a(n(404)),T=a(n(6)),x=a(n(405)),I=n(51),R=(l=(0,k.decorator)({show:(0,C.state)(h),updateStatus:(0,C.state)(_),challenge:(0,C.state)(g),project:(0,C.state)(v),onClose:(0,C.signal)(b),submitProjectToChallenge:(0,C.signal)(y)}),c=(0,N.default)(M.default),u=(0,T.default)(x.default),l(d=c(d=u((f=p=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,E.default),m(t,[{key:"onClose",value:function(){var e=this.props.onClose;e&&e()}},{key:"render",value:function(){var e=this,t=this.props,n=t.show,a=t.updateStatus,o=t.challenge,r=t.project,i=r.title,s=r.thumbnail,l=t.submitProjectToChallenge;if(!o)return null;var c=o.title,u="/challenges/"+o.slug,d=s&&s.url||I;return j.default.createElement(O.default,{open:n,title:this.__("title"),width:640,submitStyle:"ok/cancel",submitText:this.__("finish"),buttonTheme:"primary-blue",submitInProgress:(0,S.isLoadingOrSucceeded)(a),onClose:function(){return e.onClose()},onSubmit:function(){return l()}},j.default.createElement("div",{className:this.ss("content")},j.default.createElement("div",{className:this.ss("description")},this.__("description",{title:c,link:u})),j.default.createElement("div",{className:this.ss("image",!s&&"default")},j.default.createElement(P.default,{src:d,alt:i,sizes:"320px"})),j.default.createElement("div",{className:this.ss("project-title")},i)))}}]),t}(),p.propTypes={show:w.default.bool,updateStatus:w.default.string,challenge:w.default.object,project:w.default.object,onClose:w.default.func,submitProjectToChallenge:w.default.func},d=f))||d)||d)||d);t.default=R},function(e,t){e.exports={content:"content_2rO8ogQp",description:"description_3RBdPkJD",image:"image_1lFEvW3m",default:"default_3wp7JqNv","project-title":"project-title_35OoYIBp"}},function(e,t){e.exports={title:"title__I3W",description:"description_3R1V",finish:"finish_23g2"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["project.submitDuplicated.show"],["project.submitDuplicated.show"]),_=s(["project.submitDuplicated.projectId"],["project.submitDuplicated.projectId"]),g=s(["project.closeSubmitDuplicated"],["project.closeSubmitDuplicated"]),v=a(n(2)),b=a(n(1)),y=a(n(3)),w=n(5),j=n(0),E=a(n(28)),k=a(n(4)),C=a(n(407)),O=a(n(6)),P=a(n(408)),S=(l=(0,w.decorator)({show:(0,j.state)(h),projectId:(0,j.state)(_),onClose:(0,j.signal)(g)}),c=(0,k.default)(C.default),u=(0,O.default)(P.default),l(d=c(d=u((f=p=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,y.default),m(t,[{key:"onClose",value:function(){var e=this.props.onClose;e&&e()}},{key:"render",value:function(){var e=this,t=this.props,n=t.show,a=t.projectId,o=this.__("title"),r="/p/"+a;return b.default.createElement("div",null,b.default.createElement(E.default,{open:n,width:640,submitStyle:"none",onClose:function(){return e.onClose()}},b.default.createElement("div",{className:this.ss("content")},b.default.createElement("div",{className:this.ss("description")},this.__("description",{title:o,link:r})))))}}]),t}(),p.propTypes={show:v.default.bool,projectId:v.default.string,onClose:v.default.func},d=f))||d)||d)||d);t.default=S},function(e,t){e.exports={content:"content_STLjNrJB",description:"description_16fkBW7V"}},function(e,t){e.exports={title:"title_25Ee",description:"description_361S"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),m=s(["project.thumbnailURL"],["project.thumbnailURL"]),h=s(["project.uploads"],["project.uploads"]),_=s(["project.updateThumbnailStatus"],["project.updateThumbnailStatus"]),g=s(["project.uploadAttachment"],["project.uploadAttachment"]),v=a(n(1)),b=a(n(2)),y=a(n(3)),w=n(5),j=n(0),E=n(7),k=n(109),C=a(n(4)),O=a(n(410)),P=(l=(0,w.decorator)({thumbnailURL:(0,j.state)(m),uploads:(0,j.state)(h),updateThumbnailStatus:(0,j.state)(_),uploadAttachment:(0,j.signal)(g)}),c=(0,C.default)(O.default),l(u=c((p=d=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={},a.onFilesChange=function(e){if(e&&e.target){var t=(e.target||{}).files,n=void 0===t?[]:t;a.uploadImages(n),a.refs.imageSelect.value=null}},i=n,r(a,i)}return i(t,y.default),f(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.thumbnailURL,n=e.uploads[this.state.uploadId];n&&((0,E.isLoading)(n.status)?this.sendIFrameMessage({action:"thumbnailUploading",data:n.dataUrl}):(0,E.isFailedOrSucceeded)(n.status)&&this.sendIFrameMessage({action:"thumbnailUpdate",data:t}))}},{key:"sendIFrameMessage",value:function(e){var t=(0,k.getWebglOrigin)();document.getElementById("webgl_iframe").contentWindow.postMessage(e,t)}},{key:"uploadImages",value:function(e){if(e&&e[0]){var t=e[0],n=window.URL.createObjectURL(t),a=this.props.uploadAttachment,o={id:Date.now()+"_"+Math.random().toString().slice(2,6),file:t,dataUrl:n,uploadType:"headerImage"};a({upload:o,cb:"project.updateThumbnail"}),this.setState({uploadId:o.id})}}},{key:"render",value:function(){var e=this;return v.default.createElement("div",{className:this.ss("upload-thumbnail")},v.default.createElement("input",{type:"file",id:"thumbnailSelect",ref:"imageSelect",className:this.ss("hide"),accept:"image/*",onChange:function(t){return e.onFilesChange(t)}}))}}]),t}(),d.propTypes={thumbnailURL:b.default.string,uploads:b.default.object,updateThumbnailStatus:b.default.string,uploadAttachment:b.default.func},u=p))||u)||u);t.default=P},function(e,t){e.exports={"upload-thumbnail":"upload-thumbnail_NRnAWfWj","upload-thumbnail-title":"upload-thumbnail-title_7ZJKggil","upload-thumbnail-description":"upload-thumbnail-description_3XV1ZfIW","upload-thumbnail-body":"upload-thumbnail-body_2w6CQ63z","button-close":"button-close_4CysDlDj","thumbnail-empty":"thumbnail-empty_QvWGkfiD","drag-over":"drag-over_2QijiwEe","upload-text":"upload-text_1ZCTLoG7","upload-hint":"upload-hint_2qDf4zab",image:"image_2ir5_rRB",uploaded:"uploaded_1CUl5UHj","loading-wrap":"loading-wrap_7PkyvxNU","loading-text":"loading-text_1mjq504B","loading-bar":"loading-bar_7RKYtfQO",loading:"loading_1ym4jr5B","loading-button":"loading-button_1ltrOrx3",content:"content_3PKyWftn",retry:"retry_lWHesjbS",text:"text_2FSY7sMR",hide:"hide_1Hd3vjVK"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["project.popupLearnShow"],["project.popupLearnShow"]),_=s(["project.cover.show"],["project.cover.show"]),g=s(["project.webglPKG"],["project.webglPKG"]),v=s(["project.initData"],["project.initData"]),b=s(["project.hidePopupLearn"],["project.hidePopupLearn"]),y=a(n(1)),w=n(5),j=n(0),E=a(n(3)),k=a(n(2)),C=a(n(4)),O=a(n(412)),P=a(n(6)),S=a(n(413)),N=(l=(0,w.decorator)({popupLearnShow:(0,j.state)(h),cover:(0,j.state)(_),webglPKG:(0,j.state)(g),initData:(0,j.signal)(v),hidePopupLearn:(0,j.signal)(b)}),c=(0,C.default)(O.default),u=(0,P.default)(S.default),l(d=c(d=u((f=p=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.closePopup=function(){(0,a.props.hidePopupLearn)()},i=n,r(a,i)}return i(t,E.default),m(t,[{key:"componentDidMount",value:function(){(0,this.props.initData)()}},{key:"exploreMods",value:function(e){this.closePopup(),window.location.href=this.__("url_"+e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.popupLearnShow,a=t.cover,o=t.webglPKG;if(!n||!a)return null;var r=(o||{}).mgType,i="default",s="explore_more";switch(r){case"mg_fps":case"mg_karting":case"mg_platformer":case"mg_lego":i=r,s="custom_your_game"}return y.default.createElement("div",{className:this.ss("popup")},y.default.createElement("div",{className:this.ss("icon","ifont","ifont-material-baseline-clear"),onClick:this.closePopup}),y.default.createElement("div",{className:this.ss("text")},y.default.createElement("h1",{className:this.ss("title")},this.__("popup_title_"+i)),y.default.createElement("div",{className:this.ss("desc")},this.__("popup_desc_"+i))),y.default.createElement("div",{className:this.ss("link"),onClick:function(){return e.exploreMods(i)}},this.__(s)))}}]),t}(),p.propTypes={popupLearnShow:k.default.bool,cover:k.default.bool,webglPKG:k.default.object,initData:k.default.func,hidePopupLearn:k.default.func},d=f))||d)||d)||d);t.default=N},function(e,t){e.exports={popup:"popup_zQGZkTJ-",icon:"icon_4Y3g2H_I",text:"text_2YoldUnc",title:"title_INuMJLmL",desc:"desc_tycWTOPh",link:"link_3BGyTT4m"}},function(e,t){e.exports={popup_title_default:"popup_title_default_3r4Z",popup_desc_default:"popup_desc_default_F2Cn",popup_title_mg_fps:"popup_title_mg_fps_3FYI",popup_title_mg_karting:"popup_title_mg_karting_1gAd",popup_title_mg_platformer:"popup_title_mg_platformer_1fPZ",popup_title_mg_lego:"popup_title_mg_lego_1bzO",popup_desc_mg_fps:"popup_desc_mg_fps_20fO",popup_desc_mg_karting:"popup_desc_mg_karting_2zck",popup_desc_mg_platformer:"popup_desc_mg_platformer_1gAa",popup_desc_mg_lego:"popup_desc_mg_lego_391E",explore_more:"explore_more_2sXH",custom_your_game:"custom_your_game_2EL1",url_default:"url_default_3v_U",url_mg_fps:"url_mg_fps_VDgT",url_mg_karting:"url_mg_karting_2YnW",url_mg_platformer:"url_mg_platformer_2GmR",url_mg_lego:"url_mg_lego_KWIe"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["project.screenshotDialog.show"],["project.screenshotDialog.show"]),_=s(["project.screenshotDialog.showEmoji"],["project.screenshotDialog.showEmoji"]),g=s(["project.screenshotDialog.preText"],["project.screenshotDialog.preText"]),v=s(["project.screenshotDialog.image"],["project.screenshotDialog.image"]),b=s(["project.screenshotDialog.comment"],["project.screenshotDialog.comment"]),y=s(["project.screenshotDialog.emoji"],["project.screenshotDialog.emoji"]),w=s(["project.commentStatus"],["project.commentStatus"]),j=s(["project.setPreText"],["project.setPreText"]),E=s(["project.closeScreenshotDialog"],["project.closeScreenshotDialog"]),k=s(["project.changeScreenshotComment"],["project.changeScreenshotComment"]),C=s(["project.openEmoji"],["project.openEmoji"]),O=s(["project.closeEmoji"],["project.closeEmoji"]),P=s(["project.changeEmoji"],["project.changeEmoji"]),S=s(["project.postScreenshot"],["project.postScreenshot"]),N=a(n(2)),M=a(n(1)),T=a(n(12)),x=n(5),I=n(0),R=a(n(3)),D=a(n(13)),A=n(7),U=a(n(20)),L=a(n(4)),z=a(n(415)),W=a(n(6)),H=a(n(416)),B=(l=(0,x.decorator)({show:(0,I.state)(h),showEmoji:(0,I.state)(_),preText:(0,I.state)(g),image:(0,I.state)(v),comment:(0,I.state)(b),emoji:(0,I.state)(y),updateStatus:(0,I.state)(w),setPreText:(0,I.signal)(j),onClose:(0,I.signal)(E),changeComment:(0,I.signal)(k),openEmoji:(0,I.signal)(C),closeEmoji:(0,I.signal)(O),changeEmoji:(0,I.signal)(P),postScreenshot:(0,I.signal)(S)}),c=(0,L.default)(z.default),u=(0,W.default)(H.default),l(d=c(d=u((f=p=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.clickEmoji=function(e){var t=a.props,n=t.changeEmoji,o=t.closeEmoji;n({value:e}),o()},a.handleKeyPress=function(e){var t=a.props.comment,n=e.keyCode,o=!!(t||"").trim();13===n&&o&&a.props.postScreenshot()},i=n,r(a,i)}return i(t,R.default),m(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPress)}},{key:"componentWillReceiveProps",value:function(e){if(e.show&&!this.props.show){var t=T.default.findDOMNode(this._input);t&&setTimeout(function(){return t.focus()},100)}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyPress)}},{key:"onClickClose",value:function(){var e=this.props,t=e.onClose,n=e.setPreText;t(),n({value:-1})}},{key:"onClickText",value:function(e,t){var n=this.props,a=n.setPreText;(0,n.changeComment)({value:this.__(e)}),a({value:t})}},{key:"renderEmoji",value:function(){var e=this,t=this.props,a=t.emoji,o=t.showEmoji,r=t.openEmoji,i=[],s=new Map([["unhappy",n(110)],["nerd",n(111)],["laugh",n(112)],["love",n(113)],["grinning",n(114)]]);return s.forEach(function(t,n){i.push(M.default.createElement("a",{key:n,className:e.ss("botton-"+n,"emoji-button"),onClick:function(){return e.clickEmoji(n)}},M.default.createElement("img",{className:e.ss("image"),src:t})))}),M.default.createElement("div",{className:this.ss("emojis")},M.default.createElement("div",{className:this.ss("emoji-choose",!o&&"hide")},i),M.default.createElement("div",{className:this.ss("emoji"),onClick:function(){return r()}},M.default.createElement("img",{className:this.ss("image"),src:s.get(a)})))}},{key:"renderInput",value:function(){var e=this,t=this.props,n=t.comment,a=t.updateStatus,o=t.changeComment,r=t.postScreenshot,i=!(n||"").trim();return M.default.createElement("div",{className:this.ss("input-wrapper")},M.default.createElement("div",{className:this.ss("input-inner-wrapper")},this.renderEmoji(),M.default.createElement("input",{ref:function(t){e._input=t},placeholder:this.__("say_something"),value:n,autoFocus:!0,onChange:function(e){return o({value:e.target.value})}}),M.default.createElement(D.default,{theme:"webgl",size:"new-medium",disabled:i,gaTag:"GA_screenshot_comment",className:this.ss("post"),loading:(0,A.isLoading)(a),label:this.__("post"),onClick:function(){return r()}})))}},{key:"renderInputChoose",value:function(){for(var e=this,t=this.props.preText,n=[],a=1;a<4;a++)!function(a){var o="comment_"+a,r="comment_fill_"+a;n.push(M.default.createElement("div",{tabIndex:0,key:o,className:e.ss("bottom-"+a,"choose-button",t===a&&"chosen"),onClick:function(){return e.onClickText(e.__(r),a)}},e.__(o)))}(a);return M.default.createElement("div",{className:this.ss("input-choose-wrapper")},n)}},{key:"renderClose",value:function(){var e=this;return M.default.createElement("div",{className:this.ss("close-wrapper")},M.default.createElement("div",{className:this.ss("icon-close","ifont","ifont-material-baseline-clear"),onClick:function(){return e.onClickClose()}}))}},{key:"render",value:function(){var e=this.props,t=e.show,n=e.image,a=e.onClose;return M.default.createElement("div",{className:this.ss("screeshot-dialog")},M.default.createElement(U.default,{open:t,position:"center",onCloseModal:function(){return a()}},M.default.createElement("div",{className:this.ss("content")},M.default.createElement("img",{src:n}),this.renderInputChoose(),this.renderInput(),this.renderClose())))}}]),t}(),p.propTypes={show:N.default.bool,showEmoji:N.default.bool,preText:N.default.number,image:N.default.string,comment:N.default.string,emoji:N.default.string,updateStatus:N.default.string,setPreText:N.default.func,onClose:N.default.func,changeComment:N.default.func,openEmoji:N.default.func,closeEmoji:N.default.func,changeEmoji:N.default.func,postScreenshot:N.default.func},d=f))||d)||d)||d);t.default=B},function(e,t){e.exports={"screeshot-dialog":"screeshot-dialog_3-4zSU67",content:"content_WBDVxrtf","input-wrapper":"input-wrapper_3jrN9pzC","input-choose-wrapper":"input-choose-wrapper_2QvAkfVY","choose-button":"choose-button_3IH-tliA","bottom-3":"bottom-3_OkllWG0d",chosen:"chosen_m9Vz4iSk","input-inner-wrapper":"input-inner-wrapper_3Zg1_DZQ",emojis:"emojis_117nJ0w5","emoji-choose":"emoji-choose_4hLMjr7t",image:"image_3QYzWt7g",hide:"hide_11r4Ce-H",post:"post_2cQ-ErwG","close-wrapper":"close-wrapper_2Hd_XFbC","icon-close":"icon-close_3AnZs_xQ"}},function(e,t){e.exports={post:"post_XEP_",say_something:"say_something_2F5S",comment_1:"comment_1_Nwdi",comment_fill_1:"comment_fill_1_ghfq",comment_2:"comment_2_EA_C",comment_fill_2:"comment_fill_2_3OXa",comment_3:"comment_3_1mQX",comment_fill_3:"comment_fill_3_1BvH",emoji_confused:"emoji_confused_2FTH",emoji_nerd:"emoji_nerd_2iGQ",emoji_joy_tear:"emoji_joy_tear_WqgV",emoji_heart_eyes:"emoji_heart_eyes_2uwq",emoji_grinning:"emoji_grinning_2OMH"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["project.projectData"],["project.projectData"]),_=s(["project.unlockedAsset.modalIsOpen"],["project.unlockedAsset.modalIsOpen"]),g=s(["project.unlockedAsset.asset.index"],["project.unlockedAsset.asset.index"]),v=s(["project.unlockedAsset.asset.textIndex"],["project.unlockedAsset.asset.textIndex"]),b=s(["project.unlockedAsset.asset.unlocked"],["project.unlockedAsset.asset.unlocked"]),y=s(["project.unlockedAsset.type"],["project.unlockedAsset.type"]),w=s(["project.unlockedAsset.all"],["project.unlockedAsset.all"]),j=s(["project.getUnlockedAssets"],["project.getUnlockedAssets"]),E=s(["project.confirmUnlockedAssets"],["project.confirmUnlockedAssets"]),k=s(["header.sendCDPRequest"],["header.sendCDPRequest"]),C=s(["project.prevSlide"],["project.prevSlide"]),O=s(["project.nextSlide"],["project.nextSlide"]),P=s(["project.closeModal"],["project.closeModal"]),S=a(n(2)),N=a(n(1)),M=n(5),T=n(0),x=a(n(3)),I=a(n(20)),R=a(n(14)),D=n(143),A=n(49),U=a(n(4)),L=a(n(418)),z=a(n(6)),W=a(n(419)),H=(l=(0,M.decorator)({project:(0,T.state)(h),modalIsOpen:(0,T.state)(_),index:(0,T.state)(g),textIndex:(0,T.state)(v),unlocked:(0,T.state)(b),type:(0,T.state)(y),allUnlocked:(0,T.state)(w),getUnlockedAssets:(0,T.signal)(j),confirmUnlockedAssets:(0,T.signal)(E),sendCDPRequest:(0,T.signal)(k),prevSlide:(0,T.signal)(C),nextSlide:(0,T.signal)(O),closeModal:(0,T.signal)(P)}),c=(0,U.default)(L.default),u=(0,z.default)(W.default),l(d=c(d=u((f=p=function(e){function t(){var e,a,i,s;o(this,t);for(var l=arguments.length,c=Array(l),u=0;u<l;u++)c[u]=arguments[u];return a=i=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),i.state={icons:{navigateNext:n(420),navigateBack:n(421),locked:n(422),unlocked:n(423)}},i.onClose=function(e){if(i.props.confirmUnlockedAssets(),!e){var t=i.getCDPData("false");A.amplitudeEvents.assetUnlockNotNowClicked({id:i.props.project.id,title:i.props.project.title,type:i.props.type}),i.props.sendCDPRequest({type:D.CDPConnectTypes.CDPTypeAssetUnlocked,data:t})}i.props.closeModal()},i.onCloseAndShowAsset=function(){i.onClose(!0);var e=i.getCDPData("true");A.amplitudeEvents.assetUnlockGetAssetClicked({id:i.props.project.id,title:i.props.project.title,type:i.props.type}),i.props.sendCDPRequest({type:D.CDPConnectTypes.CDPTypeAssetUnlocked,data:e,redirectUrl:"https://assetstore.unity.com/account/assets",popup:!0})},i.prevSlide=function(){i.props.prevSlide()},i.nextSlide=function(){i.props.nextSlide()},s=a,r(i,s)}return i(t,x.default),m(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.allUnlocked.map(function(t){if(!1!==t.confirmed)return null;var n=null;for(var a in e.getAssets())if(null!==(n=t.assetId===e.getAssets()[a].id?parseInt(a,10)+1:null))break;return n}).filter(function(e){return null!==e}),n=-1!==t.indexOf(1),a=-1!==t.indexOf(2),o=-1!==t.indexOf(3),r=null;n&&o?(r=A.amplitudeEvents.assetUnlockFirstAndThirdKartingDisplayed,"FPS"===this.props.type&&(r=A.amplitudeEvents.assetUnlockFirstAndThirdFpsDisplayed)):n?(r=A.amplitudeEvents.assetUnlockFirstKartingDisplayed,"FPS"===this.props.type&&(r=A.amplitudeEvents.assetUnlockFirstFpsDisplayed)):a?(r=A.amplitudeEvents.assetUnlockSecondKartingDisplayed,"FPS"===this.props.type&&(r=A.amplitudeEvents.assetUnlockSecondFpsDisplayed)):o&&(r=A.amplitudeEvents.assetUnlockThirdKartingDisplayed,"FPS"===this.props.type&&(r=A.amplitudeEvents.assetUnlockThirdFpsDisplayed)),null!==r&&r({id:this.props.project.id,title:this.props.project.title})}},{key:"getCDPData",value:function(e){var t=this.props,n=t.project,a=t.index,o=t.textIndex;return this.getAssets()[a]?{assetNumber:o+1,assetInd:e,packageId:this.getAssets()[a].id,projectId:n.id}:null}},{key:"getAssets",value:function(){switch(this.props.type){case"FPS":return[{id:R.default.ASSET_UNLOCK_FPS_FIRST,img:n(424),text:this.__("asset_unlock_fps_first_text"),unlockedText:this.__("asset_unlock_fps_first_unlocked_text")}];case"Karting":return[{id:R.default.ASSET_UNLOCK_KARTING_FIRST,img:n(425),text:this.__("asset_unlock_fps_first_text"),unlockedText:this.__("asset_unlock_karting_first_unlocked_text")},{id:R.default.ASSET_UNLOCK_KARTING_SECOND,img:n(426),text:this.__("asset_unlock_karting_second_text"),unlockedText:this.__("asset_unlock_karting_second_unlocked_text")},{id:R.default.ASSET_UNLOCK_KARTING_THIRD,img:n(427),text:this.__("asset_unlock_karting_third_text"),unlockedText:this.__("asset_unlock_karting_third_unlocked_text")}];default:return[]}}},{key:"renderSlider",value:function(){var e=this,t=this.props.index;if(null===t)return null;var n=null,a=N.default.createElement("img",{src:this.state.icons.unlocked,alt:"unlocked"});this.props.unlocked||(n=N.default.createElement("div",{className:this.ss("image-blocked")},N.default.createElement("span",null,this.getAssets()[t].text)),a=N.default.createElement("img",{src:this.state.icons.locked,alt:"locked"}));var o=this.getAssets().map(function(n,a){return N.default.createElement("img",{src:n.img,alt:"microgame",key:a,className:a!==t?e.ss("hidden"):null})}),r=t<this.getAssets().length-1?null:"hidden";return N.default.createElement("div",{className:this.ss("image-wrap")},N.default.createElement("div",{className:this.ss("image")},o,n,N.default.createElement("div",{className:this.ss("image-lock")},a)),N.default.createElement("div",{className:this.ss("btn-left "+(0===t?"hidden":"")),onClick:this.prevSlide},N.default.createElement("img",{src:this.state.icons.navigateBack,alt:"prev"})),N.default.createElement("div",{className:this.ss("btn-right "+r),onClick:this.nextSlide},N.default.createElement("img",{src:this.state.icons.navigateNext,alt:"prev"})))}},{key:"render",value:function(){var e=this,t="";return this.getAssets()[this.props.textIndex]&&(t=this.getAssets()[this.props.textIndex].unlockedText),N.default.createElement(I.default,{open:this.props.modalIsOpen,position:"center"},N.default.createElement("div",{className:this.ss("unlocked-assets")},this.renderSlider(),N.default.createElement("div",{className:this.ss("content-wrap rich-text")},N.default.createElement("p",null,t),N.default.createElement("div",{className:this.ss("btn-group")},N.default.createElement("button",{onClick:function(){return e.onCloseAndShowAsset()},className:this.ss("button")},"Get Asset"),N.default.createElement("button",{onClick:function(){return e.onClose(!1)},className:this.ss("button-outlined")},"Not Now")))))}}]),t}(),p.propTypes={project:S.default.object,modalIsOpen:S.default.bool,index:S.default.number,textIndex:S.default.number,unlocked:S.default.bool,type:S.default.string,allUnlocked:S.default.array,getUnlockedAssets:S.default.func,confirmUnlockedAssets:S.default.func,sendCDPRequest:S.default.func,prevSlide:S.default.func,nextSlide:S.default.func,closeModal:S.default.func},d=f))||d)||d)||d);t.default=H},function(e,t){e.exports={"unlocked-assets":"unlocked-assets_33b_CqC8","image-wrap":"image-wrap_3icryTRS",image:"image_1XUdfcKe","image-blocked":"image-blocked_2YUrfLKP","image-lock":"image-lock_3gVzOIoZ","btn-left":"btn-left_1Q6juSgA","btn-right":"btn-right_1f6BaACn","content-wrap":"content-wrap_95s8VUg1","btn-group":"btn-group_1WQdGl56",button:"button_1zQ-DP8O","button-outlined":"button-outlined_2dtXQxZU",hidden:"hidden_1Lj-6Kqj"}},function(e,t){e.exports={asset_unlock_fps_first_text:"asset_unlock_fps_first_text_2dc4",asset_unlock_fps_first_unlocked_text:"asset_unlock_fps_first_unlocked_text__xzm",asset_unlock_karting_first_text:"asset_unlock_karting_first_text_2Rgy",asset_unlock_karting_first_unlocked_text:"asset_unlock_karting_first_unlocked_text_OzuU",asset_unlock_karting_second_text:"asset_unlock_karting_second_text_lSXa",asset_unlock_karting_second_unlocked_text:"asset_unlock_karting_second_unlocked_text_2VZa",asset_unlock_karting_third_text:"asset_unlock_karting_third_text_Fs3L",asset_unlock_karting_third_unlocked_text:"asset_unlock_karting_third_unlocked_text_215_"}},function(e,t,n){e.exports=n.p+"../styles/i/unlocked-assets/ic_navigate_next.0eb7d6df491537f52db6c6a8006733bb.png"},function(e,t,n){e.exports=n.p+"../styles/i/unlocked-assets/ic_navigate_back.c91d85761ad7c38afe9db696222bcae4.png"},function(e,t,n){e.exports=n.p+"../styles/i/unlocked-assets/ic_lock.27837dadba5443e37f825aadbf3921f9.png"},function(e,t,n){e.exports=n.p+"../styles/i/unlocked-assets/ic_lock_open.782beedec260c1d8260904cb0cd83da5.png"},function(e,t,n){e.exports=n.p+"../styles/i/unlocked-assets/FPS_First.e8d308a27391b32a8b341e807250b43c.png"},function(e,t,n){e.exports=n.p+"../styles/i/unlocked-assets/Karting_First.b4e4b0cedc71e08f5e6ff5aed1477a1d.png"},function(e,t,n){e.exports=n.p+"../styles/i/unlocked-assets/Karting_Second.dd7825905aca52a4224673eecff6d816.png"},function(e,t,n){e.exports=n.p+"../styles/i/unlocked-assets/Karting_Third.7334bc97d0b697a12365e4dcdb40a238.png"},function(e,t){e.exports={content:"content_3N5rckCb",cover:"cover_1JeQPIdY",hide:"hide_3ziujyto",background:"background_3yJzdbcK","black-background":"black-background_cOEoSBNn","click-region":"click-region_1EFv8oH8",display:"display_uSUsoBbM","main-content":"main-content_Xk0qr5MY",divider:"divider_1jkU2dB9","expired-content":"expired-content_3EnV4a89","comments-recommends":"comments-recommends_zedTegDc","comment-list":"comment-list_3166drYV","recommend-list":"recommend-list_nzhhKapG",share:"share_2CFISCb9",left:"left_lgxtLLuG","share-title":"share-title_ol4UeA6Q","share-content":"share-content__BQ7PYYs",copy:"copy_Tq-URNAW","share-tips":"share-tips_T6-ZfsXt","icon-mac":"icon-mac_34NDVvk3",main:"main_37iBrY0U","sub-info":"sub-info_1c9953YL","project-content":"project-content_2klpsgCC",right:"right_qRoAd_FU",comment:"comment_epB8vjV2",statistics:"statistics_1JZ418jx",item:"item_GuTavl3t",active:"active_2ENYxU0u",icon:"icon_pywD_fs8",disable:"disable_1x-G1lYT",text:"text_1lKSB2kI",like:"like_36jkOWZl","statistics-mobile":"statistics-mobile_2wLkGi-d","challenge-wrapper":"challenge-wrapper_1LcAoELC",challenge:"challenge_3dxDNSNS","icon-wrapper":"icon-wrapper_12_NJG7O",info:"info_7lVivgxK","event-wrapper":"event-wrapper_yxTGc1xG","event-title":"event-title_2Hp_0WPo",tag:"tag_1LUi77KF",tips:"tips_2oPF20jn","not-now":"not-now_2pthAPhO","button-wrapper":"button-wrapper_3AZYacvD",disabled:"disabled_WmROKGjD"}},function(e,t){e.exports={share_game_link:"share_game_link_2ey8",copy:"copy_MmEt",share_tips:"share_tips_cPbc",likes_hint:"likes_hint_SBwN",comments_hint:"comments_hint_12B-",views_hint:"views_hint_1QlD",play_hint:"play_hint_2SY1",project_expired:"project_expired_1Zrg",tips:"tips_2uU4",tips_success:"tips_success_2n4d",submit_game:"submit_game_1bhj",check_status:"check_status_uhaL",not_now:"not_now_3uDX",share_body:"share_body_3AEn"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["currentPath"],["currentPath"]),_=s(["currentHost"],["currentHost"]),g=s(["project.projectData.contentIds"],["project.projectData.contentIds"]),v=s(["project.contentMap"],["project.contentMap"]),b=s(["project.embed.show"],["project.embed.show"]),y=s(["project.getLink.show"],["project.getLink.show"]),w=s(["header.copyLink"],["header.copyLink"]),j=s(["project.changeScreenshotComment"],["project.changeScreenshotComment"]),E=s(["project.closeGetLink"],["project.closeGetLink"]),k=s(["project.setEmbed"],["project.setEmbed"]),C=a(n(2)),O=a(n(1)),P=n(5),S=n(0),N=a(n(3)),M=a(n(20)),T=a(n(4)),x=a(n(431)),I=a(n(6)),R=a(n(432)),D=(l=(0,P.decorator)({currentPath:(0,S.state)(h),currentHost:(0,S.state)(_),contentIds:(0,S.state)(g),contentMap:(0,S.state)(v),embedShow:(0,S.state)(b),showGetLink:(0,S.state)(y),copyLink:(0,S.signal)(w),changeComment:(0,S.signal)(j),closeGetLink:(0,S.signal)(E),setEmbed:(0,S.signal)(k)}),c=(0,T.default)(x.default),u=(0,I.default)(R.default),l(d=c(d=u((f=p=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={},a.onClose=function(){a.props.closeGetLink&&a.props.closeGetLink(),a.setState({urlCopied:!1})},i=n,r(a,i)}return i(t,N.default),m(t,[{key:"onShareLinkCopy",value:function(e){(0,this.props.copyLink)({content:e})}},{key:"onCopyClick",value:function(e){this.props.onCopyClick&&this.props.onCopyClick(),this.copyUrlLink(e)}},{key:"copyUrlLink",value:function(e){this.setState({urlCopied:!0}),this.onShareLinkCopy(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.currentHost,a=t.currentPath,o=t.showGetLink,r="https://"+n+a;return O.default.createElement(M.default,{open:o,position:"center",onCloseModal:function(){return e.onClose()}},O.default.createElement("div",{className:this.ss("content")},O.default.createElement("button",{className:this.ss("button-close"),onClick:function(){return e.onClose()}},O.default.createElement("div",{className:this.ss("close","ifont","ifont-ic_close")})),O.default.createElement("div",{className:this.ss("share-content","sub-content")},O.default.createElement("div",{className:this.ss("share","title")},this.__("link")),O.default.createElement("div",{className:this.ss("share-link-wrapper")},O.default.createElement("div",{className:this.ss("link")},r),O.default.createElement("a",{className:this.ss("copy",this.state.urlCopied&&"copied"),onClick:function(){return e.onCopyClick(r)}},this.state.urlCopied?this.__("copied"):this.__("copy"))))))}}]),t}(),p.propTypes={currentHost:C.default.string,currentPath:C.default.string,contentMap:C.default.object,contentIds:C.default.array,embedShow:C.default.bool,showGetLink:C.default.bool,copyLink:C.default.func,closeGetLink:C.default.func,setEmbed:C.default.func,onCopyClick:C.default.func},d=f))||d)||d)||d);t.default=D},function(e,t){e.exports={"share-title":"share-title_2hsZ9oOE","share-items":"share-items_3o4ID8nk",item:"item_Lh5YVh2y","item-img":"item-img_2V1J3Bwi",content:"content_3ZxtsHe5","sub-content":"sub-content_21zfuddC","button-close":"button-close_2nilwYu9",close:"close_2V-Qr42x",title:"title_cfAtUqZz","share-link-wrapper":"share-link-wrapper_ov4Qbd8Y",link:"link_2ZL7e4zG",copy:"copy_GzFzcjUe",copied:"copied_RpgV_OmS","embed-link":"embed-link_1cC3Su2y","embed-text":"embed-text_xhC-5ch0"}},function(e,t){e.exports={link:"link_2Kge"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=[function(e){return e&&e.__esModule?e:{default:e}}(n(434)).default];t.default={share:a}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["share.weChatDialog.openId"],["share.weChatDialog.openId"]),o=n(9),r=n(0);t.default={name:e,depends:[],signals:{openWeChatShareDialog:[function(e){var t=e.state,n=e.props;t.set("share.weChatDialog.openId",n.id)}],closeWeChatShareDialog:[(0,o.set)((0,r.state)(a),"")]},getState:function(){return{weChatDialog:{openId:""}}}}}).call(t,"views/v2/modules/share/WeChatStore.js")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=[function(e){return e&&e.__esModule?e:{default:e}}(n(436)).default];t.default={connection:a}},function(e,t,n){"use strict";(function(e){function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){return function(t){var n=t.state,a=t.props;n.set("connection.relationshipStatus."+a.userId,e)}}Object.defineProperty(t,"__esModule",{value:!0});var s=o(["connection.requestDialogUser"],["connection.requestDialogUser"]),l=o(["user"],["user"]),c=o(["connection.callback"],["connection.callback"]),u=o(["callback"],["callback"]),d=n(9),p=n(21),f=n(0),m=a(n(19)),h=a(n(7)),_=["connection","relationshipRequestForm"];t.default={name:e,depends:[],signals:{openRequestDialog:[(0,d.set)((0,f.state)(s),(0,f.props)(l)),(0,d.set)((0,f.state)(c),(0,f.props)(u)),function(e){e.controller.getSignal("connection.openRelationshipRequestDialog")()}],requestRelationship:[i(h.default.inProgress),[function(e){var t=e.props,n=e.http,a=e.path,o=e.state,r=t.userId,i=t.defaultGreeting,s=o.get(_);return(0,p.isValidForm)(s)?n.post("/api/relationships/"+r+"/request",{content:s.message.value||i}).then(a.success).catch(a.error):a.dummy()},{success:[function(e){var t=e.state,a=e.props,o=e.controller,r=a.userId,i=a.result,s=t.get("connection.callback");if(s){var l=o.getSignal(s);l&&l({userId:r,result:i})}else o.getSignal("connection.syncRelationshipResult")(a);if(o.getSignal("connection.closeRelationshipRequestDialog")(),a.needRedirect){var c=n(39);c.set("connections.op","sent"),c.set("connections.sent",r),(0,m.default)("/connections/all?tab=sent")}},i(h.default.succeeded)],error:[i(h.default.failed)],dummy:[i(h.default.failed)]}]],acceptRelationship:[i(h.default.inProgress),[function(e){var t=e.props,n=e.http,a=e.path,o=t.userId;return n.post("/api/relationships/"+o+"/accept",{content:""}).then(a.success).catch(a.error)},{success:[function(e){var t=e.props;if(e.controller.getSignal("connection.syncRelationshipResult")(t),t.needRedirect){var a=t.userId,o=n(39);o.set("connections.op","connections"),o.set("connections.connections",a),(0,m.default)("/connections/all?tab=connections")}},i(h.default.succeeded)],error:[i(h.default.failed)]}]],syncRelationshipResult:[function(e){var t=e.props,n=e.state,a=e.controller,o=t.result;if(200===t.status&&o&&(n.set("connection.relationship",o),o.channelId&&n.get("currentPath").startsWith("/messages"))){var r=a.getSignal("messages.channelSelect"),i=n.get("messages.channels")||{},s=Object.values(i).find(function(e){return e.id===o.channelId});r&&s&&r({channelId:s.id,workspaceId:s.workspaceId})}}],openRelationshipRequestDialog:[function(e){e.state.set("connection.relationshipRequestDialogOpen",!0)}],closeRelationshipRequestDialog:[function(e){e.state.set("connection.relationshipRequestDialogOpen",!1)}],changeRelationshipRequestMessage:function(e,t){return[function(n){var a=n.props;return{field:[].concat(r(e),[t]),value:a.value,touched:!0}}].concat(r(p.chains.fieldChanged))}(_,"message")},getState:function(e){return{relationship:e.relationship,relationshipRequestDialogOpen:!1,relationshipRequestForm:(0,p.Form)({message:{value:"",validations:["maxLength:300"],errorMessages:["error_maxLength"],isRequired:!1}}),requestDialogUser:{},relationshipStatus:{}}}}}).call(t,"views/v2/modules/connection/RelationshipStore.js")},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){function a(e){return n(o(e))}function o(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var r={"./amazon.png":188,"./facebook.png":189,"./gear_vr.png":190,"./gog.png":191,"./google_play.png":192,"./humble.png":193,"./indie_game.png":194,"./itch.png":195,"./itune.png":196,"./kongregate.png":197,"./nintendo.png":198,"./oculus.png":199,"./playstation.png":200,"./steam.png":201,"./tizen.png":202,"./windows.png":203,"./winphone.png":204,"./xbox.png":205};a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=474},,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),p=a(n(2)),f=a(n(1)),m=a(n(12)),h=a(n(3)),_=a(n(899)),g=a(n(904)),v=a(n(923)),b=a(n(926)),y=a(n(260)),w=a(n(929)),j=a(n(932)),E=a(n(4)),k=a(n(948)),C=(s=(0,E.default)(k.default))((u=c=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={},a.renderShowCase=function(){return f.default.createElement("div",{className:a.ss("wrapper",a.props.type,a.props.theme)},f.default.createElement(b.default,{theme:a.props.theme,onComment:function(){return a.scrollToComments()},onUpdate:a.props.onUpdate}),f.default.createElement(y.default,{ref:function(e){a.share=e}}),f.default.createElement(w.default,null),f.default.createElement(j.default,{ref:function(e){a.comments=e},scrollToComments:function(){return a.scrollToComments()}}))},a.renderArticle=function(){return f.default.createElement("div",{className:a.ss("wrapper",a.props.type,a.props.theme)},f.default.createElement(_.default,{withBg:!0}),f.default.createElement(v.default,{theme:a.props.theme,onComment:function(){return a.scrollToComments()},onUpdate:a.props.onUpdate,socialButtonsPosition:a.props.socialButtonsPosition,socialButtonsDeltaTop:a.props.socialButtonsDeltaTop}),f.default.createElement(y.default,{ref:function(e){a.share=e}}),f.default.createElement(w.default,null),f.default.createElement(j.default,{ref:function(e){a.comments=e},scrollToComments:function(){return a.scrollToComments()}}))},a.renderGame=function(){return f.default.createElement("div",{className:a.ss("wrapper",a.props.type,a.props.theme)},f.default.createElement(_.default,null),f.default.createElement(g.default,{theme:a.props.theme,onComment:function(){return a.scrollToComments()},onUpdate:a.props.onUpdate,socialButtonsPosition:a.props.socialButtonsPosition,socialButtonsDeltaTop:a.props.socialButtonsDeltaTop}),f.default.createElement(y.default,{ref:function(e){a.share=e}}),f.default.createElement(w.default,null),f.default.createElement(j.default,{ref:function(e){a.comments=e},scrollToComments:function(){return a.scrollToComments()}}))},i=n,r(a,i)}return i(t,h.default),d(t,[{key:"getMaxSocialScrollTop",value:function(){return m.default.findDOMNode(this.share).offsetTop-250}},{key:"scrollTo",value:function(e){this.props.scrollTo&&this.props.scrollTo(e)}},{key:"scrollToComments",value:function(){var e=m.default.findDOMNode(this.comments).offsetTop;this.scrollTo(e)}},{key:"render",value:function(){var e=null;switch(this.props.type){case"game":e=this.renderGame();break;case"article":e=this.renderArticle();break;case"showcase":e=this.renderShowCase()}return e||this.renderArticle()}}]),t}(),c.propTypes={type:p.default.string,theme:p.default.oneOf(["normal","popup"]),socialButtonsPosition:p.default.string,socialButtonsDeltaTop:p.default.number,scrollTo:p.default.func,onUpdate:p.default.func},c.defaultProps={theme:"normal"},l=u))||l;t.default=C},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["project.invitedId"],["project.invitedId"]),_=s(["project.projectData"],["project.projectData"]),g=s(["project.userMap"],["project.userMap"]),v=s(["project.teamMap"],["project.teamMap"]),b=s(["project.contributorStatus.accept"],["project.contributorStatus.accept"]),y=s(["project.contributorStatus.decline"],["project.contributorStatus.decline"]),w=s(["project.accept"],["project.accept"]),j=s(["project.decline"],["project.decline"]),E=a(n(2)),k=a(n(1)),C=n(5),O=n(0),P=a(n(3)),S=a(n(16)),N=n(7),M=a(n(4)),T=a(n(900)),x=a(n(6)),I=a(n(901)),R=(l=(0,C.decorator)({invitedId:(0,O.state)(h),projectData:(0,O.state)(_),userMap:(0,O.state)(g),teamMap:(0,O.state)(v),acceptStatus:(0,O.state)(b),declineStatus:(0,O.state)(y),accept:(0,O.signal)(w),decline:(0,O.signal)(j)}),c=(0,M.default)(T.default),u=(0,x.default)(I.default),l(d=c(d=u((f=p=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,P.default),m(t,[{key:"renderLabel",value:function(e){return k.default.createElement("div",{className:this.ss("label")},e)}},{key:"renderButtons",value:function(){var e=this.props,t=e.invitedId,n=e.acceptStatus,a=e.declineStatus,o=e.accept,r=e.decline,i=e.projectData.id,s=(0,N.isLoadingOrSucceeded)(n),l=(0,N.isLoadingOrSucceeded)(a),c={id:t,projectId:i},u=k.default.createElement("div",{className:this.ss("loading")});return k.default.createElement("div",{className:this.ss("buttons")},k.default.createElement("button",{className:this.ss("accept"),onClick:function(){return o(c)}},s?u:this.renderLabel(this.__("accept"))),k.default.createElement("button",{className:this.ss("decline"),onClick:function(){return r(c)}},l?u:this.renderLabel(this.__("decline"))))}},{key:"render",value:function(){var e=this.props,t=e.invitedId,n=e.projectData,a=e.userMap,o=e.teamMap;if(!t)return null;var r=n||{},i=r.userId,s=r.teamId,l="team"===r.ownerType,c=l?o[s]:a[i],u=c.fullName||c.name,d=l?"/t/"+c.id:"/u/"+c.id;return k.default.createElement("div",{className:this.ss("invited-wrapper")},k.default.createElement("a",{className:this.ss("avatar"),href:d},k.default.createElement(S.default,{user:c,size:"small",shape:l?"square":"circle"})),k.default.createElement("div",{className:this.ss("detail")},this.__("invite",{name:u,link:d})),this.renderButtons())}}]),t}(),p.propTypes={invitedId:E.default.string,projectData:E.default.object,userMap:E.default.object,teamMap:E.default.object,acceptStatus:E.default.string,declineStatus:E.default.string,accept:E.default.func,decline:E.default.func},d=f))||d)||d)||d);t.default=R},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["project.projectData"],["project.projectData"]),_=s(["project.like"],["project.like"]),g=s(["loginUser"],["loginUser"]),v=s(["project.toggleLike"],["project.toggleLike"]),b=a(n(2)),y=a(n(1)),w=a(n(3)),j=n(11),E=n(5),k=n(0),C=a(n(260)),O=a(n(4)),P=a(n(910)),S=a(n(6)),N=a(n(911)),M=(l=(0,E.decorator)({projectData:(0,k.state)(h),like:(0,k.state)(_),loginUser:(0,k.state)(g),toggleLike:(0,k.signal)(v)}),c=(0,O.default)(P.default),u=(0,S.default)(N.default),l(d=c(d=u((f=p=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={},i=n,r(a,i)}return i(t,w.default),m(t,[{key:"onLike",value:function(e){(0,j.pauseEvent)(e);var t=this.props,n=t.loginUser,a=t.projectData,o=t.toggleLike,r=(n||{}).id,i=a||{},s=i.userId;i.publishedTime&&r!==s&&o()}},{key:"onComment",value:function(e){(0,j.pauseEvent)(e),this.props.onComment&&this.props.onComment()}},{key:"render",value:function(){var e=this,t=this.state.show,n=this.props,a=n.projectData,o=n.like,r=a||{},i=r.likeCount,s=r.commentCount,l=r.published;return y.default.createElement("div",{className:this.ss("buttons")},y.default.createElement("button",{className:this.ss("item"),onClick:function(t){return!o&&e.onLike(t)}},y.default.createElement("div",{className:this.ss("inner")},y.default.createElement("div",{className:this.ss("icon-like",o&&"active","ifont","ifont-icons-like")}),(0,j.formatNumber)(i))),y.default.createElement("button",{className:this.ss("item"),onClick:function(t){return e.onComment(t)}},y.default.createElement("div",{className:this.ss("inner")},y.default.createElement("div",{className:this.ss("icon-comment","ifont","ifont-icons-comment")}),(0,j.formatNumber)(s))),y.default.createElement("div",{className:this.ss("item-wrapper")},y.default.createElement("button",{className:this.ss("item"),onClick:function(){return l&&e.setState({show:!t})}},y.default.createElement("div",{className:this.ss("inner")},y.default.createElement("div",{className:this.ss("icon-share","ifont","ifont-icons-share")}),this.__("share"))),y.default.createElement("div",{className:this.ss("share-wrapper",!t&&"hide")},y.default.createElement(C.default,{theme:"float",onClose:function(){return e.setState({show:!1})}}))))}}]),t}(),p.propTypes={projectData:b.default.object,like:b.default.bool,loginUser:b.default.object,toggleLike:b.default.func,onComment:b.default.func},d=f))||d)||d)||d);t.default=M},,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),m=a(n(2)),h=a(n(1)),_=a(n(3)),g=a(n(4)),v=a(n(934)),b=(l=(0,g.default)(v.default))((d=u=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,_.default),f(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.type,a=o(e,["className","type"]);return h.default.createElement("span",p({className:this.ss("spinner",t)},a),h.default.createElement("span",{className:this.ss("spinner-inner spinner-"+n)},h.default.createElement("span",{className:this.ss("spinner-item")}),h.default.createElement("span",{className:this.ss("spinner-item")})))}}]),t}(),u.propTypes={className:m.default.string,type:m.default.oneOf(["simple","wandering-cubes","chasing-dots"])},u.defaultProps={type:"simple"},c=d))||c;t.default=b},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u,d,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=a(n(1)),m=a(n(2)),h=a(n(3)),_=a(n(4)),g=a(n(949)),v=a(n(6)),b=a(n(950)),y=(s=(0,_.default)(g.default),l=(0,v.default)(b.default),s(c=l((d=u=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,h.default),p(t,[{key:"scrollTop",value:function(){this.props.scrollTo&&this.props.scrollTo(0)}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,a=t.show;return f.default.createElement("button",{className:this.ss("return",!a&&"hide",n),onClick:function(){return e.scrollTop()}},f.default.createElement("div",{className:this.ss("inner")},f.default.createElement("div",{className:this.ss("icon-top","ifont","ifont-icons-jump-to-top-bold")}),this.__("top")))}}]),t}(),u.propTypes={show:m.default.bool,theme:m.default.oneOf(["normal","popup"]),scrollTo:m.default.func},u.defaultProps={type:"normal"},c=d))||c)||c);t.default=y},,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),m=s(["",".contentMap"],["",".contentMap"]),h=s(["signalPath"],["signalPath"]),_=a(n(2)),g=a(n(1)),v=a(n(3)),b=n(5),y=n(0),w=a(n(4)),j=a(n(961)),E=n(962),k=(l=(0,b.decorator)({contentMap:(0,y.state)(m,(0,y.props)(h))}),c=(0,w.default)(j.default),l(u=c((p=d=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,v.default),f(t,[{key:"render",value:function(){var e=this.props.size;return g.default.createElement("div",{className:this.ss("image")},g.default.createElement("img",{src:E,className:this.ss("image-wrapper",e)}))}}]),t}(),d.propTypes={size:_.default.oneOf(["small","normal"])},d.defaultProps={size:"normal"},u=p))||u)||u);t.default=k},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),m=s(["draft.editorStates.",""],["draft.editorStates.",""]),h=s(["editorKey"],["editorKey"]),_=s(["draft.editorEditable.",""],["draft.editorEditable.",""]),g=s(["draft.setEditorState"],["draft.setEditorState"]),v=s(["draft.setEditorEditable"],["draft.setEditorEditable"]),b=a(n(2)),y=a(n(1)),w=a(n(12)),j=a(n(3)),E=n(5),k=n(0),C=a(n(966)),O=a(n(48)),P=n(7),S=n(10),N=a(n(4)),M=a(n(967)),T={TEXTERROR:{color:"#EE4A3D"}},x=(l=(0,E.decorator)({editorState:(0,k.state)(m,(0,k.props)(h)),editable:(0,k.state)(_,(0,k.props)(h)),setEditorState:(0,k.signal)(g),setEditorEditable:(0,k.signal)(v)}),c=(0,N.default)(M.default),l(u=c((p=d=function(e){function t(e,n){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.focus=function(e){var t=a.props,n=t.editorKey,o=t.editorState,r=t.setEditorState,i=t.setEditorEditable,s=t.editable,l=t.onFocus;w.default.findDOMNode(a)===e.target&&(s||i({editorKey:n}),r({editorKey:n,editorState:(0,S.moveToLastBlock)(o)})),l&&l(e)},a.initialPlugins(e),a}return i(t,j.default),f(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.submitStatus,n=e.editorKey,a=e.editorState,o=e.setEditorState,r=e.renderOnly;if(n===this.props.editorKey){if(!r&&a.getCurrentContent().getPlainText()&&(0,P.isSucceeded)(t)){var i=(0,S.removeAllBlocks)(a);i&&o({editorKey:n,editorState:i})}}else this.initialPlugins(e)}},{key:"initialPlugins",value:function(e){var t={editorKey:e.editorKey,renderOnly:e.renderOnly,registerActionPath:e.onChangeSignalPath,textMaxLength:e.textMaxLength,textErrorStyle:"TEXTERROR"};this.postNormalizePlugin=(0,C.default)(t),this.mentionToolbarPlugin=(0,O.default)(t),this.draftPlugins=[this.postNormalizePlugin,this.mentionToolbarPlugin]}},{key:"render",value:function(){var e=this.props,t=e.editorKey,n=e.placeholder,a=e.defaultEditorState,o=e.renderOnly,r=e.theme,i=e.shouldClick,s=this.mentionToolbarPlugin;return y.default.createElement("div",{className:this.ss("editor-wrap",r,o&&"renderOnly",i&&"pointer"),onClick:o?void 0:this.focus},y.default.createElement(S.Editor,{editorKey:t,placeholder:n,defaultEditorState:a,renderOnly:o,customStyleMap:T,plugins:this.draftPlugins}),y.default.createElement(s.MentionToolbar,null))}}]),t}(),d.propTypes={editorKey:b.default.string.isRequired,placeholder:b.default.string,defaultEditorState:b.default.object,renderOnly:b.default.bool,editorState:b.default.object,editable:b.default.bool,theme:b.default.oneOf(["post","repost","postHint","postEdit"]),onChangeSignalPath:b.default.string,submitStatus:b.default.string,textMaxLength:b.default.number,shouldClick:b.default.bool,setEditorState:b.default.func,setEditorEditable:b.default.func,onFocus:b.default.func},d.defaultProps={renderOnly:!1},u=p))||u)||u);t.default=x},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u,d,p,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),m=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["report.open"],["report.open"]),h=a(n(2)),_=a(n(1)),g=a(n(3)),v=n(5),b=n(0),y=a(n(96)),w=a(n(4)),j=a(n(984)),E=a(n(6)),k=a(n(985)),C=(s=(0,v.decorator)({reportOpen:(0,b.signal)(m)}),l=(0,w.default)(j.default),c=(0,E.default)(k.default),s(u=l(u=c((p=d=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={isDropDownButtonShow:!1},a.onDropDownButtonSwitch=function(e){e!==a.state.isDropDownButtonShow&&a.setState({isDropDownButtonShow:e})},a.onReport=function(e){a.props.reportOpen(e),a.setState({isDropDownButtonShow:!1})},i=n,r(a,i)}return i(t,g.default),f(t,[{key:"render",value:function(){var e=this.props,t=e.itemId,n=e.isUser,a=this.state.isDropDownButtonShow,o=[{icon:"ifont-material-outline-report",text:n?this.__("report_user"):this.__("report_company"),value:{itemType:n?"user":"team",itemId:t},iconClassName:this.ss("dropdown-item-icon")}];return _.default.createElement(y.default,{buttonElement:_.default.createElement("div",{className:this.ss("icon-menu",a&&"selected","ifont","ifont-material-outline-more_horiz")}),buttonItems:o,position:"right",onSwitch:this.onDropDownButtonSwitch,onClick:this.onReport})}}]),t}(),d.propTypes={itemId:h.default.string,isUser:h.default.bool,reportOpen:h.default.func},u=p))||u)||u)||u);t.default=C},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,u,d,p,f,m,h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),g=l(["currentUserId"],["currentUserId"]),v=l(["post.openPostPopup"],["post.openPostPopup"]),b=a(n(2)),y=a(n(1)),w=a(n(3)),j=n(5),E=n(0),k=a(n(16)),C=a(n(34)),O=a(n(40)),P=a(n(24)),S=a(n(4)),N=a(n(993)),M=a(n(6)),T=a(n(140)),x=(c=(0,j.decorator)({currentUserId:(0,E.state)(g),openPostPopup:(0,E.signal)(v)}),u=(0,S.default)(N.default),d=(0,M.default)(T.default),c(p=u(p=d((m=f=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,w.default),_(t,[{key:"getParsedContent",value:function(e,t){return O.default.parse(e,!0,{mentioned:t,mentionType:"post"})}},{key:"renderParent",value:function(e,t){var n=this.props.currentUserId;if(e){var a=t[e],o=a.author,r=o.fullname,i=o.id,s=a.mentionEveryone,l=a.mentions,c=a.content,u=s||l.some(function(e){return e.id===n}),d=this.getParsedContent(c,u);return y.default.createElement("div",{className:this.ss("parent-message")},this.__("text_reply"),y.default.createElement("a",{className:this.ss("parent-message-author"),href:"/u/"+i},this.__("reply_at",{name:r})),this.__("colon"),d)}return null}},{key:"renderCommentFoot",value:function(){var e=this,t=[{type:"like",icon:"ifont-material-outline-thumb_up",count:0,hint:this.__("hint_like")},{type:"reply",icon:"ifont-material-outline-reply",count:0,hint:this.__("hint_reply")}].map(function(t){var n=t.type,a=t.icon,o=t.count,r=t.hint;return o>0?y.default.createElement(P.default,{key:"foot-item-"+n,text:r,position:"top"},y.default.createElement("div",{className:e.ss("foot-item",n)},y.default.createElement("div",{className:e.ss("icon","ifont",a)}),y.default.createElement("div",{className:e.ss("text-icon")},o))):y.default.createElement("div",{key:"foot-item-"+n,className:e.ss("foot-item",n)},y.default.createElement("div",{className:e.ss("icon","ifont",a)}),y.default.createElement("div",{className:e.ss("text-icon")},r))});return y.default.createElement("div",{className:this.ss("comment-foot")},t)}},{key:"renderCommentsItem",value:function(e,t){var n=this.props.currentUserId,a=e.id,o=e.content,r=e.author,i=e.mentionEveryone,s=e.mentions,l=e.parentMessageId,c=r.id,u=r.fullname,d=r.title,p=a?C.default.extractTimestamp(a):Date.now(),f="/u/"+c,m=i||s.some(function(e){return e.id===n}),h=this.getParsedContent(o,m);return y.default.createElement("div",{key:a||Date.now(),className:this.ss("comment-wrap")},y.default.createElement("a",{className:this.ss("avatar-wrap"),href:f},y.default.createElement(k.default,{user:r,size:"xxsmall"})),y.default.createElement("div",{className:this.ss("info-wrap")},y.default.createElement("div",{className:this.ss("top-wrapper")},y.default.createElement("div",{className:this.ss("user-left")},y.default.createElement("a",{className:this.ss("name"),href:f},u),y.default.createElement("div",{className:this.ss("user-title")},d)),y.default.createElement("div",{className:this.ss("time")},this.__("comment_created_at",{time:p}))),y.default.createElement("div",{className:this.ss("comment-content")},this.renderParent(l,t),y.default.createElement("div",{className:this.ss("comment",!a&&"loading")},h))))}},{key:"renderCommentList",value:function(){var e=this,t=this.props,n=t.postId,a=t.postCommentMap[n]||{},r=a.items,i=void 0===r?[]:r,s=a.parents,l=void 0===s?[]:s,c=(i||[]).slice(0,4),u=l.reduce(function(e,t){return h({},e,o({},t.id,t))},{});return c.map(function(t){return e.renderCommentsItem(t,u)})}},{key:"render",value:function(){var e=this.props,t=e.postId,n=e.postCommentMap,a=e.openPostPopup;if(!n||!n[t])return null;var o=(n[t]||{}).items,r=void 0===o?[]:o;return 0===r.length?null:y.default.createElement("div",{className:this.ss("comments")},y.default.createElement("div",{className:this.ss("top")},this.renderCommentList()),r.length>4&&y.default.createElement("div",{className:this.ss("bottom")},y.default.createElement("div",{className:this.ss("btn-more"),onClick:function(){return a({postId:t})}},this.__("btn_comment_view_more"),y.default.createElement("div",{className:this.ss("icon-more","ifont","ifont-material-baseline-keyboard_arrow_right")}))))}}]),t}(),f.propTypes={postId:b.default.string,currentUserId:b.default.string,postCommentMap:b.default.object,openPostPopup:b.default.func},p=m))||p)||p)||p);t.default=x},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,u,d,p,f,m,h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),g=l(["post.userMap"],["post.userMap"]),v=l(["post.teamMap"],["post.teamMap"]),b=l(["post.jobRoleMap"],["post.jobRoleMap"]),y=l(["loginUser"],["loginUser"]),w=l(["post.comments"],["post.comments"]),j=l(["post.hottestComments"],["post.hottestComments"]),E=l(["post.replyShow"],["post.replyShow"]),k=l(["post.textAreaAutocomplete"],["post.textAreaAutocomplete"]),C=l(["post.channelId"],["post.channelId"]),O=l(["post.inputValues"],["post.inputValues"]),P=l(["post.loadMoreStatus"],["post.loadMoreStatus"]),S=l(["post.canPublish"],["post.canPublish"]),N=l(["post.isChannelReadonly"],["post.isChannelReadonly"]),M=l(["post.isAdmin"],["post.isAdmin"]),T=l(["post.toggleReaction"],["post.toggleReaction"]),x=l(["post.updateReplyShow"],["post.updateReplyShow"]),I=l(["post.textAreaAutocompleteUnset"],["post.textAreaAutocompleteUnset"]),R=l(["post.textAreaAutocompleteSelectNext"],["post.textAreaAutocompleteSelectNext"]),D=l(["post.textAreaAutocompleteSelectPrev"],["post.textAreaAutocompleteSelectPrev"]),A=l(["post.maybeShowAutocomplete"],["post.maybeShowAutocomplete"]),U=l(["post.createComment"],["post.createComment"]),L=l(["post.changeReply"],["post.changeReply"]),z=l(["post.changeInputValue"],["post.changeInputValue"]),W=l(["post.loadMore"],["post.loadMore"]),H=l(["post.toggleChannelReadonly"],["post.toggleChannelReadonly"]),B=l(["post.deleteComment"],["post.deleteComment"]),q=l(["report.open"],["report.open"]),F=a(n(2)),K=a(n(1)),G=n(5),V=n(0),J=a(n(3)),Y=n(11),Q=a(n(16)),X=a(n(13)),Z=a(n(97)),$=a(n(34)),ee=a(n(40)),te=a(n(98)),ne=a(n(995)),ae=a(n(12)),oe=a(n(99)),re=a(n(131)),ie=a(n(24)),se=a(n(4)),le=a(n(998)),ce=a(n(6)),ue=a(n(999)),de={mention:ne.default},pe=(c=(0,G.decorator)({userMap:(0,V.state)(g),teamMap:(0,V.state)(v),jobRoleMap:(0,V.state)(b),loginUser:(0,V.state)(y),comments:(0,V.state)(w),hottestComments:(0,V.state)(j),replyShow:(0,V.state)(E),textAreaAutocomplete:(0,V.state)(k),channelId:(0,V.state)(C),inputValues:(0,V.state)(O),loadMoreStatus:(0,V.state)(P),canPublish:(0,V.state)(S),isChannelReadonly:(0,V.state)(N),isAdmin:(0,V.state)(M),toggleReaction:(0,V.signal)(T),updateReplyShow:(0,V.signal)(x),textAreaAutocompleteUnset:(0,V.signal)(I),textAreaAutocompleteSelectNext:(0,V.signal)(R),textAreaAutocompleteSelectPrev:(0,V.signal)(D),maybeShowAutocomplete:(0,V.signal)(A),createComment:(0,V.signal)(U),changeReply:(0,V.signal)(L),changeInputValue:(0,V.signal)(z),loadMore:(0,V.signal)(W),toggleChannelReadonly:(0,V.signal)(H),deleteComment:(0,V.signal)(B),reportOpen:(0,V.signal)(q)}),u=(0,se.default)(le.default),d=(0,ce.default)(ue.default),c(p=u(p=d((m=f=function(e){function t(){var e,n,a,o;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={textAreaFocused:{}},o=n,i(a,o)}return s(t,J.default),_(t,[{key:"onChangeTextAreaFocused",value:function(e,t,n){var a=this.state.textAreaFocused,r=h({},a,o({},e,t));this.setState({textAreaFocused:r});var i="new_comment"===e?"":e;this.props.changeReply({id:i,parentMessageId:n})}},{key:"onChange",value:function(e,t){e&&(0,Y.pauseEvent)(e),this.props.changeInputValue({id:t,value:e.target.value})}},{key:"getTextAreaValue",value:function(e){var t=this.props.inputValues;return t[e]&&t[e].trim()}},{key:"getParsedContent",value:function(e,t){return ee.default.parse(e,!0,{mentioned:t,mentionType:"post"})}},{key:"performAutocomplete",value:function(e,t){var n=e.selectedIndex,a=this.props,o=a.textAreaAutocomplete,r=a.changeInputValue;if(o){var i=o.type,s=o.results,l=o.selectedIndex,c=o.selectionStart,u=o.selectionEnd;void 0===n&&(n=l);var d=s[n],p=d.isDup?d.fullnameWithTitle:d.fullname;if("mention"===i&&(d="@"+(p||d.content)),d){var f=ae.default.findDOMNode(this.refs["textarea_"+t]),m=f.value.slice(0,c),h=m+(d+=" ")+f.value.slice(u);f.value=h,f.selectionEnd=m.length+d.length+1,r({id:t,value:h}),this.maybeShowAutocomplete(t)}}}},{key:"maybeShowAutocomplete",value:function(e){var t=ae.default.findDOMNode(this.refs["textarea_"+e]),n=t.value,a=t.selectionStart,o=t.selectionEnd,r=this.props.maybeShowAutocomplete;r({value:n,selectionStart:a,selectionEnd:o})}},{key:"handleCreateComment",value:function(e,t){var n=this.getTextAreaValue(e),a=this.props,o=a.channelId,r=a.createComment;return!(!n||!n.length)&&(r({content:n,channelId:o,id:e,parentMessageId:t}),"new_comment"!==e&&(this.props.updateReplyShow({id:e,show:!1}),this.props.scrollToComments()),!0)}},{key:"handleTextAreaBlur",value:function(e,t,n){e&&(0,Y.pauseEvent)(e),this.onChangeTextAreaFocused(t,!1,n)}},{key:"handleTextAreaKeyUp",value:function(e,t){if(27===e.which){var n=this.props,a=n.textAreaAutocomplete,o=n.textAreaAutocompleteUnset;a&&o(t)}else this.maybeShowAutocomplete(t)}},{key:"handleTextAreaKeyDown",value:function(e,t){var n=this.props,a=n.textAreaAutocomplete,o=n.textAreaAutocompleteSelectPrev,r=n.textAreaAutocompleteSelectNext;if(37!==e.which&&39!==e.which||e.stopPropagation(),a){var i=a.loading,s=a.results;if(!i&&s&&s.length)switch(e.which){case 40:(0,Y.pauseEvent)(e),r();break;case 38:(0,Y.pauseEvent)(e),o();break;case 9:case 13:(0,Y.pauseEvent)(e);var l=this.props.textAreaAutocomplete.selectedIndex;this.performAutocomplete({selectedIndex:l},t)}}}},{key:"handleKeyPress",value:function(e,t,n){13!==e.which||e.shiftKey||((0,Y.pauseEvent)(e),this.handleCreateComment(t,n))}},{key:"handleTextAreaFocus",value:function(e,t,n){this.onChangeTextAreaFocused(t,!0,n)}},{key:"renderParent",value:function(e,t,n,a){var o=(this.props.loginUser||{}).id;if(n){var r=a[n]||{},i=r.author,s=i.fullname,l=i.id,c=r.mentionEveryone,u=r.mentions,d=r.content,p=c||u.some(function(e){return e.id===o}),f=this.getParsedContent(d,p);return K.default.createElement("div",{className:this.ss("parent-message")},K.default.createElement("a",{className:this.ss("parent-message-author"),href:"/u/"+l},s),f)}if(e){var m=t[e]||{},h=m.author,_=h.fullname,g=h.id,v=m.mentionEveryone,b=m.mentions,y=m.content,w=v||b.some(function(e){return e.id===o}),j=this.getParsedContent(y,w);return K.default.createElement("div",{className:this.ss("parent-message")},K.default.createElement("a",{className:this.ss("parent-message-author"),href:"/u/"+g},_),j)}return null}},{key:"renderReply",value:function(e,t){var n=this,a=this.props,o=a.replyShow,r=a.updateReplyShow,i=a.textAreaAutocomplete,s=a.inputValues;if(!o[e])return null;var l=void 0,c=this.state.textAreaFocused[e]&&i&&de[i.type];c&&(l=K.default.createElement(c,{onSelect:function(t){return n.performAutocomplete(t,e)}}));var u=s[e];return K.default.createElement("div",{className:this.ss("reply-wrapper")},K.default.createElement("div",{className:this.ss("input-wrapper")},K.default.createElement(Z.default,{ref:"textarea_"+e,placeholder:this.__("reply_hint"),value:u,autoFocus:!0,onFocus:function(a){return n.handleTextAreaFocus(a,e,t)},onBlur:function(a){return n.handleTextAreaBlur(a,e,t)},onKeyUp:function(t){return n.handleTextAreaKeyUp(t,e)},onKeyDown:function(t){return n.handleTextAreaKeyDown(t,e)},onKeyPress:function(a){return n.handleKeyPress(a,e,t)},onClick:function(){return n.maybeShowAutocomplete(e)},onChange:function(t){return n.onChange(t,e)}}),l),K.default.createElement("div",{className:this.ss("reply-buttons")},K.default.createElement(X.default,{className:this.ss("button","cancel"),theme:"default",label:this.__("cancel"),onClick:function(){return r({id:e,show:!1})}}),K.default.createElement(X.default,{className:this.ss("button","reply"),theme:"blue",label:this.__("reply"),disabled:!u,onClick:function(){return n.handleCreateComment(e,t)}})))}},{key:"renderOps",value:function(e,t){var n=this.props,a=n.canPublish,o=n.isAdmin,r=n.deleteComment,i=n.reportOpen,s=[];if(a||o||t){var l=!a&&o;s.push(K.default.createElement("button",{key:"delete",className:this.ss("delete"),onClick:function(){return r({id:e,deleteAsAdmin:l})}},this.__("delete")))}return K.default.createElement("div",{className:this.ss("ops")},K.default.createElement("button",{className:this.ss("report"),onClick:function(){return i({itemId:e,itemType:"comment"})}},this.__("report")),s)}},{key:"renderCommentsItem",value:function(e,t,n){var a=this.props,o=a.toggleReaction,r=a.loginUser,i=a.replyShow,s=a.updateReplyShow,l=a.jobRoleMap,c=e.id,u=e.content,d=e.author,p=e.mentionEveryone,f=e.mentions,m=e.reactions,h=void 0===m?[]:m,_=e.channelId,g=e.parentMessageId,v=e.upperMessageId,b=(r||{}).id,y=d.id,w=d.fullname,j=c?$.default.extractTimestamp(c):Date.now(),E="/u/"+y,k=p||f.some(function(e){return e.id===b}),C=this.getParsedContent(u,k),O=h.filter(function(e){return"like"===e.type}).length,P=h.some(function(e){return e.user.id===b}),S=b===y;O>100&&(O="99+");var N=(0,Y.getUserTitleRole)(d,l);return K.default.createElement("div",{key:c||Date.now(),className:this.ss("comment-wrap")},K.default.createElement("a",{className:this.ss("avatar-wrap"),href:E},K.default.createElement(Q.default,{user:d,size:"xxsmall"})),K.default.createElement("div",{className:this.ss("info-wrap")},K.default.createElement("div",{className:this.ss("top-wrapper")},K.default.createElement("div",{className:this.ss("name-line")},K.default.createElement("a",{className:this.ss("name"),href:E},w),d&&d.isStaff&&K.default.createElement(te.default,{className:this.ss("staff-label"),type:"staff"}),K.default.createElement("div",{className:this.ss("time")},this.__("comment_created_at",{time:j}))),N&&K.default.createElement("div",{className:this.ss("user-title")},N)),K.default.createElement("div",{className:this.ss("comment-content")},this.renderParent(g,t,v,n),K.default.createElement("div",{className:this.ss("comment",!c&&"loading")},C)),K.default.createElement("div",{className:this.ss("buttons")},K.default.createElement("div",{className:this.ss("reaction-like"),onClick:function(){return o({messageId:c,channelId:_,reactionType:"like"})}},K.default.createElement("button",{className:this.ss("ifont","ifont-icons-like","like",P&&"liked")}),K.default.createElement("div",{className:this.ss("reaction-like-count")},O)),K.default.createElement("button",{className:this.ss("ifont","ifont-icons-reply","reply"),onClick:function(){return s({id:c,show:!i[c]})}}),this.renderOps(c,S)),this.renderReply(c,g)))}},{key:"renderCommentList",value:function(){var e=this,t=this.props.comments||{},n=t.items,a=void 0===n?[]:n,r=t.parents,i=void 0===r?[]:r,s=t.uppers,l=void 0===s?[]:s;if(0===a.length)return null;var c=i.reduce(function(e,t){return h({},e,o({},t.id,t))},{}),u=l.reduce(function(e,t){return h({},e,o({},t.id,t))},{}),d=a.map(function(t){return e.renderCommentsItem(t,c,u)});return 0===d.length&&d.push(K.default.createElement("div",{key:"empty_comments",className:this.ss("no-comments-tip")},this.__("no_comments_tip"))),K.default.createElement("div",{className:this.ss("comment-list")},d)}},{key:"renderCommentRightIcon",value:function(){var e=this.props,t=e.canPublish,n=e.isChannelReadonly,a=e.channelId,o=e.toggleChannelReadonly,r=e.isAdmin;if(!a||n&&!t&&!r)return null;var i=[];if(t||r){var s=n?this.__("enable_comment"):this.__("disable_comment");i.push(K.default.createElement("div",{key:"toggle_comments",className:this.ss("toggle-comments")},K.default.createElement(ie.default,{text:s,position:"top"},K.default.createElement(re.default,{size:"small",checked:!n,onChange:function(){return o({value:!n,channelId:a})}}))))}return K.default.createElement("div",{className:this.ss("icons-wrapper")},i)}},{key:"renderCommentInputArea",value:function(){var e=this,t=this.props,n=t.textAreaAutocomplete,a=t.inputValues,o=t.isChannelReadonly,r=this.state.textAreaFocused,i=void 0,s=a.new_comment,l=r.new_comment&&n&&de[n.type];return l&&(i=K.default.createElement(l,{key:"textAreaAutocomplete",onSelect:function(t){return e.performAutocomplete(t,"new_comment")}})),o?K.default.createElement("div",{className:this.ss("comment-input-wrapper","disabled")},K.default.createElement("div",{className:this.ss("icon-close-comments","ifont","ifont-icons-close-comments")}),K.default.createElement("div",{className:this.ss("hint-text")},this.__("comment_disabled"))):K.default.createElement("div",{className:this.ss("comment-input-wrapper")},K.default.createElement("div",{className:this.ss("text-area-wrapper")},K.default.createElement(Z.default,{ref:"textarea_new_comment",value:s,placeholder:this.__("hint_comment"),rows:1,fontWidthEstimate:6,onFocus:function(t){return e.handleTextAreaFocus(t,"new_comment",null)},onBlur:function(t){return e.handleTextAreaBlur(t,"new_comment",null)},onKeyUp:function(t){return e.handleTextAreaKeyUp(t,"new_comment")},onKeyDown:function(t){return e.handleTextAreaKeyDown(t,"new_comment")},onKeyPress:function(t){return e.handleKeyPress(t,"new_comment",null)},onClick:function(){return e.maybeShowAutocomplete("new_comment")},onChange:function(t){return e.onChange(t,"new_comment")}}),i),K.default.createElement("div",{className:this.ss("button-wrapper")},K.default.createElement(X.default,{className:this.ss("comment"),theme:"blue",disabled:!s,label:this.__("comment"),onClick:function(){return e.handleCreateComment("new_comment",null)}})))}},{key:"renderComments",value:function(){var e=this.props,t=e.comments,n=e.loadMore,a=e.loadMoreStatus,o=e.isChannelReadonly,r=t||{},i=r.items,s=void 0===i?[]:i,l=r.hasMore,c=s&&0===s.length;return K.default.createElement("div",{className:this.ss("comments",c&&"empty")},K.default.createElement("div",{className:this.ss("top-input")},K.default.createElement("div",{className:this.ss("title-wrapper")},K.default.createElement("div",null,this.__("comments")),this.renderCommentRightIcon()),this.renderCommentInputArea()),!o&&this.renderCommentList(),!o&&l&&K.default.createElement("div",{className:this.ss("load-more")},K.default.createElement(oe.default,{theme:"post",loadMoreStatus:a,onPage:function(){return n()},hasMore:function(){return l}})))}},{key:"render",value:function(){return K.default.createElement("div",{className:this.ss("comments-wrap")},this.renderComments())}}]),t}(),f.propTypes={userMap:F.default.object,teamMap:F.default.object,jobRoleMap:F.default.object,loginUser:F.default.object,comments:F.default.object,hottestComments:F.default.object,replyShow:F.default.object,textAreaAutocomplete:F.default.object,channelId:F.default.string,inputValues:F.default.object,loadMoreStatus:F.default.string,canPublish:F.default.bool,isChannelReadonly:F.default.bool,isAdmin:F.default.bool,toggleReaction:F.default.func,updateReplyShow:F.default.func,textAreaAutocompleteUnset:F.default.func,textAreaAutocompleteSelectNext:F.default.func,textAreaAutocompleteSelectPrev:F.default.func,maybeShowAutocomplete:F.default.func,createComment:F.default.func,changeReply:F.default.func,changeInputValue:F.default.func,loadMore:F.default.func,toggleChannelReadonly:F.default.func,scrollToComments:F.default.func,deleteComment:F.default.func,reportOpen:F.default.func},p=m))||p)||p)||p);t.default=pe},,function(e,t,n){e.exports=n(8)(145)},function(e,t,n){e.exports=n(8)(101)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){n(144),e.exports=n(896)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(145)),r=a(n(146)),i=a(n(153)),s=a(n(154)),l=a(n(169)),c=a(n(180)),u=a(n(165)),d=a(n(897)),p=a(n(258)),f=a(n(898)),m=a(n(433)),h=a(n(435)),_=a(n(181));t.default=(0,o.default)({modules:[r.default,i.default,s.default,l.default,c.default,u.default,d.default,p.default,m.default,h.default,_.default],component:f.default})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(248)),r=a(n(249)),i=a(n(250)),s=a(n(251)),l=a(n(252)),c=a(n(173)),u=a(n(172)),d=a(n(171)),p=a(n(178)),f=a(n(179)),m=a(n(253)),h=a(n(254)),_=a(n(255)),g=a(n(256)),v=a(n(82)),b=a(n(257)),y=[o.default,r.default,i.default,s.default,l.default,c.default,u.default,d.default,p.default,f.default,m.default,h.default,_.default,g.default,v.default,b.default];t.default={project:y}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["project"],["project"]),_=s(["header.setting.headerHeight"],["header.setting.headerHeight"]),g=s(["header.setWindowSize"],["header.setWindowSize"]),v=s(["project.closeContent"],["project.closeContent"]),b=s(["project.moveToContent"],["project.moveToContent"]),y=a(n(2)),w=a(n(1)),j=n(5),E=n(0),k=a(n(3)),C=a(n(486)),O=a(n(491)),P=n(951),S=a(n(1016)),N=a(n(109)),M=a(n(4)),T=a(n(1024)),x=60,I=(l=(0,j.decorator)({project:(0,E.state)(h),headerHeight:(0,E.state)(_),setWindowSize:(0,E.signal)(g),closeContent:(0,E.signal)(v),moveToContent:(0,E.signal)(b)}),c=(0,M.default)(T.default),l(u=c((p=d=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={showScrollToTop:!1},a.onScroll=function(e){var t=e.scrollTop,n=a.state.showScrollToTop;t>=x?n||a.setState({showScrollToTop:!0}):n&&a.setState({showScrollToTop:!1}),a.onSocialScroll(t)},a.scrollTo=function(e){a.refMap.page&&a.refMap.page.scrollTo(e,!0)},a.refMap={},i=n,r(a,i)}return i(t,k.default),m(t,[{key:"onSocialScroll",value:function(e){var t=this.props.headerHeight,n=this.state.position,a=this.projectInfo.getMaxSocialScrollTop();if(e>=640)if(e>=a){if("absolute"!==n){var o=a-580-t;this.setState({position:"absolute",deltaTop:o})}}else"fixed"!==n&&this.setState({position:"fixed"});else"fixed"===n&&this.setState({position:"absolute",deltaTop:0})}},{key:"render",value:function(){var e=this,t=this.props.project.projectData.type,n=this.state,a=n.position,o=n.deltaTop;return"webgl"===t?w.default.createElement(N.default,null):w.default.createElement(P.ProjectLayoutOnly,f({},this.props,{ref:function(t){e.refMap.page=t},onScroll:this.onScroll}),w.default.createElement(S.default,null),w.default.createElement("div",{className:this.ss("project-info")},w.default.createElement(C.default,{type:t,scrollTo:this.scrollTo,socialButtonsPosition:a,socialButtonsDeltaTop:o,ref:function(t){e.projectInfo=t}}),w.default.createElement(O.default,{show:this.state.showScrollToTop,scrollTo:this.scrollTo})))}}]),t}(),d.propTypes={project:y.default.object,headerHeight:y.default.number},u=p))||u)||u);t.default=I},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u,d,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["project.projectData.headerImage"],["project.projectData.headerImage"]),m=a(n(2)),h=a(n(1)),_=n(5),g=n(0),v=a(n(3)),b=a(n(15)),y=a(n(487)),w=a(n(4)),j=a(n(902)),E=n(903),k=(s=(0,_.decorator)({headerImage:(0,g.state)(f)}),l=(0,w.default)(j.default),s(c=l((d=u=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,v.default),p(t,[{key:"render",value:function(){var e=this.props,t=e.withBg,n=(e.headerImage||{}).url;return h.default.createElement("div",{className:this.ss("basic-info")},h.default.createElement("div",{className:this.ss("cover-image")},h.default.createElement(b.default,{src:n||E,sizes:"100vw"}),t&&h.default.createElement("div",{className:this.ss("bg")}),h.default.createElement(y.default,null)))}}]),t}(),u.propTypes={headerImage:m.default.object,withBg:m.default.bool},c=d))||c)||c);t.default=k},function(e,t){e.exports={"invited-wrapper":"invited-wrapper_3WdReRbF",avatar:"avatar_1Vv_irr8",detail:"detail_2ZhQ8u9J",buttons:"buttons_1Nj3Q7Qn",accept:"accept_1KCbMS9J",decline:"decline_2ufHtWJY",label:"label_1czIJEmA",loading:"loading_3D11BicY"}},function(e,t){e.exports={invite:"invite_31dK",accept:"accept_IdXj",decline:"decline_18sG"}},function(e,t){e.exports={"basic-info":"basic-info_2kAwcc2W","cover-image":"cover-image_3sGBYL-S",bg:"bg_2d18t36w"}},function(e,t,n){e.exports=n.p+"../styles/i/b-g@2x.79db6fe6ad1941381961b6adc78b5685.png"},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,u,d,p,f,m,h=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),_=l(["project.edit"],["project.edit"]),g=l(["project.projectData"],["project.projectData"]),v=l(["project.contentMap"],["project.contentMap"]),b=l(["project.userMap"],["project.userMap"]),y=l(["project.teamMap"],["project.teamMap"]),w=l(["project.jobRoleMap"],["project.jobRoleMap"]),j=l(["project.platforms"],["project.platforms"]),E=l(["project.skillMap"],["project.skillMap"]),k=l(["project.setContentIds"],["project.setContentIds"]),C=l(["project.projectData.title"],["project.projectData.title"]),O=l(["project.projectData.description"],["project.projectData.description"]),P=l(["project.projectData.body"],["project.projectData.body"]),S=a(n(2)),N=a(n(1)),M=n(5),T=n(0),x=a(n(3)),I=n(11),R=a(n(16)),D=a(n(488)),A=a(n(261)),U=a(n(262)),L=a(n(263)),z=a(n(15)),W=a(n(127)),H=a(n(264)),B=a(n(265)),q=a(n(489)),F=n(10),K=a(n(89)),G=a(n(217)),V=a(n(90)),J=a(n(4)),Y=a(n(921)),Q=a(n(6)),X=a(n(922)),Z=(c=(0,M.decorator)({edit:(0,T.state)(_),projectData:(0,T.state)(g),contentMap:(0,T.state)(v),userMap:(0,T.state)(b),teamMap:(0,T.state)(y),jobRoleMap:(0,T.state)(w),platforms:(0,T.state)(j),skillMap:(0,T.state)(E),setContentIds:(0,T.signal)(k),defaultTitleState:(0,F.$editorStateFromText)((0,T.state)(C)),defaultDescriptionState:(0,F.$editorStateFromText)((0,T.state)(O)),defaultBodyState:(0,F.$editorStateFromJSON)((0,T.state)(P))}),u=(0,J.default)(Y.default),d=(0,Q.default)(X.default),c(p=u(p=d((m=f=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,x.default),h(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.projectData,n=e.contentMap;(0,e.setContentIds)({contentIds:(t.contentIds||[]).filter(function(e){return n[e]&&"img"===n[e].type})})}},{key:"renderLogo",value:function(){return N.default.createElement("div",{className:this.ss("logo-wrapper")},N.default.createElement("div",{className:this.ss("logo")},N.default.createElement("div",{className:this.ss("icon","ifont","ifont-icons-game")})),this.__("game"))}},{key:"renderTag",value:function(){var e=this.props.projectData.status;return e?N.default.createElement("div",{className:this.ss("tag",e.replace(/_/g,"-"))},this.__("status_"+e)):null}},{key:"renderImage",value:function(e){var t=W.default.getStoreImage(e);return t?N.default.createElement(z.default,{src:t,sizes:"38px"}):N.default.createElement("div",{className:this.ss("icon-default","ifont","ifont-icons-defaultstore")})}},{key:"renderStores",value:function(){var e=this,t=this.props.projectData.storeRelease,n=[];return t&&(n=t.filter(function(e){return!!e.url})),0===n.length?null:N.default.createElement("div",{className:this.ss("title-right")},this.__("available_on"),N.default.createElement("div",{className:this.ss("available-list")},n.map(function(t){var n=t.store,a=t.url;return N.default.createElement("a",{key:n,className:e.ss("icon-wrapper"),href:(0,I.buildOutWebsiteUrl)(a),rel:"nofollow",target:"_blank"},N.default.createElement("div",{className:e.ss("icon",(!n||"other"===n)&&"default")},e.renderImage(n)))})))}},{key:"renderTitleBlock",value:function(){return N.default.createElement("div",{className:this.ss("title-wrapper")},N.default.createElement("div",{className:this.ss("title-left")},N.default.createElement(K.default,{editorKey:"editorTitle",defaultEditorState:this.props.defaultTitleState,renderOnly:!0}),N.default.createElement("div",{className:this.ss("publish-time")},N.default.createElement(B.default,null)),this.renderLogo()),this.renderTag(),this.renderStores())}},{key:"renderProjectInfo",value:function(){var e=this,t=this.props,n=t.projectData,a=t.userMap,r=t.teamMap,i=t.jobRoleMap,s=t.platforms,l=t.skillMap,c=n||{},u=c.userId,d=c.teamId,p=c.ownerType,f=c.genreIds,m="team"===p,h=a&&a[u]||r&&r[d]||{},_=m?"/t/"+h.id:"/u/"+h.id,g=h.fullName||h.name,v=(0,I.getUserTitleRole)(h,i),b=void 0;s&&s.length>0&&(b=s.reduce(function(e,t){var n=t.name;return""===e?n:e+"; "+n},""));var y=[].concat(o(f));f.length>2&&(y=y.slice(0,2));var w=y.map(function(t){return N.default.createElement("a",{key:t,className:e.ss("category"),href:"/p?k="+encodeURIComponent(JSON.stringify(["s:"+t]))},l[t]&&l[t].name)});return N.default.createElement("div",{className:this.ss("project-info")},N.default.createElement("div",{className:this.ss("left")},N.default.createElement("div",{className:this.ss("category-list")},w),N.default.createElement("div",{className:this.ss("statistics")},N.default.createElement(L.default,{onComment:this.props.onComment,onUpdate:this.props.onUpdate}))),b&&N.default.createElement("div",{className:this.ss("center-platform")},N.default.createElement("div",{className:this.ss("title")},this.__("platform")),N.default.createElement("div",{className:this.ss("platform")},b)),N.default.createElement("div",{className:this.ss("right")},N.default.createElement("div",{className:this.ss("user-info")},N.default.createElement("a",{className:this.ss("username"),href:_},g),v&&N.default.createElement("div",{className:this.ss("user-title")},v)),N.default.createElement("a",{className:this.ss("avatar"),href:_},N.default.createElement(R.default,{user:h,size:"small",shape:m?"square":"circle"}))))}},{key:"renderLeftButtons",value:function(){var e=this.props,t=e.socialButtonsPosition,n=e.socialButtonsDeltaTop,a=q.default.getSocialButtonsStyle("game",t,n);return N.default.createElement("div",{className:this.ss("left-buttons"),style:a},N.default.createElement(D.default,{onComment:this.props.onComment}))}},{key:"render",value:function(){return N.default.createElement("div",{className:this.ss("content-wrapper")},N.default.createElement("div",{className:this.ss("center-wrapper")},this.renderTitleBlock(),N.default.createElement("div",{className:this.ss("center")},this.renderProjectInfo(),N.default.createElement(V.default,{editorKey:"editorDescription",defaultEditorState:this.props.defaultDescriptionState,renderOnly:!0}),N.default.createElement(G.default,{editorKey:"editorBody",defaultEditorState:this.props.defaultBodyState,renderOnly:!0,theme:this.props.theme}),N.default.createElement(A.default,null),N.default.createElement(H.default,null),N.default.createElement(U.default,null)),this.renderLeftButtons()))}}]),t}(),f.propTypes={edit:S.default.bool,projectData:S.default.object,contentMap:S.default.object,userMap:S.default.object,teamMap:S.default.object,jobRoleMap:S.default.object,platforms:S.default.array,skillMap:S.default.object,defaultTitleState:S.default.object,defaultDescriptionState:S.default.object,defaultBodyState:S.default.object,socialButtonsPosition:S.default.string,socialButtonsDeltaTop:S.default.number,theme:S.default.oneOf(["normal","popup"]),setContentIds:S.default.func,onComment:S.default.func,onUpdate:S.default.func},f.defaultProps={theme:"normal"},p=m))||p)||p)||p);t.default=Z},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["share.weChatDialog.openId"],["share.weChatDialog.openId"]),_=s(["share.closeWeChatShareDialog"],["share.closeWeChatShareDialog"]),g=a(n(2)),v=a(n(1)),b=n(5),y=n(0),w=a(n(3)),j=a(n(15)),E=n(11),k=a(n(4)),C=a(n(906)),O=a(n(6)),P=a(n(907)),S=(l=(0,b.decorator)({openId:(0,y.state)(h),onClose:(0,y.signal)(_)}),c=(0,k.default)(C.default),u=(0,O.default)(P.default),l(d=c(d=u((f=p=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.onClose=function(e){e&&(0,E.pauseEvent)(e),a.isOpen()&&a.props.onClose&&a.props.onClose()},a.onKeyDown=function(e){switch(e.keyCode){case 27:a.onClose()}},i=n,r(a,i)}return i(t,w.default),m(t,[{key:"componentDidMount",value:function(){var e=this;this._handKeyDown=function(t){return e.onKeyDown(t)},window.addEventListener("keydown",this._handKeyDown,!0)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this._handKeyDown,!0)}},{key:"isOpen",value:function(){var e=this.props,t=e.openId,n=e.id,a=e.opener||n;return!(!t||t!==a)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.type,a=e.top,o=e.shareCode;if(!this.isOpen())return null;var r="/qrcode?type="+n+"&id="+t+"&size=120&code="+o,i={};return a&&a>0&&(i.marginTop=a),v.default.createElement("div",{className:this.ss("share")},v.default.createElement("div",{className:this.ss("backdrop"),onClick:this.onClose}),v.default.createElement("div",{className:this.ss("content-wrapper")},v.default.createElement("div",{className:this.ss("content"),style:i},v.default.createElement("div",{className:this.ss("title")},this.__("title")),v.default.createElement("div",{className:this.ss("image-wrapper")},v.default.createElement(j.default,{src:r,sizes:"200px"})))))}}]),t}(),p.propTypes={openId:g.default.string,type:g.default.string,id:g.default.string,opener:g.default.string,top:g.default.number,shareCode:g.default.string,onClose:g.default.func},d=f))||d)||d)||d);t.default=S},function(e,t){e.exports={backdrop:"backdrop_CqY26RSf","content-wrapper":"content-wrapper_1TJLplQP",content:"content_bA6W6WZX",title:"title_mHvD1jsM","image-wrapper":"image-wrapper_zyA72n1b"}},function(e,t){e.exports={title:"title_22Ox"}},function(e,t){e.exports={share:"share_S_XNL708","button-wrap":"button-wrap_3HLcZkDA",icon:"icon_1Oxmes0c",twitter:"twitter_c7_8oy8e",wechat:"wechat_2Pg39Woe",divider:"divider_2vle_Zu_",buttons:"buttons_1KUXdrNM",item:"item_3HutmGUv",default:"default_1nYrwD21",pinterest:"pinterest_xQWDgVXF",reddit:"reddit_25JeTQ5j",linkedin:"linkedin_wbCNOjXy",float:"float_37u0AmLk",primary:"primary_34XRBlL-",little:"little_1CTyJ7_j",bg:"bg_1PUzNAuH"}},function(e,t){e.exports={checkout_project_at:"checkout_project_at_xZ2O",checkout_job_at:"checkout_job_at_29n3",someone:"someone_2fcT"}},function(e,t){e.exports={buttons:"buttons_1-vYw8pM","item-wrapper":"item-wrapper_eSCkhTsG",item:"item_380moY7J",inner:"inner_1IfV6AAM","icon-top":"icon-top_3VVcFRnS","icon-like":"icon-like_2Hou4Dqh","icon-comment":"icon-comment_162inZn7","icon-share":"icon-share_2UHpgxDG",active:"active_1ND3kXta","share-wrapper":"share-wrapper_6s3VANcD",bg:"bg_36sQgVQo",hide:"hide_1PHOFsq4"}},function(e,t){e.exports={share:"share_2ezS"}},function(e,t){e.exports={"tags-wrapper":"tags-wrapper_191I1eel",tags:"tags_4xsD84OU",tag:"tag_3HkF5NYe",report:"report_1ROrVAqF",icon:"icon_1tKyU6kg"}},function(e,t){e.exports={tags:"tags_16Hy",report:"report_2x_k"}},function(e,t){e.exports={"like-wrapper":"like-wrapper_3tBefloM","like-animation":"like-animation_2M9AOA9M","clicked-animation":"clicked-animation_3jYU8yTB","like-outer-space":"like-outer-space_1Io-AduF",like:"like_1Ie5dahq",enlarge:"enlarge_LK3UpPeT","icon-like":"icon-like_1B_vKISw",rotate:"rotate_1SZOqaiJ",rating:"rating_2e2v_CL6","star-rating":"star-rating_271vyf-G",inner:"inner_2174lrKx",active:"active_yOVK0mhH","not-active":"not-active_2sU4cUn-","lines-wrapper":"lines-wrapper_2VLWNWQD",lines:"lines_26gPXGrZ","line-degree-0":"line-degree-0_9A3VZsv-","line-degree-45":"line-degree-45_1pS7I-CO","line-degree-90":"line-degree-90_2AlJbUJm","line-degree-135":"line-degree-135_1O4dao2n",hide:"hide_WNS1MGE1","space-enlarge":"space-enlarge_T9mpfmk8"}},function(e,t){e.exports={statistics:"statistics_3YVrrs8C",inner:"inner_3x8yBKJs",views:"views_3Je4hjZe",likes:"likes_2o13OOZq",comments:"comments_1gthR8rW",icon:"icon_1WP_xfF6",active:"active_1fPtrU5P",article:"article_14rzWfef"}},function(e,t){e.exports={view_hint:"view_hint_2pz9",like_hint:"like_hint_W19j",comment_hint:"comment_hint_G88i"}},function(e,t){e.exports={website:"website_g1jdB0Hs",link:"link_IbfAlkuF"}},function(e,t){e.exports={website:"website_1XC1"}},function(e,t){e.exports={"publish-time":"publish-time_3yTAOnl5",icon:"icon_2lNV4vLk",time:"time_32MAkhGX",divider:"divider_2l4P1IWk",edit:"edit_1TksK7Kt",game:"game_2vnSVdMo",showcase:"showcase_gCbYy4ub","icon-mwu":"icon-mwu_3dBTZnup",article:"article_1hTYGkNE"}},function(e,t){e.exports={publish_time:"publish_time_19Zu",updated_time:"updated_time_16ue",saved_time:"saved_time_3lS0",edit:"edit_3qpF"}},function(e,t){e.exports={"content-wrapper":"content-wrapper_sEl6N5bc","center-wrapper":"center-wrapper_2Vxo-WPt",center:"center_13W2jTSC","project-info":"project-info_3aGJjQ_d",left:"left_1bbix-Vh","category-list":"category-list_2bEJ7Vgc",category:"category_1lExJqrK",statistics:"statistics_38TZ1ip-","center-platform":"center-platform_3e-plDad",title:"title_K3OMctIw",platform:"platform_1Iv2I_FD",right:"right_1O9fQIN4","user-info":"user-info_3F-QwU4n",username:"username_3oLTlkTU","user-title":"user-title_1Q1uJu1f",avatar:"avatar_smg3vAkt",content:"content_3FZc0-3D","left-buttons":"left-buttons_2XHzFytg",hide:"hide_WgUeDaAr",hook:"hook_18_xQzWt","title-wrapper":"title-wrapper_18LqYAmD","title-left":"title-left_Z_wkXV-0","publish-time":"publish-time_190HuVB7","title-right":"title-right_BdDwcwsf","icon-wrapper":"icon-wrapper_1pAMkDII",icon:"icon_2gIm8UlK",default:"default_2Zre3cmv","icon-default":"icon-default_3yGSvTPk","available-list":"available-list_1GPj1a2P",tag:"tag_2yT7Wh68","in-development":"in-development_1GGgEvtZ","early-access":"early-access_3piC2VQO","soft-launch":"soft-launch_2G5mxdrZ","logo-wrapper":"logo-wrapper_HZppIpD6",logo:"logo_q7u6ASa5"}},function(e,t){e.exports={download:"download__aSe",top:"top_aKie",platform:"platform_2zao",release:"release_2Ins",game:"game_2bbC",available_on:"available_on_vXsT",status_in_dev:"status_in_dev_1igb",status_released:"status_released_kPlu",status_soft_launch:"status_soft_launch_2gT-",status_early_access:"status_early_access_1KMK"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["project.edit"],["project.edit"]),_=s(["project.projectData"],["project.projectData"]),g=s(["project.contentMap"],["project.contentMap"]),v=s(["project.userMap"],["project.userMap"]),b=s(["project.teamMap"],["project.teamMap"]),y=s(["project.jobRoleMap"],["project.jobRoleMap"]),w=s(["project.challenge"],["project.challenge"]),j=s(["project.submissionPrizes"],["project.submissionPrizes"]),E=s(["loginUser"],["loginUser"]),k=s(["project.setContentIds"],["project.setContentIds"]),C=s(["project.projectData.title"],["project.projectData.title"]),O=s(["project.projectData.subTitle"],["project.projectData.subTitle"]),P=s(["project.projectData.body"],["project.projectData.body"]),S=a(n(2)),N=a(n(1)),M=n(5),T=n(0),x=a(n(3)),I=n(11),R=n(18),D=a(n(42)),A=a(n(16)),U=a(n(488)),L=a(n(261)),z=a(n(262)),W=a(n(263)),H=a(n(264)),B=a(n(265)),q=a(n(489)),F=n(10),K=a(n(206)),G=a(n(208)),V=a(n(210)),J=a(n(4)),Y=a(n(924)),Q=a(n(6)),X=a(n(925)),Z=(l=(0,M.decorator)({edit:(0,T.state)(h),projectData:(0,T.state)(_),contentMap:(0,T.state)(g),userMap:(0,T.state)(v),teamMap:(0,T.state)(b),jobRoleMap:(0,T.state)(y),challenge:(0,T.state)(w),submissionPrizes:(0,T.state)(j),loginUser:(0,T.state)(E),setContentIds:(0,T.signal)(k),defaultTitleState:(0,F.$editorStateFromText)((0,T.state)(C)),defaultSubTitleState:(0,F.$editorStateFromText)((0,T.state)(O)),defaultBodyState:(0,F.$editorStateFromJSON)((0,T.state)(P))}),c=(0,J.default)(Y.default),u=(0,Q.default)(X.default),l(d=c(d=u((f=p=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={position:"absolute",deltaTop:0},a.state={show:!1,shwoPrizes:!1,btnElementHeight:0},i=n,r(a,i)}return i(t,x.default),m(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.projectData,a=t.contentMap;(0,t.setContentIds)({contentIds:(n.contentIds||[]).filter(function(e){return a[e]&&"img"===a[e].type})}),this.removeClickOutside=(0,R.addClickOutside)([this.refs.prizeList],function(){e.setState({shwoPrizes:!1})})}},{key:"componentWillUnmount",value:function(){this.removeClickOutside()}},{key:"onShowPrizes",value:function(){this.setState({shwoPrizes:!0})}},{key:"renderLogo",value:function(){return N.default.createElement("div",{className:this.ss("logo-wrapper")},N.default.createElement("div",{className:this.ss("logo")},N.default.createElement("div",{className:this.ss("icon","ifont","ifont-icons-article")})),this.__("article"))}},{key:"renderTitleBlock",value:function(){return N.default.createElement("div",{className:this.ss("title-wrapper",this.props.challenge&&"is-submission")},this.renderLogo(),N.default.createElement(K.default,{editorKey:"editorTitle",defaultEditorState:this.props.defaultTitleState,renderOnly:!0}),this.renderProjectInfo())}},{key:"renderProjectInfo",value:function(){var e=this.props,t=e.projectData,n=e.userMap,a=e.teamMap,o=e.jobRoleMap,r=t||{},i=r.userId,s=r.teamId,l="team"===r.ownerType,c=n&&n[i]||a&&a[s]||{},u=l?"/t/"+c.id:"/u/"+c.id,d=c.fullName||c.name,p=(0,I.getUserTitleRole)(c,o);return N.default.createElement("div",{className:this.ss("project-info")},N.default.createElement("div",{className:this.ss("left")},N.default.createElement(B.default,null),N.default.createElement("div",{className:this.ss("statistics")},N.default.createElement(W.default,{onComment:this.props.onComment,onUpdate:this.props.onUpdate}))),N.default.createElement("div",{className:this.ss("right")},N.default.createElement("div",{className:this.ss("user-info")},N.default.createElement("a",{className:this.ss("username"),href:u},d),p&&N.default.createElement("div",{className:this.ss("user-title")},p)),N.default.createElement("a",{className:this.ss("avatar",l&&"team"),href:u},N.default.createElement(A.default,{user:c,size:"small",shape:l?"square":"circle"}))))}},{key:"renderChallenge",value:function(){var e=this;if(!this.props.challenge)return null;var t=this.props,n=t.challenge,a=n.id,o=n.title,r=n.status,i=n.startDate,s=n.endDate,l=t.submissionPrizes,c=r;"ongoing"===r&&(0,D.default)().isBefore((0,D.default)(i))?c="waiting":"ongoing"===r&&(0,D.default)().isAfter((0,D.default)(s))&&(c="review");var u=N.default.createElement("div",{className:this.ss("status")},this.__("status_"+c)),d=N.default.createElement("div",{className:this.ss("challenge-link","count_0")},N.default.createElement("a",{href:"/challenges/"+a,target:"_blank"},this.__("link_challenge_detail"))),p=[],f="";return l&&l.length>0&&(f=l[0],l.length>1&&(f=this.__("label_prizes_with_count",{txt:f,count:l.length-1})),p=l.map(function(e,t){return N.default.createElement("li",{key:t},e)}),d=N.default.createElement("div",{className:this.ss("challenge-link","count_"+l.length)},N.default.createElement("div",{className:this.ss("right-prizes"),onClick:function(){return e.onShowPrizes()}},this.__("label_prizes_num",{count:l.length})),N.default.createElement("a",{href:"/challenges/"+a,target:"_blank"},this.__("link_challenge_detail")),this.state.shwoPrizes&&N.default.createElement("div",{ref:"prizeList",className:this.ss("prize-list")},N.default.createElement("div",{className:this.ss("prize-list-wrap")},N.default.createElement("i",null),N.default.createElement("ul",null,p)))),u=N.default.createElement("div",{className:this.ss("status")},N.default.createElement("span",null,this.__("status_"+r)),N.default.createElement("i",null),N.default.createElement("div",{className:this.ss("prize-wrap")},N.default.createElement("div",{className:this.ss("prize-txt")},f),l.length>1&&N.default.createElement("div",{className:this.ss("prize-list-tip")},N.default.createElement("div",{className:this.ss("prize-list")},N.default.createElement("div",{className:this.ss("prize-list-wrap")},N.default.createElement("i",null),N.default.createElement("ul",null,p))))))),N.default.createElement("div",{key:"challenge",className:this.ss("challenge")},N.default.createElement("div",{className:this.ss("container")},N.default.createElement("i",{className:this.ss("icon","ifont","ifont-icons_trophy")}),N.default.createElement("div",{className:this.ss("challenge-title")},N.default.createElement("div",{className:this.ss("title-wrap")},N.default.createElement("a",{href:"/challenges/"+a,target:"_blank"},o))),u,d))}},{key:"renderLeftButtons",value:function(){var e=this.props,t=e.socialButtonsPosition,n=e.socialButtonsDeltaTop,a=q.default.getSocialButtonsStyle("article",t,n);return N.default.createElement("div",{className:this.ss("left-buttons"),style:a},N.default.createElement(U.default,{onComment:this.props.onComment}))}},{key:"renderContent",value:function(){return N.default.createElement("div",{key:"content",className:this.ss("content-wrapper")},N.default.createElement("div",{className:this.ss("center-wrapper")},N.default.createElement("div",{className:this.ss("center")},this.renderTitleBlock(),N.default.createElement(G.default,{editorKey:"editorSubTitle",defaultEditorState:this.props.defaultSubTitleState,renderOnly:!0}),N.default.createElement(V.default,{editorKey:"editorBody",defaultEditorState:this.props.defaultBodyState,renderOnly:!0,theme:this.props.theme}),N.default.createElement(L.default,null),N.default.createElement(H.default,null),N.default.createElement(z.default,null)),this.renderLeftButtons()))}},{key:"render",value:function(){var e=this.renderContent();return[this.renderChallenge(),e]}}]),t}(),p.propTypes={edit:S.default.bool,projectData:S.default.object,contentMap:S.default.object,userMap:S.default.object,teamMap:S.default.object,jobRoleMap:S.default.object,challenge:S.default.object,submissionPrizes:S.default.array,loginUser:S.default.object,defaultTitleState:S.default.object,defaultSubTitleState:S.default.object,defaultBodyState:S.default.object,socialButtonsPosition:S.default.string,socialButtonsDeltaTop:S.default.number,theme:S.default.oneOf(["normal","popup"]),setContentIds:S.default.func,onComment:S.default.func,onUpdate:S.default.func},p.defaultProps={theme:"normal"},d=f))||d)||d)||d);t.default=Z},function(e,t){e.exports={"content-wrapper":"content-wrapper_2ihwVaGo","center-wrapper":"center-wrapper_2nZLzaQU",center:"center_1-Fk_fgj","left-buttons":"left-buttons_3Q1fcEcx",hide:"hide_2W3HIDTc",hook:"hook_1MVsz7ZM","title-wrapper":"title-wrapper_1X7Y1K0F","is-submission":"is-submission_1CJw8Nnq","logo-wrapper":"logo-wrapper_1z1s0yDH",logo:"logo_20ZARUQn",icon:"icon_32_BhaN9",title:"title_3_31VG_0","project-info":"project-info_3zxJCeAm",left:"left_3cMZaVQz",statistics:"statistics_2OAbytfi",right:"right_1k1HPj0n","user-info":"user-info_3zmtaDNs",username:"username_1PkA7pmr","user-title":"user-title_1xipm0Z1",avatar:"avatar_3HG8Zt2W",team:"team_3rUkNZHc",challenge:"challenge_3OqvR9HC",container:"container_OfHJSrJn","challenge-title":"challenge-title_vAIapkbr","title-wrap":"title-wrap_1fQl7_22",status:"status_1Y3K7a2D","challenge-link":"challenge-link_152X91Hd","right-prizes":"right-prizes_2h4Z5I8j","prize-wrap":"prize-wrap_25fN-lGY","prize-list":"prize-list_iXpMxjSP","prize-txt":"prize-txt_2E-KK_N9","prize-list-tip":"prize-list-tip_1s17nQEf","prize-list-wrap":"prize-list-wrap_1vS4tNz1",count_0:"count_0_2MNESBgG"}},function(e,t){e.exports={top:"top_3Siw",platform:"platform_2ne7",article:"article_1Erq",link_challenge_detail:"link_challenge_detail_1Fab",sub_ongoing:"sub_ongoing_3Jz3",sub_completed:"sub_completed_3Aap",status_created:"status_created_15Pn",status_waiting:"status_waiting_3xqR",status_ongoing:"status_ongoing_3fgY",status_review:"status_review_1NNz",status_completed:"status_completed_NHn0",label_prizes_with_count:"label_prizes_with_count_3H5J",label_prizes_num:"label_prizes_num_1Xfo"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["project.edit"],["project.edit"]),_=s(["project.projectData"],["project.projectData"]),g=s(["project.contentMap"],["project.contentMap"]),v=s(["project.userMap"],["project.userMap"]),b=s(["project.teamMap"],["project.teamMap"]),y=s(["project.jobRoleMap"],["project.jobRoleMap"]),w=s(["loginUser"],["loginUser"]),j=s(["project.isMWU"],["project.isMWU"]),E=s(["project.setContentIds"],["project.setContentIds"]),k=s(["project.projectData.title"],["project.projectData.title"]),C=s(["project.projectData.body"],["project.projectData.body"]),O=a(n(2)),P=a(n(1)),S=n(5),N=n(0),M=a(n(3)),T=n(11),x=a(n(16)),I=a(n(261)),R=a(n(262)),D=a(n(260)),A=a(n(263)),U=a(n(487)),L=a(n(264)),z=a(n(265)),W=n(10),H=a(n(228)),B=a(n(230)),q=a(n(4)),F=a(n(927)),K=a(n(6)),G=a(n(928)),V=(l=(0,S.decorator)({edit:(0,N.state)(h),projectData:(0,N.state)(_),contentMap:(0,N.state)(g),userMap:(0,N.state)(v),teamMap:(0,N.state)(b),jobRoleMap:(0,N.state)(y),loginUser:(0,N.state)(w),isMWU:(0,N.state)(j),setContentIds:(0,N.signal)(E),defaultTitleState:(0,W.$editorStateFromText)((0,N.state)(k)),defaultBodyState:(0,W.$editorStateFromJSON)((0,N.state)(C))}),c=(0,q.default)(F.default),u=(0,K.default)(G.default),l(d=c(d=u((f=p=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={position:"absolute",deltaTop:0},i=n,r(a,i)}return i(t,M.default),m(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.projectData,n=e.contentMap;(0,e.setContentIds)({contentIds:(t.contentIds||[]).filter(function(e){return n[e]&&"img"===n[e].type})})}},{key:"renderSubInfo",value:function(){var e=this.props.isMWU;return P.default.createElement("div",{className:this.ss("sub-info")},P.default.createElement("div",{className:this.ss("logo-wrapper")},P.default.createElement("div",{className:this.ss("logo")},P.default.createElement("div",{className:this.ss("icon","ifont","ifont-icons-showcase")})),P.default.createElement("div",{className:this.ss("showcase")},this.__("showcase")),P.default.createElement("div",{className:this.ss("share-wrapper")},P.default.createElement(D.default,{theme:"primary"})),e&&P.default.createElement("div",{className:this.ss("icon-mwu","ifont","ifont-icons-mwu")})),P.default.createElement("div",{className:this.ss("statistics")},P.default.createElement(A.default,{onComment:this.props.onComment,onUpdate:this.props.onUpdate})))}},{key:"renderHeader",value:function(){var e=this.props,t=e.projectData,n=e.userMap,a=e.teamMap,o=e.jobRoleMap,r=t||{},i=r.userId,s=r.teamId,l="team"===r.ownerType,c=n&&n[i]||a&&a[s]||{},u=l?"/t/"+c.id:"/u/"+c.id,d=c.fullName||c.name,p=(0,T.getUserTitleRole)(c,o);return P.default.createElement("div",{className:this.ss("title-wrapper")},P.default.createElement("div",{className:this.ss("publisher")},P.default.createElement("a",{className:this.ss("avatar"),href:u},P.default.createElement(x.default,{user:c,size:"xsmall",shape:l?"square":"circle"})),P.default.createElement("div",{className:this.ss("user-info")},P.default.createElement("div",{className:this.ss("name-wrapper")},P.default.createElement("a",{className:this.ss("username"),href:u},d),P.default.createElement(z.default,null)),p&&P.default.createElement("div",{className:this.ss("user-title")},p))),P.default.createElement("div",{className:this.ss("title")},P.default.createElement(H.default,{editorKey:"editorTitle",defaultEditorState:this.props.defaultTitleState,renderOnly:!0})),this.renderSubInfo())}},{key:"render",value:function(){return P.default.createElement("div",{className:this.ss("content-wrapper")},P.default.createElement("div",{className:this.ss("header-wrapper")},this.renderHeader()),P.default.createElement("div",{className:this.ss("editor-wrap")},P.default.createElement("div",{className:this.ss("editor")},P.default.createElement(B.default,{editorKey:"editorBody",defaultEditorState:this.props.defaultBodyState,renderOnly:!0,theme:this.props.theme}))),P.default.createElement("div",{className:this.ss("content")},P.default.createElement(I.default,null),P.default.createElement(L.default,null),P.default.createElement(R.default,null)),P.default.createElement(U.default,null))}}]),t}(),p.propTypes={edit:O.default.bool,projectData:O.default.object,contentMap:O.default.object,userMap:O.default.object,teamMap:O.default.object,jobRoleMap:O.default.object,loginUser:O.default.object,defaultTitleState:O.default.object,defaultBodyState:O.default.object,theme:O.default.oneOf(["normal","popup"]),isMWU:O.default.bool,setContentIds:O.default.func,onComment:O.default.func,onUpdate:O.default.func},p.defaultProps={theme:"normal"},d=f))||d)||d)||d);t.default=V},function(e,t){e.exports={"content-wrapper":"content-wrapper_U3VKIQxO","editor-wrap":"editor-wrap_w8P9M0bq",editor:"editor_3pKxWf00","header-wrapper":"header-wrapper_fzBJ7XoC",content:"content_1zGc4ys4",text:"text_1Yae7hbP","left-buttons":"left-buttons_2vsOPuph",hide:"hide_33cEEm0T",hook:"hook_1sg0RoOU","title-wrapper":"title-wrapper_11BAkUKX",publisher:"publisher_uVO-umY4",avatar:"avatar_2S7l-0b9","user-info":"user-info_OUQToj7R","name-wrapper":"name-wrapper_2whMN65D",username:"username_3yVN_7Sm","user-title":"user-title_3gzJR7FO",title:"title_WCQkHkzg","sub-info":"sub-info_17MvR5Vw","logo-wrapper":"logo-wrapper_1sJiChhq",logo:"logo_1hlPneUf",icon:"icon_2FRQxvHt",showcase:"showcase_1hENdbam","share-wrapper":"share-wrapper_1WSTToUv","icon-mwu":"icon-mwu_HpO5hWNO",statistics:"statistics_LQ7odQ4d"}},function(e,t){e.exports={top:"top_3EDt",platform:"platform_2P-O",showcase:"showcase_mAMs"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["project.projects"],["project.projects"]),_=s(["project.projectData"],["project.projectData"]),g=a(n(2)),v=a(n(1)),b=n(5),y=n(0),w=a(n(3)),j=a(n(134)),E=a(n(15)),k=a(n(4)),C=a(n(930)),O=a(n(6)),P=a(n(931)),S=408,N=n(74),M=(l=(0,b.decorator)({projects:(0,y.state)(h),projectData:(0,y.state)(_)}),c=(0,k.default)(C.default),u=(0,O.default)(P.default),l(d=c(d=u((f=p=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={current:0},a.onScrollProjects=function(e){var t=e.scrollLeft;if(void 0!==t){var n=Math.round(S/2),o=Math.floor((t+n)/S);a.setState({current:o})}},i=n,r(a,i)}return i(t,w.default),m(t,[{key:"onIncrease",value:function(e){var t=this,n=this.getProjectsLength()-1,a=this.state.current,o=Math.max(0,Math.min(a+e*this.getMoveStep(),n));o!==a&&this.setState({current:o},function(){t.scrollThumbnailTo(o,!0)})}},{key:"getOtherProjects",value:function(){var e=this.props,t=e.projects,n=void 0===t?[]:t,a=e.projectData.id;return n.filter(function(e){return e.id!==a})}},{key:"getProjectsLength",value:function(){return this.getOtherProjects().length}},{key:"getMoveStep",value:function(){var e=this.content;if(e){var t=e.offsetWidth;return Math.round(t/S)}return 3}},{key:"scrollThumbnailTo",value:function(e,t){var n=this.scrollerX;n&&n.scrollTo(S*e,t)}},{key:"shouldLeftClick",value:function(){return this.state.current>0}},{key:"shouldRightClick",value:function(){var e=this.getProjectsLength();return this.state.current<e-this.getMoveStep()}},{key:"renderProjects",value:function(){var e=this;return this.getOtherProjects().map(function(t){var n=t.id,a=t.slug,o=t.title,r=t.likeCount,i=t.commentCount,s=t.thumbnail;return v.default.createElement("a",{key:n,className:e.ss("project"),href:"/p/"+a},v.default.createElement(E.default,{alt:o,src:s&&s.url||N,width:384,height:256,sizes:"384px"}),v.default.createElement("div",{className:e.ss("detail-wrapper")},v.default.createElement("div",{className:e.ss("detail-content")},v.default.createElement("div",{className:e.ss("title")},o),v.default.createElement("div",{className:e.ss("statistics")},v.default.createElement("div",{className:e.ss("likes")},v.default.createElement("div",{className:e.ss("icon","ifont","ifont-icons-like")}),r),v.default.createElement("div",{className:e.ss("comments")},v.default.createElement("div",{className:e.ss("icon","ifont","ifont-icons-comment")}),i)))))})}},{key:"renderList",value:function(){var e=this;return v.default.createElement("div",{className:this.ss("lists","desktop")},v.default.createElement("div",{className:this.ss("nav","left-nav","ifont","ifont-icons-back",this.shouldLeftClick()&&"active"),onClick:function(){return e.shouldLeftClick()&&e.onIncrease(-1)}}),v.default.createElement("div",{className:this.ss("project-content"),ref:function(t){e.content=t}},v.default.createElement(j.default,{ref:function(t){e.scrollerX=t},theme:"light",hideScrollbar:!0,onScroll:this.onScrollProjects},v.default.createElement("div",{className:this.ss("project-wrap")},this.renderProjects()))),v.default.createElement("div",{className:this.ss("nav","right-nav","ifont","ifont-icons-back",this.shouldRightClick()&&"active"),onClick:function(){return e.shouldRightClick()&&e.onIncrease(1)}}))}},{key:"renderMobileList",value:function(){var e=this,t=this.getOtherProjects().map(function(t){var n=t.id,a=t.slug,o=t.title,r=t.likeCount,i=t.commentCount,s=t.thumbnail;return v.default.createElement("a",{key:n,className:e.ss("project-mobile"),href:"/p/"+a},v.default.createElement("div",{className:e.ss("image")},v.default.createElement(E.default,{alt:o,src:s&&s.url||N,width:100,height:75,sizes:"100px"})),v.default.createElement("div",{className:e.ss("detail-wrapper")},v.default.createElement("div",{className:e.ss("project-title")},o),v.default.createElement("div",{className:e.ss("statistics")},v.default.createElement("div",{className:e.ss("likes")},v.default.createElement("div",{className:e.ss("icon","ifont","ifont-icons-like")}),r),v.default.createElement("div",{className:e.ss("comments")},v.default.createElement("div",{className:e.ss("icon","ifont","ifont-icons-comment")}),i))))});return v.default.createElement("div",{className:this.ss("lists","mobile")},t)}},{key:"render",value:function(){return 0===this.getProjectsLength()?null:v.default.createElement("div",{className:this.ss("project-list")},v.default.createElement("div",{className:this.ss("title")},this.__("title")),this.renderList(),this.renderMobileList())}}]),t}(),p.propTypes={projects:g.default.array,projectData:g.default.object},d=f))||d)||d)||d);t.default=M},function(e,t){e.exports={"project-list":"project-list_o5N9_Auv",title:"title_3Mn-moaR",lists:"lists_3xRdJjwS",desktop:"desktop_3rbNCwMJ",mobile:"mobile_1X6UBjMi","project-content":"project-content_E-xrVgY0","project-wrap":"project-wrap_2S1RAF5_",project:"project_Efp-xIs0","detail-wrapper":"detail-wrapper_2LRFGWxn","detail-content":"detail-content_1yms-HdH",statistics:"statistics_obbg1GnS",likes:"likes_1gHfvqyf",comments:"comments_3NNWDfrW",icon:"icon_2BJ6Mlz8",nav:"nav_2enH5e33",active:"active_u0cpeZkN","left-nav":"left-nav_1_w8GEmj","right-nav":"right-nav_1Ug5GY6w","project-mobile":"project-mobile_23j4-LOD",image:"image_28J54AO8","project-title":"project-title_37YBoR9R"}},function(e,t){e.exports={title:"title_1mv0"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,u,d,p,f,m,h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),g=l(["project.projectData"],["project.projectData"]),v=l(["project.userMap"],["project.userMap"]),b=l(["project.teamMap"],["project.teamMap"]),y=l(["project.jobRoleMap"],["project.jobRoleMap"]),w=l(["loginUser"],["loginUser"]),j=l(["project.edit"],["project.edit"]),E=l(["project.comments"],["project.comments"]),k=l(["project.hottestComments"],["project.hottestComments"]),C=l(["project.replyShow"],["project.replyShow"]),O=l(["project.textAreaAutocomplete"],["project.textAreaAutocomplete"]),P=l(["project.channelId"],["project.channelId"]),S=l(["project.inputValues"],["project.inputValues"]),N=l(["project.languages"],["project.languages"]),M=l(["project.platforms"],["project.platforms"]),T=l(["project.loadMoreStatus"],["project.loadMoreStatus"]),x=l(["project.canPublish"],["project.canPublish"]),I=l(["project.isChannelReadonly"],["project.isChannelReadonly"]),R=l(["project.isAdmin"],["project.isAdmin"]),D=l(["project.deleteCommentConfirmId"],["project.deleteCommentConfirmId"]),A=l(["project.deleteCommentStatus"],["project.deleteCommentStatus"]),U=l(["project.toggleReaction"],["project.toggleReaction"]),L=l(["project.updateReplyShow"],["project.updateReplyShow"]),z=l(["project.textAreaAutocompleteUnset"],["project.textAreaAutocompleteUnset"]),W=l(["project.textAreaAutocompleteSelectNext"],["project.textAreaAutocompleteSelectNext"]),H=l(["project.textAreaAutocompleteSelectPrev"],["project.textAreaAutocompleteSelectPrev"]),B=l(["project.maybeShowAutocomplete"],["project.maybeShowAutocomplete"]),q=l(["project.createComment"],["project.createComment"]),F=l(["project.changeReply"],["project.changeReply"]),K=l(["project.changeInputValue"],["project.changeInputValue"]),G=l(["project.loadMore"],["project.loadMore"]),V=l(["project.toggleChannelReadonly"],["project.toggleChannelReadonly"]),J=l(["project.deleteComment"],["project.deleteComment"]),Y=l(["project.openDeleteCommentConfirmDialog"],["project.openDeleteCommentConfirmDialog"]),Q=l(["project.closeDeleteCommentConfirmDialog"],["project.closeDeleteCommentConfirmDialog"]),X=l(["report.open"],["report.open"]),Z=a(n(2)),$=a(n(1)),ee=n(5),te=n(0),ne=a(n(3)),ae=n(11),oe=a(n(16)),re=a(n(13)),ie=a(n(97)),se=a(n(34)),le=a(n(40)),ce=a(n(98)),ue=a(n(933)),de=a(n(12)),pe=a(n(937)),fe=a(n(940)),me=a(n(15)),he=a(n(127)),_e=a(n(99)),ge=a(n(943)),ve=a(n(131)),be=a(n(24)),ye=a(n(71)),we=a(n(4)),je=a(n(946)),Ee=a(n(6)),ke=a(n(947)),Ce={mention:ue.default},Oe=(c=(0,ee.decorator)({projectData:(0,te.state)(g),userMap:(0,te.state)(v),teamMap:(0,te.state)(b),jobRoleMap:(0,te.state)(y),loginUser:(0,te.state)(w),edit:(0,te.state)(j),comments:(0,te.state)(E),hottestComments:(0,te.state)(k),replyShow:(0,te.state)(C),textAreaAutocomplete:(0,te.state)(O),channelId:(0,te.state)(P),inputValues:(0,te.state)(S),languages:(0,te.state)(N),platforms:(0,te.state)(M),loadMoreStatus:(0,te.state)(T),canPublish:(0,te.state)(x),isChannelReadonly:(0,te.state)(I),isAdmin:(0,te.state)(R),deleteCommentConfirmId:(0,te.state)(D),deleteCommentStatus:(0,te.state)(A),toggleReaction:(0,te.signal)(U),updateReplyShow:(0,te.signal)(L),textAreaAutocompleteUnset:(0,te.signal)(z),textAreaAutocompleteSelectNext:(0,te.signal)(W),textAreaAutocompleteSelectPrev:(0,te.signal)(H),maybeShowAutocomplete:(0,te.signal)(B),createComment:(0,te.signal)(q),changeReply:(0,te.signal)(F),changeInputValue:(0,te.signal)(K),loadMore:(0,te.signal)(G),toggleChannelReadonly:(0,te.signal)(V),deleteComment:(0,te.signal)(J),openDeleteCommentConfirmDialog:(0,te.signal)(Y),closeDeleteCommentConfirmDialog:(0,te.signal)(Q),reportOpen:(0,te.signal)(X)}),u=(0,we.default)(je.default),d=(0,Ee.default)(ke.default),c(p=u(p=d((m=f=function(e){function t(){var e,n,a,o;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={textAreaFocused:{}},o=n,i(a,o)}return s(t,ne.default),_(t,[{key:"onChangeTextAreaFocused",value:function(e,t,n){var a=this.state.textAreaFocused,r=h({},a,o({},e,t));this.setState({textAreaFocused:r});var i="new_comment"===e?"":e;this.props.changeReply({id:i,parentMessageId:n})}},{key:"onChange",value:function(e,t){e&&(0,ae.pauseEvent)(e),this.props.changeInputValue({id:t,value:e.target.value})}},{key:"getTextAreaValue",value:function(e){var t=this.props.inputValues;return t[e]&&t[e].trim()}},{key:"getParsedContent",value:function(e,t){return le.default.parse(e,!0,{mentioned:t,mentionType:"project"})}},{key:"performAutocomplete",value:function(e,t){var n=e.selectedIndex,a=this.props,o=a.textAreaAutocomplete,r=a.changeInputValue;if(o){var i=o.type,s=o.results,l=o.selectedIndex,c=o.selectionStart,u=o.selectionEnd;void 0===n&&(n=l);var d=s[n],p=d.isDup?d.fullnameWithTitle:d.fullname;if("mention"===i&&(d="@"+(p||d.content)),d){var f=de.default.findDOMNode(this.refs["textarea_"+t]),m=f.value.slice(0,c),h=m+(d+=" ")+f.value.slice(u);f.value=h,f.selectionEnd=m.length+d.length+1,r({id:t,value:h}),this.maybeShowAutocomplete(t)}}}},{key:"maybeShowAutocomplete",value:function(e){var t=de.default.findDOMNode(this.refs["textarea_"+e]),n=t.value,a=t.selectionStart,o=t.selectionEnd,r=this.props.maybeShowAutocomplete;r({value:n,selectionStart:a,selectionEnd:o})}},{key:"handleCreateComment",value:function(e,t){var n=this.getTextAreaValue(e),a=this.props,o=a.channelId,r=a.createComment;return!(!n||!n.length)&&(r({content:n,channelId:o,id:e,parentMessageId:t}),"new_comment"!==e&&(this.props.updateReplyShow({id:e,show:!1}),this.props.scrollToComments()),!0)}},{key:"handleTextAreaBlur",value:function(e,t,n){e&&(0,ae.pauseEvent)(e),this.onChangeTextAreaFocused(t,!1,n)}},{key:"handleTextAreaKeyUp",value:function(e,t){if(27===e.which){var n=this.props,a=n.textAreaAutocomplete,o=n.textAreaAutocompleteUnset;a&&o(t)}else this.maybeShowAutocomplete(t)}},{key:"handleTextAreaKeyDown",value:function(e,t){var n=this.props,a=n.textAreaAutocomplete,o=n.textAreaAutocompleteSelectPrev,r=n.textAreaAutocompleteSelectNext;if(37!==e.which&&39!==e.which||e.stopPropagation(),a){var i=a.loading,s=a.results;if(!i&&s&&s.length)switch(e.which){case 40:(0,ae.pauseEvent)(e),r();break;case 38:(0,ae.pauseEvent)(e),o();break;case 9:case 13:(0,ae.pauseEvent)(e);var l=this.props.textAreaAutocomplete.selectedIndex;this.performAutocomplete({selectedIndex:l},t)}}}},{key:"handleKeyPress",value:function(e,t,n){13!==e.which||e.shiftKey||((0,ae.pauseEvent)(e),this.handleCreateComment(t,n))}},{key:"handleTextAreaFocus",value:function(e,t,n){this.onChangeTextAreaFocused(t,!0,n)}},{key:"renderParent",value:function(e,t,n,a){var o=(this.props.loginUser||{}).id;if(n){var r=a[n]||{},i=r.author,s=i.fullname,l=i.id,c=r.mentionEveryone,u=r.mentions,d=r.content,p=c||u.some(function(e){return e.id===o}),f=this.getParsedContent(d,p);return $.default.createElement("div",{className:this.ss("parent-message")},$.default.createElement("a",{className:this.ss("parent-message-author"),href:"/u/"+l},s),f)}if(e){var m=t[e]||{},h=m.author,_=h.fullname,g=h.id,v=m.mentionEveryone,b=m.mentions,y=m.content,w=v||b.some(function(e){return e.id===o}),j=this.getParsedContent(y,w);return $.default.createElement("div",{className:this.ss("parent-message")},$.default.createElement("a",{className:this.ss("parent-message-author"),href:"/u/"+g},_),j)}return null}},{key:"renderReply",value:function(e,t){var n=this,a=this.props,o=a.replyShow,r=a.updateReplyShow,i=a.textAreaAutocomplete,s=a.inputValues;if(!o[e])return null;var l=void 0,c=this.state.textAreaFocused[e]&&i&&Ce[i.type];c&&(l=$.default.createElement(c,{onSelect:function(t){return n.performAutocomplete(t,e)}}));var u=s[e];return $.default.createElement("div",{className:this.ss("reply-wrapper")},$.default.createElement("div",{className:this.ss("input-wrapper")},$.default.createElement(ie.default,{ref:"textarea_"+e,placeholder:this.__("reply_hint"),value:u,autoFocus:!0,onFocus:function(a){n.handleTextAreaFocus(a,e,t)},onBlur:function(a){n.handleTextAreaBlur(a,e,t)},onKeyUp:function(t){return n.handleTextAreaKeyUp(t,e)},onKeyDown:function(t){return n.handleTextAreaKeyDown(t,e)},onKeyPress:function(a){return n.handleKeyPress(a,e,t)},onClick:function(){return n.maybeShowAutocomplete(e)},onChange:function(t){return n.onChange(t,e)}}),l),$.default.createElement("div",{className:this.ss("reply-buttons")},$.default.createElement(re.default,{className:this.ss("button","cancel"),theme:"default",label:this.__("cancel"),onClick:function(){return r({id:e,show:!1})}}),$.default.createElement(re.default,{className:this.ss("button","reply"),theme:"blue",label:this.__("reply"),disabled:!u,onClick:function(){return n.handleCreateComment(e,t)}})))}},{key:"renderOps",value:function(e){var t=this.props,n=t.canPublish,a=t.isAdmin,o=t.openDeleteCommentConfirmDialog,r=t.reportOpen,i=[];if(n||a){var s=!n&&a;i.push($.default.createElement("button",{key:"delete",className:this.ss("delete"),onClick:function(){return o({id:e,deleteAsAdmin:s})}},this.__("delete")))}return $.default.createElement("div",{className:this.ss("ops")},i,$.default.createElement("button",{className:this.ss("report"),onClick:function(){return r({itemId:e,itemType:"comment"})}},this.__("report")))}},{key:"renderCommentsItem",value:function(e,t,n){var a=this.props,o=a.toggleReaction,r=a.loginUser,i=a.replyShow,s=a.updateReplyShow,l=a.jobRoleMap,c=e.id,u=e.content,d=e.author,p=e.mentionEveryone,f=e.mentions,m=e.reactions,h=void 0===m?[]:m,_=e.channelId,g=e.parentMessageId,v=e.upperMessageId,b=(r||{}).id,y=d.id,w=d.fullname,j=c?se.default.extractTimestamp(c):Date.now(),E="/u/"+y,k=p||f.some(function(e){return e.id===b}),C=this.getParsedContent(u,k),O=h.filter(function(e){return"like"===e.type}).length,P=h.some(function(e){return e.user.id===b});O>100&&(O="99+");var S=(0,ae.getUserTitleRole)(d,l);return $.default.createElement("div",{key:c||Date.now(),className:this.ss("comment-wrap")},$.default.createElement("a",{className:this.ss("avatar-wrap"),href:E},$.default.createElement(oe.default,{user:d,size:"small"})),$.default.createElement("div",{className:this.ss("info-wrap")},$.default.createElement("div",{className:this.ss("top-wrapper")},$.default.createElement("div",{className:this.ss("name-line")},$.default.createElement("a",{className:this.ss("name"),href:E},w),d&&d.isStaff&&$.default.createElement(ce.default,{className:this.ss("staff-label"),type:"staff"}),$.default.createElement("div",{className:this.ss("time")},this.__("comment_created_at",{time:j}))),S&&$.default.createElement("div",{className:this.ss("user-title")},S)),$.default.createElement("div",{className:this.ss("comment-content")},this.renderParent(g,t,v,n),$.default.createElement("div",{className:this.ss("comment",!c&&"loading")},C)),$.default.createElement("div",{className:this.ss("buttons")},this.renderOps(c),$.default.createElement("button",{className:this.ss("ifont","ifont-icons-reply","reply"),onClick:function(){return s({id:c,show:!i[c]})}}),$.default.createElement("div",{className:this.ss("reaction-like"),onClick:function(){return o({messageId:c,channelId:_,reactionType:"like"})}},$.default.createElement("button",{className:this.ss("ifont","ifont-icons-like","like",P&&"liked")}),$.default.createElement("div",{className:this.ss("reaction-like-count")},O))),this.renderReply(c,g)))}},{key:"renderCommentList",value:function(){var e=this,t=this.props.comments||{},n=t.items,a=void 0===n?[]:n,r=t.parents,i=void 0===r?[]:r,s=t.uppers,l=void 0===s?[]:s;if(0===a.length)return null;var c=i.reduce(function(e,t){return h({},e,o({},t.id,t))},{}),u=l.reduce(function(e,t){return h({},e,o({},t.id,t))},{}),d=a.map(function(t){return e.renderCommentsItem(t,c,u)});return 0===d.length&&d.push($.default.createElement("div",{key:"empty_comments",className:this.ss("no-comments-tip")},this.__("no_comments_tip"))),$.default.createElement("div",{className:this.ss("comment-list")},d)}},{key:"renderCommentRightIcon",value:function(){var e=this.props,t=e.projectData,n=e.canPublish,a=e.isChannelReadonly,o=e.channelId,r=e.toggleChannelReadonly,i=e.isAdmin,s=(t||{}).id;if(!o||a&&!n&&!i)return null;var l=[];if(n||i){var c=a?this.__("enable_comment"):this.__("disable_comment");l.push($.default.createElement("div",{key:"toggle_comments",className:this.ss("toggle-comments")},$.default.createElement(be.default,{text:c,position:"top"},$.default.createElement(ve.default,{size:"small",checked:!a,onChange:function(){return r({value:!a,channelId:o})}}))))}return a||l.unshift($.default.createElement(be.default,{key:"open_channel",text:this.__("open_channel"),position:"top"},$.default.createElement("a",{className:this.ss("icon","ifont","ifont-icons_blank"),href:"/messages/pj/"+s,target:"_blank"}))),$.default.createElement("div",{className:this.ss("icons-wrapper")},l)}},{key:"renderCommentInputArea",value:function(){var e=this,t=this.props,n=t.projectData,a=t.textAreaAutocomplete,o=t.inputValues,r=t.isChannelReadonly,i=(n||{}).publishedTime,s=this.state.textAreaFocused,l=void 0,c=o.new_comment,u=s.new_comment&&a&&Ce[a.type];return u&&(l=$.default.createElement(u,{key:"textAreaAutocomplete",onSelect:function(t){return e.performAutocomplete(t,"new_comment")}})),r?$.default.createElement("div",{className:this.ss("comment-input-wrapper","disabled")},$.default.createElement("div",{className:this.ss("icon-close-comments","ifont","ifont-icons-close-comments")}),$.default.createElement("div",{className:this.ss("hint-text")},this.__("comment_disabled"))):$.default.createElement("div",{className:this.ss("comment-input-wrapper")},$.default.createElement("div",{className:this.ss("text-area-wrapper")},$.default.createElement(ie.default,{ref:"textarea_new_comment",value:c,readOnly:!i,placeholder:this.__("hint_comment"),onFocus:function(t){return e.handleTextAreaFocus(t,"new_comment",null)},onBlur:function(t){return e.handleTextAreaBlur(t,"new_comment",null)},onKeyUp:function(t){return e.handleTextAreaKeyUp(t,"new_comment")},onKeyDown:function(t){return e.handleTextAreaKeyDown(t,"new_comment")},onKeyPress:function(t){return e.handleKeyPress(t,"new_comment",null)},onClick:function(){return e.maybeShowAutocomplete("new_comment")},onChange:function(t){return e.onChange(t,"new_comment")}}),l),$.default.createElement("div",{className:this.ss("button-wrapper")},$.default.createElement(re.default,{className:this.ss("comment"),theme:"blue",disabled:!c,label:this.__("comment"),onClick:function(){return e.handleCreateComment("new_comment",null)}})))}},{key:"renderComments",value:function(){var e=this.props.isChannelReadonly;return $.default.createElement("div",{className:this.ss("comments")},$.default.createElement("div",{className:this.ss("top-input")},$.default.createElement("div",{className:this.ss("title-wrapper")},$.default.createElement("div",null,this.__("comments")),this.renderCommentRightIcon()),this.renderCommentInputArea()),!e&&this.renderCommentList())}},{key:"renderGeneralItem",value:function(e,t){if(!t||0===t.length)return null;var n=t.reduce(function(e,t){var n=t.name;return""===e?n:e+"; "+n},"");return $.default.createElement("div",{className:this.ss("general-wrapper")},$.default.createElement("div",{className:this.ss("general-title")},e),$.default.createElement("div",{className:this.ss("general-content")},n))}},{key:"renderLanguages",value:function(){var e=this.props.languages;return this.renderGeneralItem(this.__("game_language"),e)}},{key:"renderPlatform",value:function(){var e=this.props.platforms;return this.renderGeneralItem(this.__("support_platform"),e)}},{key:"renderImage",value:function(e){var t=he.default.getStoreImage(e);return t?$.default.createElement(me.default,{src:t,sizes:"38px"}):$.default.createElement("div",{className:this.ss("icon-default","ifont","ifont-icons-defaultstore")})}},{key:"renderOnlineStore",value:function(){var e=this,t=this.props.projectData.storeRelease,n=[];return t&&(n=t.filter(function(e){return!!e.url})),0===n.length?null:$.default.createElement("div",{className:this.ss("store-wrapper")},$.default.createElement("div",{className:this.ss("store-head")},this.__("online_store")),n.map(function(t){var n=t.store,a=t.url,o=t.releaseDate;return $.default.createElement("a",{key:n,className:e.ss("store-item"),href:(0,ae.buildOutWebsiteUrl)(a),target:"_blank"},$.default.createElement("div",{className:e.ss("icon-wrapper",(!n||"other"===n)&&"default")},e.renderImage(n)),$.default.createElement("div",{className:e.ss("info")},$.default.createElement("div",{className:e.ss("store-title")},n&&"other"!==n?e.__(n):(0,ae.getHost)(a)),o&&$.default.createElement("div",{className:e.ss("release-time")},e.__("release_time",{time:o}))))}))}},{key:"renderPressKit",value:function(){var e=this.props.projectData,t=e.pressKitUrl,n=e.contactUrl,a=(t||{}).url,o=(n||{}).url;return a||o?$.default.createElement("div",{className:this.ss("press-kit")},$.default.createElement("div",{className:this.ss("sub-title")},this.__("pressKit")),a&&$.default.createElement("a",{href:(0,ae.buildOutWebsiteUrl)(a),target:"_blank",rel:"nofollow",className:this.ss("item")},this.__("download_press_kit")),o&&$.default.createElement("a",{href:(0,ae.buildOutWebsiteUrl)(o),target:"_blank",rel:"nofollow",className:this.ss("item")},this.__("press_contact"))):null}},{key:"render",value:function(){var e=this.props,t=e.comments,n=e.loadMore,a=e.loadMoreStatus,o=e.isChannelReadonly,r=e.deleteCommentConfirmId,i=e.deleteCommentStatus,s=e.deleteComment,l=e.closeDeleteCommentConfirmDialog,c=(t||{}).hasMore;return $.default.createElement("div",{className:this.ss("comments-wrapper")},$.default.createElement("div",{className:this.ss("content")},$.default.createElement("div",{className:this.ss("left")},$.default.createElement(fe.default,null),$.default.createElement(pe.default,null),this.renderLanguages(),this.renderPlatform(),this.renderOnlineStore(),this.renderPressKit(),$.default.createElement(ge.default,null)),$.default.createElement("div",{className:this.ss("right")},this.renderComments(),!o&&c&&$.default.createElement("div",{className:this.ss("load-more")},$.default.createElement(_e.default,{loadMoreStatus:a,onPage:function(){return n()},hasMore:function(){return c}})))),$.default.createElement(ye.default,{open:!!r,confirmStatus:i,title:this.__("delete_comment"),theme:"delete",description:this.__("delete_comment_confirm"),onConfirm:function(){return s()},onClose:function(){return l()}}))}}]),t}(),f.propTypes={projectData:Z.default.object,userMap:Z.default.object,teamMap:Z.default.object,jobRoleMap:Z.default.object,loginUser:Z.default.object,edit:Z.default.bool,comments:Z.default.object,hottestComments:Z.default.object,replyShow:Z.default.object,textAreaAutocomplete:Z.default.object,channelId:Z.default.string,inputValues:Z.default.object,languages:Z.default.array,platforms:Z.default.array,loadMoreStatus:Z.default.string,canPublish:Z.default.bool,isChannelReadonly:Z.default.bool,isAdmin:Z.default.bool,deleteCommentConfirmId:Z.default.string,deleteCommentStatus:Z.default.string,toggleReaction:Z.default.func,updateReplyShow:Z.default.func,textAreaAutocompleteUnset:Z.default.func,textAreaAutocompleteSelectNext:Z.default.func,textAreaAutocompleteSelectPrev:Z.default.func,maybeShowAutocomplete:Z.default.func,createComment:Z.default.func,changeReply:Z.default.func,changeInputValue:Z.default.func,loadMore:Z.default.func,toggleChannelReadonly:Z.default.func,scrollToComments:Z.default.func,deleteComment:Z.default.func,openDeleteCommentConfirmDialog:Z.default.func,closeDeleteCommentConfirmDialog:Z.default.func,reportOpen:Z.default.func},p=m))||p)||p)||p);t.default=Oe},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["project.textAreaAutocomplete"],["project.textAreaAutocomplete"]),_=s(["project.textAreaAutocompleteUnset"],["project.textAreaAutocompleteUnset"]),g=s(["project.textAreaAutocompleteSelectIndex"],["project.textAreaAutocompleteSelectIndex"]),v=a(n(2)),b=a(n(1)),y=a(n(3)),w=n(5),j=n(0),E=a(n(16)),k=a(n(490)),C=a(n(4)),O=a(n(935)),P=a(n(6)),S=a(n(936)),N=(l=(0,w.decorator)({textAreaAutocomplete:(0,j.state)(h),textAreaAutocompleteUnset:(0,j.signal)(_),textAreaAutocompleteSelectIndex:(0,j.signal)(g)}),c=(0,C.default)(O.default),u=(0,P.default)(S.default),l(d=c(d=u((f=p=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,y.default),m(t,[{key:"componentWillUnmount",value:function(){(0,this.props.textAreaAutocompleteUnset)()}},{key:"renderRow",value:function(e,t){if(e.fullname){var n=e,a=n.isDup?n.fullnameWithTitle:n.fullname;return b.default.createElement("li",t,b.default.createElement(E.default,{className:this.ss("avatar"),user:n,size:"xxxsmall"}),b.default.createElement("span",{className:this.ss("command")},a))}var o="everyone"===e.content?this.__("at_everyone"):e.content;return b.default.createElement("li",t,b.default.createElement("span",{className:this.ss("command","every-command")},"@"+o))}},{key:"render",value:function(){var e=this,t=this.props,n=t.textAreaAutocomplete,a=t.onSelect,o=t.textAreaAutocompleteSelectIndex,r=n.loading,i=n.results,s=n.selectedIndex,l=void 0;l=r?b.default.createElement("div",{className:this.ss("spinner-wrap")},b.default.createElement(k.default,{className:this.ss("spinner")})):b.default.createElement("ul",null,i.map(function(t,n){return e.renderRow(t,{key:n,className:e.ss(s===n&&"active"),onMouseDown:function(){return a({selectedIndex:n})},onMouseEnter:function(){return o({selectedIndex:n})}})}));var c=i&&i.length>0;return b.default.createElement("div",{className:this.ss("autocomplete",!c&&"hide")},b.default.createElement("div",{className:this.ss("autocomplete-inner")},l))}}]),t}(),p.propTypes={textAreaAutocomplete:v.default.object.isRequired,onSelect:v.default.func.isRequired,textAreaAutocompleteUnset:v.default.func,textAreaAutocompleteSelectIndex:v.default.func},d=f))||d)||d)||d);t.default=N},function(e,t){e.exports={spinner:"spinner_3oLGF9pY","spinner-inner":"spinner-inner_3M4-9QcD","spinner-item":"spinner-item_1mfGoALa","spinner-wandering-cubes":"spinner-wandering-cubes_2oKS29LQ","spinner-simple":"spinner-simple_1y1wwwrK","spinner-chasing-dots":"spinner-chasing-dots_3Or64aDB","spinner-chasing-dots-rotate":"spinner-chasing-dots-rotate_3o7YkxIA","spinner-chasing-dots-bounce":"spinner-chasing-dots-bounce_2U6mBT2l"}},function(e,t){e.exports={autocomplete:"autocomplete_3qpcML24","autocomplete-inner":"autocomplete-inner_1hQ6eRkN","spinner-wrap":"spinner-wrap_2yDFPjr6",spinner:"spinner_PC6U860a","header-wrap":"header-wrap_2XuA6X4v",header:"header_3L-VJPM8","header-tip":"header-tip_tq1ECiLv",avatar:"avatar_2vD5eWTv",status:"status_36KP5Uf8",command:"command_3gtvmPo8","every-command":"every-command_3iwMUw7h","command-icon":"command-icon_3Zqm3TN2","command-description":"command-description_gCBtPxBF",active:"active_3U_VA39e",hide:"hide_1MCHO0Sg"}},function(e,t){e.exports={at_everyone:"at_everyone_3zZY"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["project.contributors"],["project.contributors"]),_=s(["project.userMap"],["project.userMap"]),g=s(["project.jobRoleMap"],["project.jobRoleMap"]),v=a(n(2)),b=a(n(1)),y=n(5),w=n(0),j=a(n(3)),E=n(11),k=a(n(16)),C=a(n(4)),O=a(n(938)),P=a(n(6)),S=a(n(939)),N=(l=(0,y.decorator)({contributors:(0,w.state)(h),userMap:(0,w.state)(_),jobRoleMap:(0,w.state)(g)}),c=(0,C.default)(O.default),u=(0,P.default)(S.default),l(d=c(d=u((f=p=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,j.default),m(t,[{key:"renderContributors",value:function(){var e=this,t=this.props,n=t.contributors,a=t.userMap,o=t.jobRoleMap;return n.map(function(t){var n=t.id,r=t.userId,i=t.title,s=a[r],l=(s||{}).fullName,c=(0,E.getUserTitleRole)(s,o),u="/u/"+r;return b.default.createElement("div",{key:n,className:e.ss("item")},b.default.createElement("div",{className:e.ss("basic-info")},b.default.createElement("div",{className:e.ss("left")},b.default.createElement("a",{className:e.ss("name"),href:u},l),b.default.createElement("div",{className:e.ss("user-title")},c)),b.default.createElement("a",{className:e.ss("avatar"),href:u},b.default.createElement(k.default,{user:s,size:"xsmall"}))),b.default.createElement("div",{className:e.ss("description")},i))})}},{key:"render",value:function(){var e=this.props,t=e.contributors,n=e.userMap;return t&&n&&0!==t.length?b.default.createElement("div",{className:this.ss("contributors")},b.default.createElement("div",{className:this.ss("title")},this.__("contributors")),b.default.createElement("div",{className:this.ss("items")},this.renderContributors())):null}}]),t}(),p.propTypes={contributors:v.default.array,userMap:v.default.object,jobRoleMap:v.default.object},d=f))||d)||d)||d);t.default=N},function(e,t){e.exports={contributors:"contributors_mtqdxQcH",title:"title_1MPFCTOv",items:"items_XOYTR85b",item:"item_27S2esix","basic-info":"basic-info_36TeU8Jd",left:"left_2ObklgMi",name:"name_19mJBoea","user-title":"user-title_1VymHbwO",avatar:"avatar_1MzbJBnZ",description:"description_3lDU4AEA"}},function(e,t){e.exports={contributors:"contributors_Q-TB"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["loginUser"],["loginUser"]),_=s(["project.projectData"],["project.projectData"]),g=s(["project.userMap"],["project.userMap"]),v=s(["project.teamMap"],["project.teamMap"]),b=s(["project.jobRoleMap"],["project.jobRoleMap"]),y=s(["project.followMap"],["project.followMap"]),w=s(["project.isTeamManager"],["project.isTeamManager"]),j=s(["project.followStatus"],["project.followStatus"]),E=s(["project.mouseOver"],["project.mouseOver"]),k=s(["project.toggleFollow"],["project.toggleFollow"]),C=s(["project.mouseOut"],["project.mouseOut"]),O=a(n(2)),P=a(n(1)),S=n(5),N=n(0),M=a(n(3)),T=n(11),x=a(n(16)),I=a(n(24)),R=a(n(13)),D=n(7),A=a(n(4)),U=a(n(941)),L=a(n(6)),z=a(n(942)),W=(l=(0,S.decorator)({loginUser:(0,N.state)(h),projectData:(0,N.state)(_),userMap:(0,N.state)(g),teamMap:(0,N.state)(v),jobRoleMap:(0,N.state)(b),followMap:(0,N.state)(y),isTeamManager:(0,N.state)(w),followStatus:(0,N.state)(j),mouseOver:(0,N.state)(E),toggleFollow:(0,N.signal)(k),projectMouseOver:(0,N.signal)(E),projectMouseOut:(0,N.signal)(C)}),c=(0,A.default)(U.default),u=(0,L.default)(z.default),l(d=c(d=u((f=p=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,M.default),m(t,[{key:"renderStatistics",value:function(e){var t=this.props,n=t.projectData,a=t.userMap,o=t.teamMap,r=n||{},i=r.userId,s=r.teamId,l=0,c=0,u=0,d="";if(e){var p=(o&&o[s]||{}).stats||{};l=p.projectsCount,c=p.likeCount,u=p.membersCount,d=this.__("follow_hint",{n:u})}else{var f=a&&a[i]||{};l=f.projectCount,c=f.likeCount,u=f.followCount,d=this.__("member_hint",{n:u})}return P.default.createElement("div",{className:this.ss("statistics")},P.default.createElement(I.default,{text:this.__("project_hint",{n:l}),position:"top"},P.default.createElement("div",{className:this.ss("project-wrap")},P.default.createElement("div",{className:this.ss("project","ifont","ifont-icons-project")}),(0,T.formatNumber)(l))),P.default.createElement("div",{className:this.ss("sep")}),P.default.createElement(I.default,{text:this.__("like_hint",{n:c}),position:"top"},P.default.createElement("div",{className:this.ss("like-wrap")},P.default.createElement("div",{className:this.ss("like","ifont","ifont-icons-like")}),(0,T.formatNumber)(c))),P.default.createElement("div",{className:this.ss("sep")}),P.default.createElement(I.default,{text:d,position:"top"},P.default.createElement("div",{className:this.ss("follow-wrap")},P.default.createElement("div",{className:this.ss("follow","ifont","ifont-icons-user")}),(0,T.formatNumber)(u))))}},{key:"renderButtons",value:function(){return"team"===this.props.projectData.ownerType?this.renderTeamFollowButton():this.renderUserFollowButton()}},{key:"renderTeamFollowButton",value:function(){var e=this.props,t=e.projectData.teamId;return e.isTeamManager?null:this.renderFollowButton(t,"team")}},{key:"renderUserFollowButton",value:function(){var e=this.props,t=e.projectData.userId;return(e.loginUser||{}).id===t?null:this.renderFollowButton(t,"user")}},{key:"renderFollowButton",value:function(e,t){var n=this.props,a=n.followMap,o=n.followStatus,r=n.mouseOver,i=n.toggleFollow,s=n.projectMouseOver,l=n.projectMouseOut,c=(0,D.isLoading)(o[e]);if(a&&a[e]){var u=r[e]?"unFollow":"following";return P.default.createElement(R.default,{label:this.__(u),className:this.ss("button"),theme:"primary",loading:c,onClick:function(){return i({followeeId:e,type:t})},onMouseOver:function(){return s({authorId:e})},onMouseOut:function(){return l({authorId:e})}})}return P.default.createElement(R.default,{label:this.__("follow"),className:this.ss("button"),theme:"blue",loading:c,gaTag:"GA_btn_follow",onClick:function(){return i({followeeId:e,type:t})}})}},{key:"render",value:function(){var e=this.props,t=e.projectData,n=e.userMap,a=e.teamMap,o=e.jobRoleMap,r=t||{},i=r.userId,s=r.teamId,l="team"===r.ownerType,c=n&&n[i]||a&&a[s]||{},u=l?"/t/"+c.id:"/u/"+c.id,d=c.fullName||c.name,p=(0,T.getUserTitleRole)(c,o);return P.default.createElement("div",{className:this.ss("author")},P.default.createElement("a",{className:this.ss("avatar"),href:u},P.default.createElement(x.default,{user:c,size:"xlarge",shape:l?"square":"circle"})),P.default.createElement("a",{className:this.ss("username"),href:u},d),p&&P.default.createElement("div",{className:this.ss("title")},p),this.renderStatistics(l),this.renderButtons())}}]),t}(),p.propTypes={loginUser:O.default.object,projectData:O.default.object,userMap:O.default.object,teamMap:O.default.object,jobRoleMap:O.default.object,followMap:O.default.object,isTeamManager:O.default.bool,followStatus:O.default.object,mouseOver:O.default.object,toggleFollow:O.default.func,projectMouseOver:O.default.func,projectMouseOut:O.default.func},d=f))||d)||d)||d);t.default=W},function(e,t){e.exports={author:"author_1sKDwUsH",avatar:"avatar_3R5g6EcG",username:"username_flTP_FUt",title:"title_1YQ09OSY",statistics:"statistics_262YZ37n","project-wrap":"project-wrap_9m-5Bd8p","like-wrap":"like-wrap_QNMGeMHo","follow-wrap":"follow-wrap_1aSuFvfC",project:"project_3xRTV_7a",like:"like_3SqKrq8e",follow:"follow_w-PO5gWM",sep:"sep_s79nuikw",button:"button_3gasB6h_"}},function(e,t){e.exports={project_hint:"project_hint_vHOt",like_hint:"like_hint_3rAb",follow_hint:"follow_hint_1s_d",member_hint:"member_hint_ihxi",connection:"connection_byc6",pending:"pending_1ftV",accept:"accept_2loq",message:"message_3eP4",follow:"follow_VQYP",following:"following_7zbs",un_follow:"un_follow_1A30"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u,d,p,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),m=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["project.projectData"],["project.projectData"]),h=a(n(2)),_=a(n(1)),g=a(n(3)),v=n(5),b=n(0),y=n(11),w=n(150),j=a(n(4)),E=a(n(944)),k=a(n(6)),C=a(n(945)),O=(s=(0,v.decorator)({projectData:(0,b.state)(m)}),l=(0,j.default)(E.default),c=(0,k.default)(C.default),s(u=l(u=c((p=d=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,g.default),f(t,[{key:"render",value:function(){var e=this,t=(this.props.projectData.socialUrl||[]).filter(function(e){return e.url});if(!t||0===t.length)return null;var n=t.map(function(t){var n=t.site,a=t.url,o=n||(0,w.getSocialUrlSite)(a)||"defaultstore";return _.default.createElement("a",{key:o,className:e.ss("item"),href:(0,y.buildOutWebsiteUrl)(a),target:"_blank",rel:"nofollow"},_.default.createElement("div",{className:e.ss("icon",o+"-icon","ifont","ifont-icons-"+o)}))});return _.default.createElement("div",{className:this.ss("social")},_.default.createElement("div",{className:this.ss("title")},this.__("follow_us_on")),_.default.createElement("div",{className:this.ss("items")},n))}}]),t}(),d.propTypes={projectData:h.default.object},u=p))||u)||u)||u);t.default=O},function(e,t){e.exports={social:"social_380-nPEK",title:"title_2qSTkNuk",items:"items_213t3yER",item:"item_363lWfX5",icon:"icon_6nH0jS_L","google-icon":"google-icon_2M2w3IU-","twitter-icon":"twitter-icon_2tJuQXzb","facebook-icon":"facebook-icon_OqvRPCbN","linkedin-icon":"linkedin-icon_1YPYBoNE","instagram-icon":"instagram-icon_2TPnkO1i","personal-icon":"personal-icon_EAb73lZl","github-icon":"github-icon_MkE-uaiJ","indiedb-icon":"indiedb-icon_1hxoKkla","qq-icon":"qq-icon_33DqVaVC","steam-icon":"steam-icon_2MU-rk-4","tumblr-icon":"tumblr-icon_2SICEs6v","twitch-icon":"twitch-icon_3Gxn_JUS","vimeo-icon":"vimeo-icon_vmHphHEN","vk-icon":"vk-icon_1ySPjSdA","weibo-icon":"weibo-icon_14XPQAi3","youtube-icon":"youtube-icon_3OBlDJav","pinterest-icon":"pinterest-icon_1kejYeEl","reddit-icon":"reddit-icon_2qqoZTKN","defaultstore-icon":"defaultstore-icon_jh0u7JgY","medium-icon":"medium-icon_1Av99_QR","behance-icon":"behance-icon_eRXAv_42","artstation-icon":"artstation-icon_e84lEeKg","sketchfab-icon":"sketchfab-icon_2fx2s5Wf","dribbble-icon":"dribbble-icon_3MLg4Pw7"}},function(e,t){e.exports={follow_us_on:"follow_us_on_1hj7"}},function(e,t){e.exports={"comments-wrapper":"comments-wrapper_1EvtKQaV",content:"content_3CNnJGqc",left:"left_1k5OscDf","general-wrapper":"general-wrapper_1Pykesle","general-title":"general-title_1vR_DxHo","general-content":"general-content_KxKmB4sA","store-wrapper":"store-wrapper_3vwe_PEZ","store-head":"store-head_2-epyvQf","store-item":"store-item_hIf9M-19","icon-wrapper":"icon-wrapper_2z1dS1jj",default:"default_3DJvlRhJ","icon-default":"icon-default_1d484YTv",info:"info_3R5JrTpt","store-title":"store-title_2-GH946_","release-time":"release-time_29regGo6","press-kit":"press-kit_2rhXoDN8","sub-title":"sub-title_2WMPXIbN",item:"item_YBaeUlvO",right:"right_1T7p4-0N",comments:"comments_3kJl7mPx","top-input":"top-input_1vhUjqEj","title-wrapper":"title-wrapper_1_faVINE","icons-wrapper":"icons-wrapper_2RpSwug9","toggle-comments":"toggle-comments_HE9jhgcA",icon:"icon_2CcgqoQu","comment-input-wrapper":"comment-input-wrapper_l3LaOkDj",disabled:"disabled_1ypSDplG","icon-close-comments":"icon-close-comments_2bb2nDGs","hint-text":"hint-text__JaxEhzZ","text-area-wrapper":"text-area-wrapper_2FETtR3N","button-wrapper":"button-wrapper_GtXgKiEW",comment:"comment_xMQDXHio","load-more":"load-more_1O-Dxjgf","comment-list":"comment-list_1SziEuFH","no-comments-tip":"no-comments-tip_2Zw97pkl","comment-wrap":"comment-wrap_QQ-0U85m","info-wrap":"info-wrap_329rU1PO",buttons:"buttons_3oT07ds7",ops:"ops_33Fmf2pa","avatar-wrap":"avatar-wrap_2qo70qKd","top-wrapper":"top-wrapper_3m4qwoLB","name-line":"name-line_3hL_cm8o",name:"name_9bsStTZR","staff-label":"staff-label_2d26m5UM",time:"time_X7lHmdWo","user-title":"user-title_3Slr2OLm","comment-content":"comment-content_1HySwY01","parent-message":"parent-message_2JfbensP","parent-message-author":"parent-message-author_2sydk7vT",loading:"loading_tGJNDM3t",reply:"reply_1AerWkxZ","reaction-like":"reaction-like_2aUEi-hW",like:"like_N5yGxGuz",liked:"liked_2_is9hrN",report:"report_ydCLzXq7",delete:"delete_3ZoaoYJS","reply-wrapper":"reply-wrapper_1tem80qB","input-wrapper":"input-wrapper_8V62M2UX","reply-buttons":"reply-buttons_12SERuyH",cancel:"cancel_2vE_xuD0","view-cmt-wrap":"view-cmt-wrap_KHEc8U6M","view-cmt":"view-cmt_w2eAsHgr",hide:"hide_2vMzitJ-"}},function(e,t){e.exports={comments:"comments_cjlL",hint_comment:"hint_comment_3b8Z",comment:"comment_21pt",no_comments_tip:"no_comments_tip_2TrH",comment_created_at:"comment_created_at_1SJ3",reply_hint:"reply_hint_1JJD",cancel:"cancel_3z-l",reply:"reply_2uUD",game_language:"game_language_pA22",support_platform:"support_platform_23cY",play_station:"play_station_EZ78",release_time:"release_time_uDQl",download_press_kit:"download_press_kit_22lx",press_contact:"press_contact_2nUn",pressKit:"pressKit_16bb",online_store:"online_store_bsXn",comment_disabled:"comment_disabled_33w0",disable_comment:"disable_comment_16wh",enable_comment:"enable_comment_1ccS",open_channel:"open_channel_1eGF",windows:"windows_YWWI",xbox:"xbox_1aU5",winphone:"winphone_lkrb",tizen:"tizen_1K7Z",steam:"steam_1GLG",playstation:"playstation_SM4U",oculus:"oculus_2_j9",gog:"gog_3glo",gear_vr:"gear_vr_14HR",facebook:"facebook_2vse",google_play:"google_play_1Jbk",humble:"humble_3G_B",nintendo:"nintendo_38vu",kongregate:"kongregate_2Bxl",itch:"itch_1wkW",indie_game:"indie_game_STnd",itune:"itune_5bR4",amazon:"amazon_3sp9",other:"other_3dHI",delete:"delete_2rsZ",report:"report_36Sy",delete_comment:"delete_comment_Ghfe",delete_comment_confirm:"delete_comment_confirm_3rpn"}},function(e,t){e.exports={wrapper:"wrapper_2nMZJVWG",popup:"popup_2O4js6qR"}},function(e,t){e.exports={return:"return_3EaCFZdI",popup:"popup_XNOymdy7",inner:"inner_1O5lw_az","icon-top":"icon-top_3LTMMUDj",hide:"hide_2_dch3mK"}},function(e,t){e.exports={top:"top_3nH5"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ProjectLayoutOnly=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=o(["project"],["project"]),_=o(["header.setting.headerHeight"],["header.setting.headerHeight"]),g=o(["header.setting.sunsetHeight"],["header.setting.sunsetHeight"]),v=o(["header.setWindowSize"],["header.setWindowSize"]),b=o(["project.closeContent"],["project.closeContent"]),y=o(["project.moveToContent"],["project.moveToContent"]),w=o(["currentPath"],["currentPath"]),j=a(n(2)),E=a(n(1)),k=a(n(3)),C=n(5),O=n(0),P=a(n(137)),S=a(n(75)),N=a(n(138)),M=a(n(17)),T=a(n(952)),x=a(n(954)),I=a(n(1002)),R=a(n(142)),D=a(n(1012)),A=a(n(76)),U=a(n(4)),L=a(n(1015)),z=t.ProjectLayoutOnly=(l=(0,U.default)(L.default))((d=u=function(e){function t(){var e,n,a,o;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.refMap={},o=n,i(a,o)}return s(t,k.default),m(t,[{key:"componentDidMount",value:function(){this.props.setWindowSize()}},{key:"scrollTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.refMap.pageScroller&&this.refMap.pageScroller.scrollTo(e,t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,a=t.onProjectUpdate,o=t.project,r=t.onScroll,i=t.onScrollEnd,s=t.mediaData,l=t.mediaSignals,c=t.closeContent,u=t.moveToContent,d=t.headerHeight,p=t.hideHeader,f=t.hideFooter,m=t.onPostUpdate,h=t.currentPath,_=t.sunsetHeight,g=!("/learn-more"===h)?d+_:d,v=o||{},b=v.activeContentId,y=v.contentMap;return E.default.createElement("div",{id:"pageContent"},E.default.createElement(P.default,null),!p&&E.default.createElement(S.default,null),E.default.createElement(M.default,{ref:function(t){e.refMap.pageScroller=t},onScroll:r,onScrollEnd:i},E.default.createElement("div",{id:"pageBody",className:this.ss("project-layout",f&&"hide-footer"),style:{marginTop:p?0:g}},n),E.default.createElement("div",{className:this.ss("footer-nonsticky")},!f&&E.default.createElement(N.default,{type:"non-sticky"}))),E.default.createElement(D.default,{needRedirect:!0}),E.default.createElement(A.default,null),E.default.createElement(T.default,{onProjectUpdate:a}),E.default.createElement(x.default,{onPostUpdate:m}),E.default.createElement(I.default,null),E.default.createElement(R.default,{mediaSignals:{closeContent:c,moveToContent:u},mediaData:{activeId:b,contentMap:y},skipLoading:!0}),!!s&&E.default.createElement(R.default,{mediaSignals:l,mediaData:s}),E.default.createElement("div",{className:this.ss("footer-sticky")},!f&&E.default.createElement(N.default,{type:"sticky"})))}}]),t}(),u.propTypes={children:j.default.node,onProjectUpdate:j.default.func,onPostUpdate:j.default.func,mediaData:j.default.object,mediaSignals:j.default.object,project:j.default.object,headerHeight:j.default.number,sunsetHeight:j.default.number,currentPath:j.default.string,hideHeader:j.default.bool,hideFooter:j.default.bool,setWindowSize:j.default.func,closeContent:j.default.func,moveToContent:j.default.func,onScroll:j.default.func,onScrollEnd:j.default.func},c=d))||c,W=(p=(0,C.decorator)({project:(0,O.state)(h),headerHeight:(0,O.state)(_),sunsetHeight:(0,O.state)(g),setWindowSize:(0,O.signal)(v),closeContent:(0,O.signal)(b),moveToContent:(0,O.signal)(y),currentPath:(0,O.state)(w)}))(f=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,z),t}())||f;t.default=W},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),m=s(["header.setting.headerHeight"],["header.setting.headerHeight"]),h=s(["project.activeId"],["project.activeId"]),_=s(["project.activeContentId"],["project.activeContentId"]),g=s(["project.projectData.slug"],["project.projectData.slug"]),v=s(["project.projectData.type"],["project.projectData.type"]),b=s(["project.projectIds"],["project.projectIds"]),y=s(["project.getProjectStatus"],["project.getProjectStatus"]),w=s(["project.closeProject"],["project.closeProject"]),j=s(["project.moveToProject"],["project.moveToProject"]),E=a(n(2)),k=a(n(1)),C=a(n(3)),O=n(5),P=n(0),S=a(n(486)),N=a(n(17)),M=a(n(491)),T=n(7),x=n(11),I=a(n(4)),R=a(n(953)),D=60,A=(l=(0,O.decorator)({headerHeight:(0,P.state)(m),activeId:(0,P.state)(h),activeContentId:(0,P.state)(_),projectId:(0,P.state)(g),projectType:(0,P.state)(v),projectIds:(0,P.state)(b),getProjectStatus:(0,P.state)(y),closeProject:(0,P.signal)(w),moveToProject:(0,P.signal)(j)}),c=(0,I.default)(R.default),l(u=c((p=d=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={showScrollToTop:!1},a.onScroll=function(e){var t=e.scrollTop,n=a.state.showScrollToTop;t>=D?n||a.setState({showScrollToTop:!0}):n&&a.setState({showScrollToTop:!1}),a.onSocialScroll(t)},a.onClose=function(e){e&&(0,x.pauseEvent)(e);var t=a.props,n=t.activeId,o=t.activeContentId,r=t.closeProject;n&&!o&&r()},a.onPrevious=function(e){e&&(0,x.pauseEvent)(e);var t=a.props,n=t.activeId,o=t.activeContentId,r=t.moveToProject;n&&!o&&r({step:-1})},a.onNext=function(e){e&&(0,x.pauseEvent)(e);var t=a.props,n=t.activeId,o=t.activeContentId,r=t.moveToProject;n&&!o&&r({step:1})},a.scrollTo=function(e){a.refMap.scroller&&a.refMap.scroller.scrollTo(e,!0)},a.refMap={},i=n,r(a,i)}return i(t,C.default),f(t,[{key:"componentDidMount",value:function(){var e=this;this._handKeyDown=function(t){return e.onKeyDown(t)},window.addEventListener("keydown",this._handKeyDown,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this._handKeyDown,!1)}},{key:"onSocialScroll",value:function(e){var t=this.state,n=t.position,a=t.headerHeight,o=this.projectInfo.getMaxSocialScrollTop();if(e>=644)if(e>=o){if("absolute"!==n){var r=o-580-a;this.setState({position:"absolute",deltaTop:r})}}else"fixed"!==n&&this.setState({position:"fixed"});else"fixed"===n&&this.setState({position:"absolute",deltaTop:0})}},{key:"onKeyDown",value:function(e){var t=e.keyCode;if(this.props.activeId)switch(t){case 37:this.onPrevious(e);break;case 39:this.onNext(e);break;case 27:this.onClose(e)}}},{key:"scrollTop",value:function(){this.scrollTo(0)}},{key:"renderProject",value:function(){var e=this,t=this.props,n=t.onProjectUpdate,a=t.projectType,o=this.state,r=o.position,i=o.deltaTop;return k.default.createElement("div",{className:this.ss("project-info")},k.default.createElement(N.default,{ref:function(t){e.refMap.scroller=t},onScroll:this.onScroll},k.default.createElement(S.default,{theme:"popup",type:a,scrollTo:this.scrollTo,onUpdate:n,socialButtonsPosition:r,socialButtonsDeltaTop:i,ref:function(t){e.projectInfo=t}}),k.default.createElement(M.default,{theme:"popup",show:this.state.showScrollToTop,scrollTo:this.scrollTo})))}},{key:"render",value:function(){var e=this.props,t=e.activeId,n=e.projectId,a=e.getProjectStatus,o=e.projectIds;if(!t)return null;var r=(0,T.isSucceeded)(a)&&t===n,i="failed"===a,s=k.default.createElement("div",{className:this.ss("loading-panel")},k.default.createElement("div",{className:this.ss("loading")})),l=!i&&s,c=[];o&&o.length>1&&(c.push(k.default.createElement("div",{key:"before",className:this.ss("arrow-wrap"),onClick:this.onPrevious},k.default.createElement("div",{className:this.ss("arrow","ifont","ifont-icon-arrow-left-bold")}))),c.push(k.default.createElement("div",{key:"next",className:this.ss("arrow-wrap"),onClick:this.onNext},k.default.createElement("div",{className:this.ss("arrow","ifont","ifont-icon-arrow-right-bold")}))));var u=this.renderProject(),d=k.default.createElement("button",{className:this.ss("close"),onClick:this.onClose},k.default.createElement("div",{className:this.ss("icon","ifont","ifont-icon-close")}));return k.default.createElement("div",{className:this.ss("project-popup-wrap")},k.default.createElement("div",{className:this.ss("project-popup"),onClick:this.onClose},c),r?u:l,d)}}]),t}(),d.propTypes={headerHeight:E.default.number,activeId:E.default.string,activeContentId:E.default.string,projectId:E.default.string,projectType:E.default.string,projectIds:E.default.array,getProjectStatus:E.default.string,onProjectUpdate:E.default.func,closeProject:E.default.func,moveToProject:E.default.func},u=p))||u)||u);t.default=A},function(e,t){e.exports={"project-info":"project-info_XQsXA5P-","project-popup":"project-popup_3vmglj2Z","arrow-wrap":"arrow-wrap_1A7id4yn",arrow:"arrow_2ah2gl3U","loading-panel":"loading-panel_MDeBh2KV",loading:"loading_vWKVKH7H",close:"close_3skanIfR"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),m=s(["header.setting.headerHeight"],["header.setting.headerHeight"]),h=s(["post.activeId"],["post.activeId"]),_=s(["post.activeContentId"],["post.activeContentId"]),g=s(["post.postData.id"],["post.postData.id"]),v=s(["post.getPostStatus"],["post.getPostStatus"]),b=s(["post.closePostPopup"],["post.closePostPopup"]),y=s(["post.moveToPost"],["post.moveToPost"]),w=a(n(2)),j=a(n(1)),E=a(n(3)),k=n(5),C=n(0),O=a(n(955)),P=a(n(17)),S=n(7),N=n(11),M=n(18),T=a(n(4)),x=a(n(1001)),I=(l=(0,k.decorator)({headerHeight:(0,C.state)(m),activeId:(0,C.state)(h),activeContentId:(0,C.state)(_),postId:(0,C.state)(g),getPostStatus:(0,C.state)(v),closePostPopup:(0,C.signal)(b),moveToPost:(0,C.signal)(y)}),c=(0,T.default)(x.default),l(u=c((p=d=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={},a.onClick=function(e){(0,M.getClickOutside)([a.postInfo],function(e){return a.onClose(e)})(e)},a.onClose=function(e){e&&(0,N.pauseEvent)(e);var t=a.props,n=t.activeId,o=t.activeContentId,r=t.closePostPopup;n&&!o&&r()},a.onPrevious=function(e){e&&(0,N.pauseEvent)(e);var t=a.props,n=t.activeId,o=t.activeContentId,r=t.moveToPost;n&&!o&&r({step:-1})},a.onNext=function(e){e&&(0,N.pauseEvent)(e);var t=a.props,n=t.activeId,o=t.activeContentId,r=t.moveToPost;n&&!o&&r({step:1})},a.scrollTo=function(e){a.refMap.scroller&&a.refMap.scroller.scrollTo(e,!0)},a.refMap={},i=n,r(a,i)}return i(t,E.default),f(t,[{key:"componentDidMount",value:function(){var e=this;this._handKeyDown=function(t){return e.onKeyDown(t)},window.addEventListener("keydown",this._handKeyDown,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this._handKeyDown,!1)}},{key:"onKeyDown",value:function(e){var t=e.keyCode;if(this.props.activeId)switch(t){case 37:this.onPrevious(e);break;case 39:this.onNext(e);break;case 27:this.onClose(e)}}},{key:"renderPost",value:function(){var e=this,t=this.props.onPostUpdate;return j.default.createElement("div",{className:this.ss("post-info"),onClick:this.onClick},j.default.createElement(P.default,{ref:function(t){e.refMap.scroller=t}},j.default.createElement(O.default,{theme:"popup",ref:function(t){e.postInfo=t},scrollTo:this.scrollTo,onUpdate:t})))}},{key:"render",value:function(){var e=this.props,t=e.activeId,n=e.postId,a=e.getPostStatus;if(!t)return null;var o=(0,S.isSucceeded)(a)&&t===n,r=(0,S.isFailed)(a),i=j.default.createElement("div",{className:this.ss("loading-panel")},j.default.createElement("div",{className:this.ss("loading")})),s=!r&&i,l=j.default.createElement("button",{className:this.ss("close"),onClick:this.onClose},j.default.createElement("div",{className:this.ss("icon","ifont","ifont-icon-close")}));return j.default.createElement("div",{className:this.ss("post-popup-wrap")},j.default.createElement("div",{className:this.ss("post-popup")}),o?this.renderPost():s,l)}}]),t}(),d.propTypes={headerHeight:w.default.number,activeId:w.default.string,activeContentId:w.default.string,postId:w.default.string,getPostStatus:w.default.string,onPostUpdate:w.default.func,closePostPopup:w.default.func,moveToPost:w.default.func},u=p))||u)||u);t.default=I},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u,d,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["post.postData.id"],["post.postData.id"]),m=a(n(2)),h=a(n(1)),_=a(n(12)),g=n(5),v=n(0),b=a(n(3)),y=n(956),w=a(n(499)),j=a(n(4)),E=a(n(1e3)),k=(s=(0,g.decorator)({postId:(0,v.state)(f)}),l=(0,j.default)(E.default),s(c=l((d=u=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={},i=n,r(a,i)}return i(t,b.default),p(t,[{key:"scrollTo",value:function(e){this.props.scrollTo&&this.props.scrollTo(e)}},{key:"scrollToComments",value:function(){var e=_.default.findDOMNode(this.comments).offsetTop;this.scrollTo(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.postId,a=t.onUpdate,o=t.onClick,r=t.theme;return h.default.createElement("div",{className:this.ss("post-info",r),onClick:o},h.default.createElement(y.PagePostFeed,{postId:n,onUpdate:a}),h.default.createElement(w.default,{ref:function(t){e.comments=t},scrollToComments:function(){return e.scrollToComments()}}))}}]),t}(),u.propTypes={postId:m.default.string,theme:m.default.oneOf(["normal","popup"]),scrollTo:m.default.func,onUpdate:m.default.func,onClick:m.default.func},u.defaultProps={theme:"normal"},c=d))||c)||c);t.default=k},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.PagePostFeed=t.GroupPostFeed=t.PostedPostFeed=t.ProfilePostFeed=t.HomePostFeed=t.default=void 0;var l,c,u,d,p,f,m,h,_,g,v,b,y,w,j,E,k,C,O,P,S,N,M,T,x,I,R,D,A,U,L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},z=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),W=s(["currentUserId"],["currentUserId"]),H=s(["post.openRepostDialog"],["post.openRepostDialog"]),B=s(["post.openPostPopup"],["post.openPostPopup"]),q=s(["post.trackPostView"],["post.trackPostView"]),F=s(["header.sendCDPRequest"],["header.sendCDPRequest"]),K=s(["home.postMap.",""],["home.postMap.",""]),G=s(["postId"],["postId"]),V=s(["home.likeMap.",""],["home.likeMap.",""]),J=s(["home.postMap.",".likeCount"],["home.postMap.",".likeCount"]),Y=s(["home.postMap.",".commentCount"],["home.postMap.",".commentCount"]),Q=s(["home.userMap"],["home.userMap"]),X=s(["home.teamMap"],["home.teamMap"]),Z=s(["home.contentMap"],["home.contentMap"]),$=s(["home.postMap"],["home.postMap"]),ee=s(["home.postCommentMap"],["home.postCommentMap"]),te=s(["home.projectMap"],["home.projectMap"]),ne=s(["home.jobMap"],["home.jobMap"]),ae=s(["home.skillMap"],["home.skillMap"]),oe=s(["home.placeMap"],["home.placeMap"]),re=s(["home.groupMap"],["home.groupMap"]),ie=s(["home.likePost"],["home.likePost"]),se=s(["profile.postMap.",""],["profile.postMap.",""]),le=s(["profile.likeMap.",""],["profile.likeMap.",""]),ce=s(["profile.postMap.",".likeCount"],["profile.postMap.",".likeCount"]),ue=s(["profile.postMap.",".commentCount"],["profile.postMap.",".commentCount"]),de=s(["profile.user"],["profile.user"]),pe=s(["profile.contentMap"],["profile.contentMap"]),fe=s(["profile.postMap"],["profile.postMap"]),me=s(["profile.userMap"],["profile.userMap"]),he=s(["profile.teamMap"],["profile.teamMap"]),_e=s(["profile.postCommentMap"],["profile.postCommentMap"]),ge=s(["profile.projectMap"],["profile.projectMap"]),ve=s(["profile.jobMap"],["profile.jobMap"]),be=s(["profile.skillMap"],["profile.skillMap"]),ye=s(["profile.placeMap"],["profile.placeMap"]),we=s(["profile.groupMap"],["profile.groupMap"]),je=s(["profile.likePost"],["profile.likePost"]),Ee=s(["post.postMap.",""],["post.postMap.",""]),ke=s(["post.postMap.",".commentCount"],["post.postMap.",".commentCount"]),Ce=s(["post.contentMap"],["post.contentMap"]),Oe=s(["post.postMap"],["post.postMap"]),Pe=s(["loginUser"],["loginUser"]),Se=s(["group.postMap.",""],["group.postMap.",""]),Ne=s(["group.postMap.",".pinnedTime"],["group.postMap.",".pinnedTime"]),Me=s(["group.postMap.",".featuredTime"],["group.postMap.",".featuredTime"]),Te=s(["group.likeMap"],["group.likeMap"]),xe=s(["group.contentMap"],["group.contentMap"]),Ie=s(["group.userMap"],["group.userMap"]),Re=s(["group.teamMap"],["group.teamMap"]),De=s(["group.postCommentMap"],["group.postCommentMap"]),Ae=s(["group.projectMap"],["group.projectMap"]),Ue=s(["group.jobMap"],["group.jobMap"]),Le=s(["group.skillMap"],["group.skillMap"]),ze=s(["group.placeMap"],["group.placeMap"]),We=s(["group.postMap"],["group.postMap"]),He=s(["group.groupMemberMap"],["group.groupMemberMap"]),Be=s(["group.likePost"],["group.likePost"]),qe=s(["group.pin"],["group.pin"]),Fe=s(["group.unPin"],["group.unPin"]),Ke=s(["group.addFeaturedPost"],["group.addFeaturedPost"]),Ge=s(["group.removeFeaturedPost"],["group.removeFeaturedPost"]),Ve=s(["post.postData"],["post.postData"]),Je=s(["post.postData.likeCount"],["post.postData.likeCount"]),Ye=s(["post.postData.commentCount"],["post.postData.commentCount"]),Qe=s(["post.likeMap.",""],["post.likeMap.",""]),Xe=s(["post.userMap"],["post.userMap"]),Ze=s(["post.teamMap"],["post.teamMap"]),$e=s(["post.projectMap"],["post.projectMap"]),et=s(["post.jobMap"],["post.jobMap"]),tt=s(["post.skillMap"],["post.skillMap"]),nt=s(["post.placeMap"],["post.placeMap"]),at=s(["post.likePost"],["post.likePost"]),ot=a(n(1)),rt=a(n(2)),it=a(n(3)),st=n(5),lt=n(0),ct=a(n(957)),ut=a(n(498)),dt=a(n(141)),pt=a(n(70)),ft=n(108),mt=a(n(4)),ht=a(n(994)),_t=a(n(6)),gt=a(n(140)),vt=(l=(0,st.decorator)({currentUserId:(0,lt.state)(W),openRepostDialog:(0,lt.signal)(H),openPostPopup:(0,lt.signal)(B),trackPostView:(0,lt.signal)(q),sendCDPRequest:(0,lt.signal)(F)}),c=(0,mt.default)(ht.default),u=(0,_t.default)(gt.default),l(d=c(d=u((f=p=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,it.default),z(t,[{key:"onLike",value:function(e,t){var n=this.props.like;e&&n({postId:t})}},{key:"onComment",value:function(e,t){var n=this.props.openPostPopup;e&&n({postId:t})}},{key:"onRepost",value:function(e,t){var n=this.props,a=n.openRepostDialog,o=n.sendCDPRequest;e&&a({postId:t}),o({type:"interaction",data:{postType:"idea",likeClicked:0,commentClicked:0,repostClicked:1}})}},{key:"renderHeadUsers",value:function(e){var t=this,n=this.props.userMap;return e.map(function(e){return ot.default.createElement("a",{key:"user_"+e,className:t.ss("simple-user","follower"),href:"/u/"+e},n[e]&&n[e].fullName)})}},{key:"renderLikeHead",value:function(){var e=this.props.feed,t=e.ownerIds,n=e.type,a=this.renderHeadUsers(t),o=t.length>1,r=this.__("text_"+n);return ot.default.createElement("div",{className:this.ss("action-title")},ot.default.createElement("div",{className:this.ss("follower-list",o&&"mobile-hide")},a),o&&ot.default.createElement("div",{className:this.ss("follower-list","mobile")},this.__("number_people",{number:t.length})),ot.default.createElement("div",{className:this.ss("right-text")},r))}},{key:"renderCardFoot",value:function(){var e=this,t=this.props,n=t.post,a=t.liking,o=t.currentUserId,r=t.cardType,i=t.commentCount,s=t.likeCount,l=t.hideRepost,c=n||{},u=c.id,d=c.authorId,p=(c.quote||{}).quoteId,f={liking:a,likeCount:s,commentCount:i,hideRepost:l,onClickLike:function(){return e.onLike(!a&&d!==o,u)},onClickComment:function(){return e.onComment("detail"!==r,u)},onClickRepost:function(){return e.onRepost(d!==o&&!p,u)}};return ot.default.createElement("div",{className:this.ss("post-foot")},ot.default.createElement(dt.default,f))}},{key:"render",value:function(){var e=this.props,t=e.theme,n=e.cardType,a=e.post,o=e.postCommentMap,r=e.pinnedTime,i=e.featuredTime,s=a||{},l=s.id;if(!0===s.deleted)return null;var c=(0,pt.default)(this.props,"feed","liking","like","openRepostDialog");return ot.default.createElement("div",{className:this.ss("post-feed-wrap",n)},"like"===t&&this.renderLikeHead(),ot.default.createElement("div",{className:this.ss("post-feed")},ot.default.createElement(ct.default,L({key:"post_"+l,pinnedTime:r,featuredTime:i},c)),this.renderCardFoot(),"detail"!==n&&ot.default.createElement(ut.default,{postId:l,postCommentMap:o})))}}]),t}(),p.propTypes={currentUserId:rt.default.string,author:rt.default.object,post:rt.default.object,userMap:rt.default.object,contentMap:rt.default.object,postMap:rt.default.object,postCommentMap:rt.default.object,liking:rt.default.bool,feed:rt.default.object,cardType:rt.default.oneOf(["feed","action","detail","group"]),theme:rt.default.oneOf(["default","like","quote"]),likeCount:rt.default.number,commentCount:rt.default.number,isGroupAdmin:rt.default.bool,hideRepost:rt.default.bool,groupMap:rt.default.object,pinnedTime:rt.default.string,featuredTime:rt.default.string,like:rt.default.func,openRepostDialog:rt.default.func,openPostPopup:rt.default.func,trackPostView:rt.default.func,pinPost:rt.default.func,unPinPost:rt.default.func,addFeaturedPost:rt.default.func,removeFeaturedPost:rt.default.func,sendCDPRequest:rt.default.func},p.defaultProps={cardType:"feed",theme:"default",likeCount:0,commentCount:0,isGroupAdmin:!1,hideRepost:!1},d=f))||d)||d)||d);t.default=vt;t.HomePostFeed=(m=(0,st.decorator)({post:(0,lt.state)(K,(0,lt.props)(G)),liking:(0,lt.state)(V,(0,lt.props)(G)),likeCount:(0,lt.state)(J,(0,lt.props)(G)),commentCount:(0,lt.state)(Y,(0,lt.props)(G)),userMap:(0,lt.state)(Q),teamMap:(0,lt.state)(X),contentMap:(0,lt.state)(Z),postMap:(0,lt.state)($),postCommentMap:(0,lt.state)(ee),projectMap:(0,lt.state)(te),jobMap:(0,lt.state)(ne),skillMap:(0,lt.state)(ae),placeMap:(0,lt.state)(oe),groupMap:(0,lt.state)(re),like:(0,lt.signal)(ie)}))((g=_=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,it.default),z(t,[{key:"render",value:function(){var e=this.props.post;return e&&e.content?ot.default.createElement(vt,L({},this.props,{cardType:"feed"})):null}}]),t}(),_.propTypes={post:rt.default.object},h=g))||h,t.ProfilePostFeed=(v=(0,st.decorator)({post:(0,lt.state)(se,(0,lt.props)(G)),liking:(0,lt.state)(le,(0,lt.props)(G)),likeCount:(0,lt.state)(ce,(0,lt.props)(G)),commentCount:(0,lt.state)(ue,(0,lt.props)(G)),author:(0,lt.state)(de),contentMap:(0,lt.state)(pe),postMap:(0,lt.state)(fe),userMap:(0,lt.state)(me),teamMap:(0,lt.state)(he),postCommentMap:(0,lt.state)(_e),projectMap:(0,lt.state)(ge),jobMap:(0,lt.state)(ve),skillMap:(0,lt.state)(be),placeMap:(0,lt.state)(ye),groupMap:(0,lt.state)(we),like:(0,lt.signal)(je)}))((w=y=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,it.default),z(t,[{key:"render",value:function(){var e=this.props.post;return e&&e.content?ot.default.createElement(vt,L({},this.props,{cardType:"action"})):null}}]),t}(),y.propTypes={post:rt.default.object},b=w))||b,t.PostedPostFeed=(j=(0,st.decorator)({post:(0,lt.state)(Ee,(0,lt.props)(G)),commentCount:(0,lt.state)(ke,(0,lt.props)(G)),contentMap:(0,lt.state)(Ce),postMap:(0,lt.state)(Oe),author:(0,lt.state)(Pe)}),E=(0,mt.default)(ht.default),k=(0,_t.default)(gt.default),j(C=E(C=k((P=O=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,it.default),z(t,[{key:"renderHeaderTag",value:function(e){var t=this.props.groupMemberMap,n=t&&t[e];return(0,ft.isOwner)(n)?ot.default.createElement("div",{className:this.ss("group-label")},this.__("group_owner")):(0,ft.isManager)(n)?ot.default.createElement("div",{className:this.ss("group-label")},this.__("group_admin")):null}},{key:"render",value:function(){var e=this,t=this.props.post;return t&&t.content?ot.default.createElement(vt,L({},this.props,{cardType:"feed",renderHeaderTag:function(t){return e.renderHeaderTag(t)}})):null}}]),t}(),O.propTypes={post:rt.default.object,groupMemberMap:rt.default.object},C=P))||C)||C)||C),t.GroupPostFeed=(S=(0,st.decorator)({post:(0,lt.state)(Se,(0,lt.props)(G)),pinnedTime:(0,lt.state)(Ne,(0,lt.props)(G)),featuredTime:(0,lt.state)(Me,(0,lt.props)(G)),likeMap:(0,lt.state)(Te),contentMap:(0,lt.state)(xe),userMap:(0,lt.state)(Ie),teamMap:(0,lt.state)(Re),postCommentMap:(0,lt.state)(De),projectMap:(0,lt.state)(Ae),jobMap:(0,lt.state)(Ue),skillMap:(0,lt.state)(Le),placeMap:(0,lt.state)(ze),postMap:(0,lt.state)(We),groupMemberMap:(0,lt.state)(He),like:(0,lt.signal)(Be),pinPost:(0,lt.signal)(qe),unPinPost:(0,lt.signal)(Fe),addFeaturedPost:(0,lt.signal)(Ke),removeFeaturedPost:(0,lt.signal)(Ge)}),N=(0,mt.default)(ht.default),M=(0,_t.default)(gt.default),S(T=N(T=M((I=x=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,it.default),z(t,[{key:"renderHeaderTag",value:function(e){var t=this.props.groupMemberMap[e];return(0,ft.isOwner)(t)?ot.default.createElement("div",{className:this.ss("group-label")},this.__("group_owner")):(0,ft.isManager)(t)?ot.default.createElement("div",{className:this.ss("group-label")},this.__("group_admin")):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.post,a=t.likeMap,o=void 0===a?{}:a;if(!n||!n.content)return null;var r=n.id,i=n.likeCount,s=n.commentCount;return ot.default.createElement(vt,L({},this.props,{liking:o[r],likeCount:i,commentCount:s,renderHeaderTag:function(t){return e.renderHeaderTag(t)},cardType:"group"}))}}]),t}(),x.propTypes={post:rt.default.object,likeMap:rt.default.object,isGroupAdmin:rt.default.bool,groupMemberMap:rt.default.object},T=I))||T)||T)||T),t.PagePostFeed=(R=(0,st.decorator)({post:(0,lt.state)(Ve),likeCount:(0,lt.state)(Je),commentCount:(0,lt.state)(Ye),liking:(0,lt.state)(Qe,(0,lt.props)(G)),userMap:(0,lt.state)(Xe),teamMap:(0,lt.state)(Ze),contentMap:(0,lt.state)(Ce),postMap:(0,lt.state)(Oe),projectMap:(0,lt.state)($e),jobMap:(0,lt.state)(et),skillMap:(0,lt.state)(tt),placeMap:(0,lt.state)(nt),like:(0,lt.signal)(at)}))((U=A=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,it.default),z(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.liking,n=e.commentCount;"liking"in this.props&&t!==this.props.liking&&this.onUpdateLike(e);var a=this.props.commentCount;"commentCount"in this.props&&n!==a&&this.onUpdateComment(e)}},{key:"onUpdateLike",value:function(e){var t=e.liking,n=e.post.id,a=e.likeCount,o=e.onUpdate;o&&o({id:n,type:"like",value:!!t,count:a})}},{key:"onUpdateComment",value:function(e){var t=e.post.id,n=e.commentCount,a=e.onUpdate;a&&a({id:t,type:"comment",value:!0,count:n})}},{key:"render",value:function(){var e=this.props.post;return e&&e.content?ot.default.createElement(vt,L({},this.props,{cardType:"detail"})):null}}]),t}(),A.propTypes={post:rt.default.object,liking:rt.default.bool,likeCount:rt.default.number,commentCount:rt.default.number,onUpdate:rt.default.func},D=U))||D},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,u,d,p,f,m,h,_,g,v,b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},y=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),w=l(["post.content"],["post.content"]),j=l(["post.editMap"],["post.editMap"]),E=a(n(1)),k=a(n(12)),C=a(n(2)),O=a(n(3)),P=n(5),S=n(0),N=a(n(16)),M=a(n(958)),T=a(n(960)),x=a(n(965)),I=a(n(496)),R=a(n(970)),D=a(n(972)),A=a(n(989)),U=n(10),L=a(n(70)),z=n(18),W=a(n(356)),H=a(n(4)),B=a(n(992)),q=a(n(6)),F=a(n(140)),K=(c=(0,P.decorator)({defaultEditorState:(0,U.$editorStateFromJSON)((0,S.props)(w)),editMap:(0,S.state)(j)}),u=(0,H.default)(B.default),d=(0,q.default)(F.default),c(p=u(p=d((m=f=function(e){function t(){var e,n,a,s;r(this,t);for(var l=arguments.length,c=Array(l),u=0;u<l;u++)c[u]=arguments[u];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.onClick=function(e){var t=a.props,n=t.post.id,r=t.openPostPopup,i=t.trackPostView,s=a.getElementsByTagNames(a.cardEditor,["a"]),l=a.getElementsByTagNames(a.cardMedia,["picture","video"]);(0,z.getClickOutside)([a.cardEmbed,a.cardJob,a.cardProject,a.quotePost,a.editEditor,a.headMenu,a.headAvatar,a.headName].concat(o(s),o(l),[a.actionTitle]),function(){return r({postId:n})},function(){return i({postId:n})})(e)},s=n,i(a,s)}return s(t,O.default),y(t,[{key:"getElementsByTagNames",value:function(e,t){var n=[],a=k.default.findDOMNode(e);return a&&t.forEach(function(e){n.push.apply(n,o(a.getElementsByTagName(e)))}),n}},{key:"renderActionTitle",value:function(e){var t=this,n=this.props,a=n.showActionTitle,o=n.groupMap,r=n.post,i=n.projectMap;if(!a)return null;var s=e&&o&&o[e];if(s){var l=s.id,c=s.name;return E.default.createElement("div",{className:this.ss("action-title")},E.default.createElement("div",{className:this.ss("icon-triangle-right","ifont","ifont-icon-triangle-right")}),E.default.createElement("a",{className:this.ss("group-name"),href:"/g/"+l,ref:function(e){t.actionTitle=e}},c))}var u=(r||{}).quote||{},d=u.quoteType,p=u.quoteId;if(p){var f=(i[p]||{}).type;if("project"===d){if("article"===f||"game"===f||"showcase"===f)return E.default.createElement("div",{className:this.ss("action-title")},this.__("action_repost_"+f))}else if("post"===d)return E.default.createElement("div",{className:this.ss("action-title")},this.__("action_repost_post"))}return E.default.createElement("div",{className:this.ss("action-title")},this.__("action_post"))}},{key:"renderHead",value:function(){var e=this,t=this.props,n=t.author,a=t.post,o=t.userMap,r=t.cardType,i=t.theme,s=t.isGroupAdmin,l=t.pinnedTime,c=t.pinPost,u=t.unPinPost,d=t.renderHeaderTag,p=t.featuredTime,f=t.addFeaturedPost,m=t.removeFeaturedPost,h=t.hidePin,_=a||{},g=_.createdTime,v=_.authorId,b=_.groupId,y=n||o&&o[v],w=y||{},j=w.name,k=w.fullName,C=j||k,O=E.default.createElement("div",{className:this.ss("menus"),ref:function(t){e.headMenu=t}},E.default.createElement(R.default,{post:a,cardType:r,isGroupAdmin:s,pinnedTime:l,hidePin:h,featuredTime:p,pinPost:c,unPinPost:u,addFeaturedPost:f,removeFeaturedPost:m})),P={startTime:g,textNow:this.__("time_text_now"),textMin:this.__("time_text_min"),textMins:this.__("time_text_mnins"),textHour:this.__("time_text_hour"),textHours:this.__("time_text_hours"),textYesterday:this.__("time_text_yestarday")};return E.default.createElement("div",{className:this.ss("feed-head")},E.default.createElement("a",{className:this.ss("avatar"),href:"/u/"+v,ref:function(t){e.headAvatar=t}},E.default.createElement(N.default,{user:y,size:"xxxsmall"})),E.default.createElement("div",{className:this.ss("info")},E.default.createElement("a",{className:this.ss("author-name"),href:"/u/"+v,ref:function(t){e.headName=t}},C),d&&d(v),this.renderActionTitle(b),E.default.createElement("div",{className:this.ss("split-dot")}),E.default.createElement("div",{className:this.ss("created-time")},(0,W.default)(P)),"default"===i&&O))}},{key:"renderBody",value:function(){var e=this,t=this.props,n=t.post,a=t.defaultEditorState,o=t.postMap,r=t.editMap,i=t.theme,s=t.cardType,l=t.currentUserId,c=n||{},u=c.id,d=c.authorId,p=c.content,f=c.contentIds,m=c.quote,h=l===d,_=r&&r[u]||{},g="default"===i&&h&&!0===_.open&&_.editType===s,v="detail"!==s,y=void 0;if(p&&!(0,U.isEmptyContent)(a)){var w="editorPost_"+u;y=g?E.default.createElement("div",{className:this.ss("feed-content")},E.default.createElement(x.default,{ref:function(t){e.editEditor=t},sourceEditorKey:w,post:n})):E.default.createElement("div",{className:this.ss("feed-content")},E.default.createElement(I.default,{theme:"post",renderOnly:!0,shouldClick:v,ref:function(t){e.cardEditor=t},editorKey:w,defaultEditorState:a}))}var j=(0,L.default)(this.props,"defaultEditorState","author","post","postCommentMap","liking","feed","theme","likeCount","commentCount","like","openRepostDialog");j.isChild=!0;var k=m||{},C=k.quoteType,O=k.quoteData,P=k.quoteId;if("post"===C&&P){var S=o&&o[P];return E.default.createElement("div",{className:this.ss("feed-body")},y,E.default.createElement(G,b({},j,{theme:"quote",post:S,key:"post_"+P,ref:function(t){e.quotePost=t}})))}return"project"===C&&P?E.default.createElement("div",{className:this.ss("feed-body")},y,E.default.createElement(D.default,b({},j,{ref:function(t){e.cardProject=t},projectId:P,theme:"quote"}))):"job"===C&&P?E.default.createElement("div",{className:this.ss("feed-body")},y,E.default.createElement(A.default,b({},j,{ref:function(t){e.cardJob=t},jobId:P,theme:"quote"}))):"embed"===C&&O&&O.url?E.default.createElement("div",{className:this.ss("feed-body")},y,E.default.createElement(M.default,{ref:function(t){e.cardEmbed=t},embed:O,renderOnly:!0})):E.default.createElement("div",{className:this.ss("feed-body")},y,E.default.createElement(T.default,b({},this.props,{ref:function(t){e.cardMedia=t},contentIds:f})))}},{key:"render",value:function(){var e=this.props,t=e.theme,n=e.cardType;return E.default.createElement("div",{className:this.ss("post-body",t,n),onClick:"detail"!==n?this.onClick:void 0},this.renderHead(),this.renderBody())}}]),t}(),f.propTypes={currentUserId:C.default.string,defaultEditorState:C.default.object,author:C.default.object,post:C.default.object,userMap:C.default.object,contentMap:C.default.object,postMap:C.default.object,editMap:C.default.object,groupMap:C.default.object,cardType:C.default.string,theme:C.default.string,showActionTitle:C.default.bool,isGroupAdmin:C.default.bool,pinnedTime:C.default.string,featuredTime:C.default.string,hidePin:C.default.bool,projectMap:C.default.object,openPostPopup:C.default.func,trackPostView:C.default.func,pinPost:C.default.func,unPinPost:C.default.func,renderHeaderTag:C.default.func,addFeaturedPost:C.default.func,removeFeaturedPost:C.default.func},f.defaultProps={cardType:"feed",theme:"default",showActionTitle:!1},p=m))||p)||p)||p);t.default=K;var G=(h=(0,P.decorator)({defaultEditorState:(0,U.$editorStateFromJSON)((0,S.props)(w))}),_=(0,H.default)(B.default),g=(0,q.default)(F.default),h(v=_(v=g(v=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,K),t}())||v)||v)||v)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),m=s(["currentUserId"],["currentUserId"]),h=s(["post.changeEmbed"],["post.changeEmbed"]),_=a(n(1)),g=a(n(2)),v=a(n(3)),b=n(5),y=n(0),w=a(n(15)),j=n(11),E=a(n(4)),k=a(n(959)),C=(l=(0,b.decorator)({currentUserId:(0,y.state)(m),changeEmbed:(0,y.signal)(h)}),c=(0,E.default)(k.default),l(u=c((p=d=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,v.default),f(t,[{key:"getHost",value:function(e){var t="";if(e){var n=/^http(s)?:\/\/(.*?)\//.exec(e);n&&n.length>=3&&(t=n[2])}return t}},{key:"deleteEmbed",value:function(e){e.preventDefault(),this.props.changeEmbed({value:{}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.renderOnly,a=t.embed||{},o=a.title,r=a.url,i=a.image;if(!r)return null;var s=_.default.createElement("button",{className:this.ss("button-close"),onClick:function(t){return e.deleteEmbed(t)}},_.default.createElement("div",{className:this.ss("close","ifont","ifont-icon-close2")}));return _.default.createElement("a",{className:this.ss("post-embed",n&&"renderOnly"),href:n?r:void 0},i&&_.default.createElement("div",{className:this.ss("embed-image")},_.default.createElement(w.default,{src:(0,j.securedURL)(i),sizes:"1000px",width:705,height:312,maxHeight:312})),_.default.createElement("div",{className:this.ss("embed-info")},r&&_.default.createElement("div",{className:this.ss("info-url")},this.getHost(r)),o&&_.default.createElement("div",{className:this.ss("info-title")},o)),!n&&s)}}]),t}(),d.propTypes={embed:g.default.object,renderOnly:g.default.bool,changeEmbed:g.default.func},d.defaultProps={renderOnly:!1},u=p))||u)||u);t.default=C},function(e,t){e.exports={"post-embed":"post-embed_1Z_p_ejZ",renderOnly:"renderOnly_2crwXIoX","embed-image":"embed-image_3aZdmBfO","embed-info":"embed-info_f44sHSf5","info-title":"info-title_2cYUO2DW","info-url":"info-url_29lN5AAX","button-close":"button-close_Ji-cUtfK"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u,d,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["post.openContent"],["post.openContent"]),m=a(n(1)),h=a(n(2)),_=a(n(3)),g=n(5),v=n(0),b=a(n(139)),y=a(n(4)),w=a(n(964)),j=(s=(0,g.decorator)({openContent:(0,v.signal)(f)}),l=(0,y.default)(w.default),s(c=l((d=u=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.onClick=function(e){var t=a.props,n=t.openContent,o=t.contentIds;n&&e&&n({contentId:e,contentIds:o})},i=n,r(a,i)}return i(t,_.default),p(t,[{key:"getImageSize",value:function(){var e={width:705,height:705},t={width:351,height:705},n={width:351,height:233};return{2:{1:t,2:t},3:{1:t,2:e,3:e},4:{1:e,2:e,3:e,4:e},5:{1:e,2:e,3:e,4:n,5:n},6:{1:e,2:e,3:e,4:e,5:e,6:e},7:{1:n,2:n,3:n,4:n,5:e,6:e,7:e},8:{1:n,2:n,3:e,4:e,5:e,6:e,7:e,8:e},9:{1:e,2:e,3:e,4:e,5:e,6:e,7:e,8:e,9:e}}}},{key:"render",value:function(){var e=this.props,t=e.contentIds,n=e.contentMap,a=e.cardType,o=e.theme,r=e.isChild;if(!t||0===t.length||!n)return null;var i=1===t.length;return m.default.createElement("div",{className:this.ss("post-media",r&&"child",a,o,i?"single":"multiple")},m.default.createElement(b.default,{contentIds:t||[],contentMap:n,onlyShowImage:!1,maxImageCount:9,showMore:!1,enableImageOpen:!0,sizes:this.getImageSize(),onImageClick:this.onClick,maxWrapHeight:r?657:706}))}}]),t}(),u.propTypes={contentIds:h.default.array,contentMap:h.default.object,cardType:h.default.string,theme:h.default.string,openContent:h.default.func,isChild:h.default.bool},u.defaultProps={isChild:!1},c=d))||c)||c);t.default=j},function(e,t){e.exports={image:"image_36QC7Lpw","image-wrapper":"image-wrapper_2ykG4tyI",small:"small_2K5Ezx7P",normal:"normal_3HgFrWy0"}},function(e,t,n){e.exports=n.p+"../styles/i/draft-image.267c804088c2b3457571c31166b45032.png"},function(e,t){e.exports={images:"images_3V3or0K3","image-wrapper":"image-wrapper_3uog2NmI",video:"video_1HZWWSzg","video-icon-wrap":"video-icon-wrap_2C0r3XpX","video-icon-inner":"video-icon-inner_39_0-oV6","video-icon":"video-icon_KDbwylRb","images-1":"images-1_1258MNe1","image-0":"image-0_10mCdGhu","images-2":"images-2_1xN0Sq3y","image-1":"image-1_1mPg-Hnu","images-3":"images-3_3hGUsK14","image-2":"image-2_30jukZQ6","theme-showcase":"theme-showcase_2tzAVwGr","images-4":"images-4_gbxIj6jf","image-3":"image-3_2_PFbGUT","images-5":"images-5_1LNI4ydW","image-4":"image-4_1mWIrpYN","images-6":"images-6_2iLfMGwo","image-5":"image-5_35CrtDeM","images-7":"images-7_JJQ8SV5s","image-6":"image-6_3R69Ysu6","images-8":"images-8_weegbNG5","image-7":"image-7_g9Z_ZFJD","images-9":"images-9_3LkDQenF","image-8":"image-8_1yzMPuji",props:"props_3-IwoSpW",icons:"icons_3fXO3SKg",mwu:"mwu_1C8fxf64","asset-store":"asset-store_17O5SeIp",more:"more_xli_0VaG",top:"top_3wJgWxjq","bottom-right":"bottom-right_F49y9HGL","bottom-bottom":"bottom-bottom_VNGqTM7V"}},function(e,t){e.exports={"post-media":"post-media_Vn21kp17",image:"image_1g3muWCh",child:"child_2VzJAAsv",multiple:"multiple_j_77VxAX","video-icon-wrap":"video-icon-wrap_Mz9KogCs","video-icon-inner":"video-icon-inner_YWONRhkq","video-icon":"video-icon_3QSi9Imr",single:"single_29hVVnhg",feed:"feed_3bwNgE_g",detail:"detail_2KBxip4z",quote:"quote_3YzxoICd",action:"action_MTZmjKgp",video:"video_3zjyzVjq"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["draft.editorStates.",""],["draft.editorStates.",""]),_=s(["sourceEditorKey"],["sourceEditorKey"]),g=s(["post.content"],["post.content"]),v=s(["post.closeEditPost"],["post.closeEditPost"]),b=s(["post.updatePost"],["post.updatePost"]),y=a(n(1)),w=a(n(2)),j=a(n(3)),E=n(5),k=n(0),C=a(n(496)),O=a(n(13)),P=n(10),S=a(n(4)),N=a(n(968)),M=a(n(6)),T=a(n(969)),x=(l=(0,E.decorator)({editorState:(0,k.state)(h,"editorEditPost"),sourceEditorState:(0,k.state)(h,(0,k.props)(_)),defaultEditorState:(0,P.$editorStateFromJSON)((0,k.props)(g)),closeEditPost:(0,k.signal)(v),updatePost:(0,k.signal)(b)}),c=(0,S.default)(N.default),u=(0,M.default)(T.default),l(d=c(d=u((f=p=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.onClosePost=function(){var e=a.props,t=e.post,n=e.closeEditPost,o=t.id;n&&n({postId:o})},i=n,r(a,i)}return i(t,j.default),m(t,[{key:"isContentChanged",value:function(){var e=this.props,t=e.editorState,n=e.sourceEditorState;return!(!t||!n)&&n.getCurrentContent().getPlainText()!==t.getCurrentContent().getPlainText()}},{key:"renderBodyEditor",value:function(){return y.default.createElement("div",{className:this.ss("input-editor")},y.default.createElement(C.default,{theme:"postEdit",editorKey:"editorEditPost",placeholder:this.__("content_hint"),defaultEditorState:this.props.defaultEditorState,textMaxLength:500}))}},{key:"renderPostFoot",value:function(){var e=this.props,t=e.post.id,n=e.updatePost,a=e.editorState,o=a?a.getCurrentContent().getPlainText().length:0,r=o>500,i=this.isContentChanged(),s=[y.default.createElement("div",{key:"btn_cancel",className:this.ss("button","cancel")},y.default.createElement(O.default,{size:"small",widthType:"full",theme:"white",label:this.__("button_cancel"),onClick:this.onClosePost})),y.default.createElement("div",{key:"btn_save",className:this.ss("button","save")},y.default.createElement(O.default,{size:"small",widthType:"full",theme:"blue",label:this.__("button_save"),disabled:r||!i,onClick:function(){return n({postId:t})}}))];return y.default.createElement("div",{className:this.ss("card-foot")},y.default.createElement("div",{className:this.ss("menus")},y.default.createElement("div",{className:this.ss("buttons")},y.default.createElement("div",{className:this.ss("status",r&&"error")},o),s)))}},{key:"render",value:function(){return y.default.createElement("div",{className:this.ss("edit-post")},this.renderBodyEditor(),this.renderPostFoot())}}]),t}(),p.propTypes={post:w.default.object,editorState:w.default.object,defaultEditorState:w.default.object,sourceEditorState:w.default.object,closeEditPost:w.default.func,updatePost:w.default.func},d=f))||d)||d)||d);t.default=x},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.editorKey,n=e.renderOnly,s=e.textMaxLength,l=e.textErrorStyle,c=e.registerActionPath;if(!t)throw new Error("editorKey is empty");var u=s||r,d=l||i;return{onChange:n?void 0:function(e,n){var o=n.getProps,r=n.getEditorState,i=e.getCurrentContent(),s=i.getPlainText();if(s.length>u)return a.EditorState.set(e,{currentContent:(0,a.markTextOverLength)(i,u,d)});var l=o().controller;if(!l.getState("loginUser"))return r();var p=l.getSignal(c),f=l.getState("draft.editorEditable."+t),m=r().getCurrentContent().getPlainText();return f&&s!==m&&p&&p({value:s}),e},decorators:[o.default]}};var a=n(10),o=function(e){return e&&e.__esModule?e:{default:e}}(n(481)),r=500,i="ITALIC"},function(e,t){e.exports={"editor-wrap":"editor-wrap_3ydgr8rG",post:"post_AXtCmwVs",postHint:"postHint_1vsEEU_0",postEdit:"postEdit_eAD5SEX8",repost:"repost_oxCE9EAU",renderOnly:"renderOnly_3JLOZWxw",pointer:"pointer_1xUlJUIu"}},function(e,t){e.exports={"edit-post":"edit-post_1urAHQ2V","card-body":"card-body_3kuACo6Z","input-editor":"input-editor_c10v_roA","card-foot":"card-foot_FTFmjEEz",menus:"menus_374n2cTL",buttons:"buttons_aY9AZuOs",status:"status_2hdID4nM",error:"error_2q97dfzs",button:"button_3DmgGWoo"}},function(e,t){e.exports={content_hint:"content_hint_1Q5Z",text_image:"text_image_1-DK",text_image_hint:"text_image_hint_36Zw",button_save:"button_save_17yW",button_cancel:"button_cancel_1TdO"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,u,d,p,f,m,h=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),_=l(["currentUserId"],["currentUserId"]),g=l(["loginUser"],["loginUser"]),v=l(["report.open"],["report.open"]),b=l(["post.deletePost"],["post.deletePost"]),y=l(["post.openEditPost"],["post.openEditPost"]),w=a(n(2)),j=a(n(1)),E=a(n(3)),k=n(5),C=n(0),O=a(n(25)),P=a(n(96)),S=a(n(4)),N=a(n(971)),M=a(n(6)),T=a(n(140)),x=(0,O.default)({deletePost:null,editPost:null,report:null,pin:null,featured:null}),I=(c=(0,k.decorator)({currentUserId:(0,C.state)(_),loginUser:(0,C.state)(g),reportOpen:(0,C.signal)(v),deletePost:(0,C.signal)(b),openEditPost:(0,C.signal)(y)}),u=(0,S.default)(N.default),d=(0,M.default)(T.default),c(p=u(p=d((m=f=function(e){function t(){var e,n,a,o;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={isDropDownButtonShow:!1},a.onDropDownButtonSwitch=function(e){e!==a.state.isDropDownButtonShow&&a.setState({isDropDownButtonShow:e})},o=n,i(a,o)}return s(t,E.default),h(t,[{key:"onItemClick",value:function(e){var t,n=this,a=this.props,r=a.post,i=a.deletePost,s=a.cardType,l=a.reportOpen,c=a.openEditPost,u=a.loginUser,d=a.isGroupAdmin,p=r||{},f=p.id,m=p.authorId,h=(u||{}).isAdmin,_=d,g=(t={},o(t,x.deletePost,function(){return i({postId:f,deleteType:s,deleteAsAdmin:h,deleteAsGroupAdmin:_})}),o(t,x.editPost,function(){return c({postId:f,editType:s})}),o(t,x.report,function(){return l({itemId:m,itemType:"user"})}),o(t,x.pin,function(){return n.pinPost()}),o(t,x.featured,function(){return n.onFeatured()}),t)[e];g&&g()}},{key:"onFeatured",value:function(){var e=this.props,t=e.post.id,n=e.featuredTime,a=e.addFeaturedPost,o=e.removeFeaturedPost;n?o&&o({itemId:t,type:"post"}):a&&a({itemId:t,type:"post"})}},{key:"pinPost",value:function(){var e=this.props,t=e.post.id,n=e.pinnedTime,a=e.pinPost,o=e.unPinPost;n?o&&o({itemId:t,type:"post"}):a&&a({itemId:t,type:"post"})}},{key:"renderLabel",value:function(){var e=this.props,t=e.cardType,n=e.pinnedTime;return!e.hidePin&&"group"===t&&n?j.default.createElement("div",{className:this.ss("label")},this.__("pinned")):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.currentUserId,a=t.post,o=t.loginUser,r=t.isGroupAdmin,i=t.pinnedTime,s=t.featuredTime,l=t.hidePin,c=this.state.isDropDownButtonShow,u=(a||{}).authorId,d=(o||{}).isAdmin,p=n===u,f=[];return r&&(l||f.push({text:i?this.__("un_pin"):this.__("pin"),value:x.pin,icon:"ifont-icons-pin",iconClassName:this.ss("dropdown-button-icon")}),f.push({text:s?this.__("remove_featured"):this.__("add_featured"),value:x.featured,icon:"ifont-icons-featured",iconClassName:this.ss("dropdown-button-icon")})),p&&f.push({text:this.__("editPost"),value:x.editPost,icon:"ifont-icons-edit",iconClassName:this.ss("dropdown-button-icon")}),p||f.push({text:this.__("reportUser"),value:x.report,icon:"ifont-material-outline-report",iconClassName:this.ss("dropdown-button-icon")}),(d||p||r)&&f.push({text:this.__("deletePost"),value:x.deletePost,icon:"ifont-material-outline-delete",iconClassName:this.ss("dropdown-button-icon")}),j.default.createElement("div",{className:this.ss("post-menu-wrapper")},this.renderLabel(),j.default.createElement(P.default,{buttonElement:j.default.createElement("div",{className:this.ss("icon-menu",c&&"selected","ifont","ifont-material-outline-more_horiz")}),buttonItems:f,position:"right",onSwitch:this.onDropDownButtonSwitch,onClick:function(t){return e.onItemClick(t)}}))}}]),t}(),f.propTypes={currentUserId:w.default.string,cardType:w.default.string,post:w.default.object,loginUser:w.default.object,isGroupAdmin:w.default.bool,pinnedTime:w.default.string,featuredTime:w.default.string,hidePin:w.default.bool,deletePost:w.default.func,reportOpen:w.default.func,openEditPost:w.default.func,pinPost:w.default.func,unPinPost:w.default.func,addFeaturedPost:w.default.func,removeFeaturedPost:w.default.func},p=m))||p)||p)||p);t.default=I},function(e,t){e.exports={"post-menu-wrapper":"post-menu-wrapper_3SXm7eMa",label:"label_l5_6uQAS","icon-menu":"icon-menu__rcUGtts",selected:"selected_3sZLPW94","dropdown-button-icon":"dropdown-button-icon_193Uw8oZ"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.GroupProject=t.SearchProject=t.ProfileProject=t.HomeProject=t.default=void 0;var l,c,u,d,p,f,m,h,_,g,v,b,y,w,j,E,k,C,O,P,S,N,M,T,x,I,R,D,A,U,L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},z=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),W=s(["currentUserId"],["currentUserId"]),H=s(["project.openProject"],["project.openProject"]),B=s(["header.sendCDPRequest"],["header.sendCDPRequest"]),q=s(["home.projectMap"],["home.projectMap"]),F=s(["home.userMap"],["home.userMap"]),K=s(["home.teamMap"],["home.teamMap"]),G=s(["home.contentMap"],["home.contentMap"]),V=s(["home.likeMap.",""],["home.likeMap.",""]),J=s(["projectId"],["projectId"]),Y=s(["home.projectCommentMap"],["home.projectCommentMap"]),Q=s(["report.open"],["report.open"]),X=s(["post.openRepostDialog"],["post.openRepostDialog"]),Z=s(["home.like"],["home.like"]),$=s(["profile.projectMap"],["profile.projectMap"]),ee=s(["profile.userMap"],["profile.userMap"]),te=s(["profile.teamMap"],["profile.teamMap"]),ne=s(["profile.contentMap"],["profile.contentMap"]),ae=s(["profile.likeMap.",""],["profile.likeMap.",""]),oe=s(["profile.projectCommentMap"],["profile.projectCommentMap"]),re=s(["userId"],["userId"]),ie=s(["profile.like"],["profile.like"]),se=s(["search.searchResult.userMap"],["search.searchResult.userMap"]),le=s(["search.searchResult.teamMap"],["search.searchResult.teamMap"]),ce=s(["search.searchResult.contentMap"],["search.searchResult.contentMap"]),ue=s(["search.searchResult.likeMap.",""],["search.searchResult.likeMap.",""]),de=s(["search.like"],["search.like"]),pe=s(["group.projectMap"],["group.projectMap"]),fe=s(["group.userMap"],["group.userMap"]),me=s(["group.teamMap"],["group.teamMap"]),he=s(["group.contentMap"],["group.contentMap"]),_e=s(["group.likeMap.",""],["group.likeMap.",""]),ge=s(["group.projectCommentMap"],["group.projectCommentMap"]),ve=s(["group.groupMemberMap"],["group.groupMemberMap"]),be=s(["group.like"],["group.like"]),ye=a(n(2)),we=a(n(1)),je=a(n(3)),Ee=n(5),ke=n(0),Ce=a(n(16)),Oe=a(n(973)),Pe=a(n(975)),Se=a(n(977)),Ne=a(n(979)),Me=n(981),Te=a(Me),xe=a(n(497)),Ie=a(n(141)),Re=n(18),De=n(108),Ae=a(n(356)),Ue=n(11),Le=a(n(4)),ze=a(n(988)),We=a(n(6)),He=a(n(107)),Be=(l=(0,Ee.decorator)({currentUserId:(0,ke.state)(W),openProject:(0,ke.signal)(H),sendCDPRequest:(0,ke.signal)(B)}),c=(0,Le.default)(ze.default),u=(0,We.default)(He.default),l(d=c(d=u((f=p=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.onClick=function(e){var t=a.props,n=t.draftOnly,o=t.openProject,r=t.projectId,i=t.projectMap,s=i&&i[r]||{},l=s.slug,c=s.type;(0,Re.getClickOutside)([a.headMenu,a.headAvatar,a.headName,a.cardFoot,a.cardComment],function(){return o({projectId:l,onlyDraft:n,type:c})})(e)},i=n,r(a,i)}return i(t,je.default),z(t,[{key:"onLike",value:function(e,t,n){(0,Ue.pauseEvent)(e);var a=this.props.like;t&&a({projectId:n})}},{key:"onComment",value:function(e,t,n){(0,Ue.pauseEvent)(e),(0,this.props.openProject)({projectId:t,type:n})}},{key:"onRepost",value:function(e,t,n){(0,Ue.pauseEvent)(e);var a=this.props,o=a.projectMap,r=a.openRepostDialog,i=a.sendCDPRequest;t&&r({projectId:n}),i({type:"interaction",data:{postType:o[n].type,likeClicked:0,commentClicked:0,repostClicked:1}})}},{key:"renderHeaderTag",value:function(e){var t=this.props.groupMemberMap;if(!e||!t)return null;var n=t[e];return(0,De.isOwner)(n)?we.default.createElement("div",{className:this.ss("group-label")},this.__("group_owner")):(0,De.isManager)(n)?we.default.createElement("div",{className:this.ss("group-label")},this.__("group_admin")):null}},{key:"renderProjectAuthor",value:function(){var e=this,t=this.props,n=t.projectMap,a=t.projectId,o=t.userMap,r=t.teamMap,i=t.actionTitle,s=t.showMenu,l=t.theme,c=t.renderMenu,u=t.actionTime,d=t.showProps,p=t.profileUserId,f=n[a],m=f.userId,h=f.teamId,_=f.lastPublishedTime,g=f.draftTime,v=f.public,b=(r[h]||{}).name,y=(o[m]||{}).fullName,w=m?"/u/"+m:"/t/"+h,j=c?c(a):we.default.createElement(xe.default,{itemId:m,isUser:!0}),E=d&&!h&&m!==p,k=we.default.createElement("div",{className:this.ss("contributor","ifont","ifont-icons-contributor")}),C={startTime:u||_||g,textNow:this.__("time_text_now"),textMin:this.__("time_text_min"),textMins:this.__("time_text_mnins"),textHour:this.__("time_text_hour"),textHours:this.__("time_text_hours"),textYesterday:this.__("time_text_yestarday")};return we.default.createElement("div",{className:this.ss("user")},we.default.createElement("a",{className:this.ss("avatar",!m&&"square"),href:w,ref:function(t){e.headAvatar=t}},we.default.createElement(Ce.default,{user:m?o[m]:r[h],size:"xxxsmall",shape:m?"circle":"square"})),we.default.createElement("div",{className:this.ss("user-right")},we.default.createElement("a",{className:this.ss("name",l),href:w,ref:function(t){e.headName=t}},m?y:b),this.renderHeaderTag(m),i&&we.default.createElement("div",{className:this.ss("action")},i),E&&k,we.default.createElement("div",{className:this.ss("split-dot")}),we.default.createElement("div",{className:this.ss("time")},(0,Ae.default)(C))),d&&!v&&we.default.createElement("div",{className:this.ss("private")},this.__("private")),s&&we.default.createElement("div",{ref:function(t){e.headMenu=t},className:this.ss("menus")},j))}},{key:"renderProjectContent",value:function(){var e=this.props,t=e.projectMap,n=e.projectId,a=e.contentMap,o=e.isChild,r=t[n].type;return"article"===r?we.default.createElement(Oe.default,{project:t[n],contentMap:a,isChild:o}):"game"===r?we.default.createElement(Pe.default,{project:t[n],contentMap:a,isChild:o}):"showcase"===r?we.default.createElement(Se.default,{project:t[n],contentMap:a,isChild:o}):"webgl"===r?we.default.createElement(Ne.default,{project:t[n],contentMap:a,isChild:o}):null}},{key:"renderCardFoot",value:function(){var e=this,t=this.props,n=t.projectMap,a=t.projectId,o=t.currentUserId,r=t.liking,i=t.draftOnly,s=t.hideRepost,l=n[a],c=l.slug,u=l.likeCount,d=l.commentCount,p=l.userId,f=l.challengeId,m=l.type;if(i)return null;var h={liking:r,likeCount:u,commentCount:d,challengeId:f,hideRepost:s,onClickLike:function(t){return e.onLike(t,!r&&p!==o,a)},onClickComment:function(t){return e.onComment(t,c,a,m)},onClickRepost:function(t){return e.onRepost(t,p!==o,a)}};return we.default.createElement("div",{className:this.ss("project-foot")},we.default.createElement(Ie.default,L({},h,{ref:function(t){e.cardFoot=t}})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.projectMap,a=t.projectId,o=t.theme,r=t.projectCommentMap,i=t.isChild,s=t.isLikeOrComment,l=n&&n[a];return l?we.default.createElement("div",{className:this.ss("project",o,i&&"child",i&&s&&"like-or-comment"),onClick:this.onClick},this.renderProjectAuthor(),this.renderProjectContent(),"quote"!==o&&this.renderCardFoot(),"quote"!==o&&"profile"!==o&&we.default.createElement(Te.default,{ref:function(t){e.cardComment=t},project:l,projectId:a,projectCommentMap:r}),"profile"===o&&we.default.createElement(Me.ProfileComments,{ref:function(t){e.cardComment=t},project:l,projectId:a})):null}}]),t}(),p.propTypes={projectId:ye.default.string,theme:ye.default.oneOf(["home","profile","search","quote","group"]),projectMap:ye.default.object,userMap:ye.default.object,teamMap:ye.default.object,contentMap:ye.default.object,currentUserId:ye.default.string,actionTitle:ye.default.any,showMenu:ye.default.bool,draftOnly:ye.default.bool,actionTime:ye.default.string,projectCommentMap:ye.default.object,showProps:ye.default.bool,profileUserId:ye.default.string,liking:ye.default.bool,hideRepost:ye.default.bool,groupMemberMap:ye.default.object,isChild:ye.default.bool,isLikeOrComment:ye.default.bool,reportOpen:ye.default.func,openProject:ye.default.func,openRepostDialog:ye.default.func,like:ye.default.func,renderMenu:ye.default.func,sendCDPRequest:ye.default.func},p.defaultProps={isChild:!1},d=f))||d)||d)||d);t.default=Be;t.HomeProject=(m=(0,Ee.decorator)({projectMap:(0,ke.state)(q),userMap:(0,ke.state)(F),teamMap:(0,ke.state)(K),contentMap:(0,ke.state)(G),liking:(0,ke.state)(V,(0,ke.props)(J)),projectCommentMap:(0,ke.state)(Y),currentUserId:(0,ke.state)(W),reportOpen:(0,ke.signal)(Q),openProject:(0,ke.signal)(H),openRepostDialog:(0,ke.signal)(X),like:(0,ke.signal)(Z)}),h=(0,Le.default)(ze.default),_=(0,We.default)(He.default),m(g=h(g=_((b=v=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,Be),t}(),v.defaultProps={theme:"home"},g=b))||g)||g)||g),t.ProfileProject=(y=(0,Ee.decorator)({projectMap:(0,ke.state)($),userMap:(0,ke.state)(ee),teamMap:(0,ke.state)(te),contentMap:(0,ke.state)(ne),liking:(0,ke.state)(ae,(0,ke.props)(J)),projectCommentMap:(0,ke.state)(oe),currentUserId:(0,ke.state)(W),profileUserId:(0,ke.state)(re),reportOpen:(0,ke.signal)(Q),openProject:(0,ke.signal)(H),openRepostDialog:(0,ke.signal)(X),like:(0,ke.signal)(ie)}),w=(0,Le.default)(ze.default),j=(0,We.default)(He.default),y(E=w(E=j((C=k=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,Be),t}(),k.defaultProps={theme:"profile"},E=C))||E)||E)||E),t.SearchProject=(O=(0,Ee.decorator)({userMap:(0,ke.state)(se),teamMap:(0,ke.state)(le),contentMap:(0,ke.state)(ce),liking:(0,ke.state)(ue,(0,ke.props)(J)),currentUserId:(0,ke.state)(W),reportOpen:(0,ke.signal)(Q),openProject:(0,ke.signal)(H),openRepostDialog:(0,ke.signal)(X),like:(0,ke.signal)(de)}),P=(0,Le.default)(ze.default),S=(0,We.default)(He.default),O(N=P(N=S((T=M=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,Be),t}(),M.defaultProps={theme:"search"},N=T))||N)||N)||N),t.GroupProject=(x=(0,Ee.decorator)({projectMap:(0,ke.state)(pe),userMap:(0,ke.state)(fe),teamMap:(0,ke.state)(me),contentMap:(0,ke.state)(he),liking:(0,ke.state)(_e,(0,ke.props)(J)),projectCommentMap:(0,ke.state)(ge),currentUserId:(0,ke.state)(W),groupMemberMap:(0,ke.state)(ve),reportOpen:(0,ke.signal)(Q),openProject:(0,ke.signal)(H),openRepostDialog:(0,ke.signal)(X),like:(0,ke.signal)(be)}),I=(0,Le.default)(ze.default),R=(0,We.default)(He.default),x(D=I(D=R((U=A=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,Be),t}(),A.defaultProps={theme:"group"},D=U))||D)||D)||D)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u,d,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=a(n(2)),m=a(n(1)),h=a(n(3)),_=a(n(15)),g=n(11),v=a(n(495)),b=a(n(4)),y=a(n(974)),w=a(n(6)),j=a(n(107)),E=(s=(0,b.default)(y.default),l=(0,w.default)(j.default),s(c=l((d=u=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,h.default),p(t,[{key:"renderProps",value:function(){var e=this.props,t=e.project,n=e.contentMap,a=void 0===n?{}:n,o=t.isMWU,r=t.contentIds.findIndex(function(e){return a[e]&&"asset_store"===a[e].externalType})>=0,i=m.default.createElement("div",{className:this.ss("mwu","ifont","ifont-icons-socialicons-unity")}),s=m.default.createElement("div",{className:this.ss("asset-store","ifont","ifont-assetstore-icon")});return o||r?m.default.createElement("div",{className:this.ss("props")},m.default.createElement("div",{className:this.ss("icons")},o&&i,r&&s)):null}},{key:"render",value:function(){var e=this.props.project;if(!e)return null;var t=e.title,n=e.subTitle,a=e.originalImage,o="";if(n){var r=(0,g.getPreviewText)(n,230),i=r.text;o=r.isShort?i+"...":i}else o=this.__("untitled_content");var s=void 0;return s=a&&a.url?m.default.createElement(_.default,{src:a.url,alt:t,sizes:"705px",width:170,height:96}):m.default.createElement(v.default,{size:"small"}),m.default.createElement("div",{className:this.ss("article")},m.default.createElement("div",{className:this.ss("content")},m.default.createElement("div",{className:this.ss("title")},t||this.__("untitled")),m.default.createElement("div",{className:this.ss("content-bottom")},m.default.createElement("div",{className:this.ss("image")},s,this.renderProps()),m.default.createElement("div",{className:this.ss("text")},m.default.createElement("div",{className:this.ss("description")},o)))))}}]),t}(),u.propTypes={project:f.default.object,defaultBodyState:f.default.object,contentMap:f.default.object},c=d))||c)||c);t.default=E},function(e,t){e.exports={article:"article_1ZjpTuz9",content:"content_16fhW4Mc",title:"title_1AvouMao","content-bottom":"content-bottom_17GxU8b-",text:"text_1D0ujFoG",description:"description_M_yHbTen",image:"image_24f9Hn2Z",props:"props_3tYBBCWH",icons:"icons_gmCXJ0nq",mwu:"mwu_1T7XAn6M","asset-store":"asset-store_1L8jksQQ",hide:"hide_cLc_S7Il"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u,d,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=a(n(2)),m=a(n(1)),h=a(n(3)),_=n(11),g=a(n(139)),v=a(n(4)),b=a(n(976)),y=a(n(6)),w=a(n(107)),j=(s=(0,v.default)(b.default),l=(0,y.default)(w.default),s(c=l((d=u=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,h.default),p(t,[{key:"getImageSize",value:function(){return{1:{1:{width:705,height:396}}}}},{key:"render",value:function(){var e=this.props,t=e.project,n=e.contentMap,a=e.isChild;if(!t)return null;var o=t.title,r=t.description,i=t.contentIds,s=t.thumbnail,l=t.isMWU,c=(0,_.getPreviewText)(r,370),u=c.text,d=c.isShort,p=this.__("untitled_content");return u&&(p=d?u+"...":u),m.default.createElement("div",{className:this.ss("game")},m.default.createElement("div",{className:this.ss("content")},m.default.createElement(g.default,{contentIds:(i||[]).slice(0,1),maxImageCount:1,thumbnail:s,contentMap:n,isMWU:l,sizes:this.getImageSize(),wrapHeight:a?370:396}),m.default.createElement("div",{className:this.ss("content-bottom")},m.default.createElement("div",{className:this.ss("title")},o||this.__("untitled")),m.default.createElement("div",{className:this.ss("description")},p))))}}]),t}(),u.propTypes={project:f.default.object,contentMap:f.default.object,isChild:f.default.bool},u.defaultProps={isChild:!1},c=d))||c)||c);t.default=j},function(e,t){e.exports={game:"game_2RIxpqu7",content:"content_1EIKkV1n",images:"images_1pHjQaEE","image-wrapper":"image-wrapper_1kWYjRFv","images-1":"images-1_1U2z-ESQ","image-0":"image-0_M4E_aNwp","images-2":"images-2_a06zw9Qu","image-1":"image-1_1vlXH6_L","images-3":"images-3_2ZHre_C8","image-2":"image-2_2ASse-TX","images-4":"images-4_2z7aXzVG","image-3":"image-3_3doaFvWA","images-5":"images-5_3HhJZ3y_","image-4":"image-4_2EL5m7gL",more:"more_DnHZvt4P","content-bottom":"content-bottom_PLslafdc",title:"title_11659zTO",description:"description_TfC5OXYy",hide:"hide_ZvqPZhNw"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u,d,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=a(n(2)),m=a(n(1)),h=a(n(3)),_=a(n(139)),g=a(n(4)),v=a(n(978)),b=a(n(6)),y=a(n(107)),w=(s=(0,g.default)(v.default),l=(0,b.default)(y.default),s(c=l((d=u=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,h.default),p(t,[{key:"getImageSize",value:function(){var e={width:351,height:396},t={width:307,height:197};return{1:{1:{width:705,height:396}},2:{1:e,2:e},3:{1:{width:396,height:396},2:t,3:t}}}},{key:"render",value:function(){var e=this.props,t=e.project,n=e.contentMap,a=e.isChild;if(!t)return null;var o=t.title,r=t.contentIds,i=t.thumbnail,s=t.isMWU;return m.default.createElement("div",{className:this.ss("article")},m.default.createElement("div",{className:this.ss("content")},m.default.createElement(_.default,{contentIds:r,contentMap:n,thumbnail:i,isMWU:s,maxImageCount:3,sizes:this.getImageSize(),wrapHeight:a?370:396,theme:"showcase"}),m.default.createElement("div",{className:this.ss("content-bottom")},m.default.createElement("div",{className:this.ss("title")},o||this.__("untitled")))))}}]),t}(),u.propTypes={project:f.default.object,contentMap:f.default.object,isChild:f.default.bool},u.defaultProps={isChild:!1},c=d))||c)||c);t.default=w},function(e,t){e.exports={article:"article_2Qw0H-Pc",content:"content_3dR9EioA","content-bottom":"content-bottom_2vUf_9wO",description:"description_pJb-6g0u",title:"title_3VX814N3",hide:"hide_1C3hdRHV"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,c,u,d,p,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),m=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["currentUserId"],["currentUserId"]),h=a(n(2)),_=a(n(1)),g=n(5),v=n(0),b=a(n(3)),y=n(11),w=a(n(139)),j=n(135),E=a(n(4)),k=a(n(980)),C=a(n(6)),O=a(n(107)),P=(s=(0,g.decorator)({currentUserId:(0,v.state)(m)}),l=(0,E.default)(k.default),c=(0,C.default)(O.default),s(u=l(u=c((p=d=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,b.default),f(t,[{key:"getImageSize",value:function(){return{1:{1:{width:705,height:396}}}}},{key:"renderWebgl",value:function(){var e=this.props,t=e.project,n=e.contentMap,a=e.isChild,o=e.currentUserId;if(!t)return null;var r=t.contentIds,i=t.thumbnail,s=t.isMWU;if(r.length>0){var l=n[r[0]];if(l&&"webgl"===l.type){var c=(0,j.getPreviewHtml)(l,o);return _.default.createElement("div",{dangerouslySetInnerHTML:{__html:c}})}}return _.default.createElement(w.default,{contentIds:(r||[]).slice(0,1),maxImageCount:1,thumbnail:i,contentMap:n,isMWU:s,sizes:this.getImageSize(),wrapHeight:a?370:396})}},{key:"render",value:function(){var e=this.props.project;if(!e)return null;var t=e.title,n=e.description,a=(0,y.getPreviewText)(n,370),o=a.text,r=a.isShort,i=o&&(r?o+"...":o);return _.default.createElement("div",{className:this.ss("game")},_.default.createElement("div",{className:this.ss("content")},_.default.createElement("div",{className:this.ss("title")},t||this.__("untitled")),this.renderWebgl(),i&&_.default.createElement("div",{className:this.ss("content-bottom")},_.default.createElement("div",{className:this.ss("description")},i))))}}]),t}(),d.propTypes={project:h.default.object,contentMap:h.default.object,isChild:h.default.bool,currentUserId:h.default.string},d.defaultProps={isChild:!1},u=p))||u)||u)||u);t.default=P},function(e,t){e.exports={game:"game_1KdsNh3t",content:"content_3FswSarS",images:"images_25SBGT99","image-wrapper":"image-wrapper_w41vxns2","images-1":"images-1_3GrJGFoH","image-0":"image-0_YzYRnEtZ","images-2":"images-2_3KWv_8B9","image-1":"image-1_sBVUZh7d","images-3":"images-3_8um38y-7","image-2":"image-2_3CqC-7rl","images-4":"images-4_2l510uSJ","image-3":"image-3_13E5WKdD","images-5":"images-5_3R0PYWMv","image-4":"image-4_pQijG5Qk",more:"more_1V4ORV33",title:"title_3JPBhCh8","content-bottom":"content-bottom_3e-Fwiig",description:"description_3JM7IhiQ",hide:"hide_3V7nCq5X"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.ProfileComments=t.default=void 0;var c,u,d,p,f,m,h,_,g,v,b,y,w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},j=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),E=l(["currentUserId"],["currentUserId"]),k=l(["project.openProject"],["project.openProject"]),C=l(["profile.projectCommentMap"],["profile.projectCommentMap"]),O=l(["profile.commentUpdated"],["profile.commentUpdated"]),P=a(n(2)),S=a(n(1)),N=a(n(3)),M=n(5),T=n(0),x=a(n(16)),I=a(n(34)),R=a(n(40)),D=a(n(24)),A=a(n(4)),U=a(n(982)),L=a(n(6)),z=a(n(983)),W=(c=(0,M.decorator)({currentUserId:(0,T.state)(E),openProject:(0,T.signal)(k)}),u=(0,A.default)(U.default),d=(0,L.default)(z.default),c(p=u(p=d((m=f=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,N.default),j(t,[{key:"getParsedContent",value:function(e,t){return R.default.parse(e,!0,{mentioned:t,mentionType:"project"})}},{key:"renderParent",value:function(e,t){var n=this.props.currentUserId;if(e){var a=t[e],o=a.author,r=o.fullname,i=o.id,s=a.mentionEveryone,l=a.mentions,c=a.content,u=a.attachments,d=s||l.some(function(e){return e.id===n}),p=this.getParsedContent(c,d);return S.default.createElement("div",{className:this.ss("parent-message")},S.default.createElement("div",{className:this.ss("parent-message-author-wrapper")},this.__("text_reply"),S.default.createElement("a",{className:this.ss("parent-message-author"),href:"/u/"+i},this.__("reply_at",{name:r})),this.__("colon")),S.default.createElement("div",{className:this.ss("parent-message-content")},this.renderAttachments(u),p))}return null}},{key:"renderCommentFoot",value:function(){var e=this,t=[{type:"like",icon:"ifont-material-outline-thumb_up",count:0,hint:this.__("hint_like")},{type:"reply",icon:"ifont-material-outline-reply",count:0,hint:this.__("hint_reply")}].map(function(t){var n=t.type,a=t.icon,o=t.count,r=t.hint;return o>0?S.default.createElement(D.default,{key:"foot-item-"+n,text:r,position:"top"},S.default.createElement("div",{className:e.ss("foot-item",n)},S.default.createElement("div",{className:e.ss("icon","ifont",a)}),S.default.createElement("div",{className:e.ss("text-icon")},o))):S.default.createElement("div",{key:"foot-item-"+n,className:e.ss("foot-item",n)},S.default.createElement("div",{className:e.ss("icon","ifont",a)}),S.default.createElement("div",{className:e.ss("text-icon")},r))});return S.default.createElement("div",{className:this.ss("comment-foot")},t)}},{key:"renderAttachments",value:function(e){if(!e||e.length<1)return null;var t=e[0],n=t.contentType,a=t.url;return n.startsWith("image/")?S.default.createElement("div",null,S.default.createElement("img",{src:a,className:this.ss("comment-image")})):null}},{key:"renderCommentsItem",value:function(e,t){var n=this.props.currentUserId,a=e.id,o=e.content,r=e.author,i=e.mentionEveryone,s=e.mentions,l=e.parentMessageId,c=e.attachments,u=r.id,d=r.fullname,p=r.title,f=a?I.default.extractTimestamp(a):Date.now(),m="/u/"+u,h=i||s.some(function(e){return e.id===n}),_=this.getParsedContent(o,h);return S.default.createElement("div",{key:a||Date.now(),className:this.ss("comment-wrap")},S.default.createElement("a",{className:this.ss("avatar-wrap"),href:m},S.default.createElement(x.default,{user:r,size:"xxsmall"})),S.default.createElement("div",{className:this.ss("info-wrap")},S.default.createElement("div",{className:this.ss("top-wrapper")},S.default.createElement("div",{className:this.ss("user-left")},S.default.createElement("a",{className:this.ss("name"),href:m},d),S.default.createElement("div",{className:this.ss("user-title")},p)),S.default.createElement("div",{className:this.ss("time")},this.__("comment_created_at",{time:f}))),S.default.createElement("div",{className:this.ss("comment-content")},this.renderParent(l,t),S.default.createElement("div",{className:this.ss("comment",!a&&"loading")},this.renderAttachments(c),_))))}},{key:"renderCommentList",value:function(){var e=this,t=this.props,n=t.projectId,a=t.projectCommentMap[n]||{},r=a.items,i=void 0===r?[]:r,s=a.parents,l=void 0===s?[]:s,c=(i||[]).slice(0,4),u=l.reduce(function(e,t){return w({},e,o({},t.id,t))},{});return c.map(function(t){return e.renderCommentsItem(t,u)})}},{key:"render",value:function(){var e=this.props,t=e.projectId,n=e.projectCommentMap,a=e.project,o=e.openProject;if(!n||!n[t])return null;var r=a||{},i=r.slug,s=r.type,l=(n[t]||{}).items,c=void 0===l?[]:l;return 0===c.length?null:S.default.createElement("div",{className:this.ss("comments")},S.default.createElement("div",{className:this.ss("top")},this.renderCommentList()),c.length>4&&S.default.createElement("div",{className:this.ss("bottom")},S.default.createElement("div",{className:this.ss("btn-more"),onClick:function(){return o({projectId:i,type:s})}},this.__("btn_view_more"),S.default.createElement("div",{className:this.ss("icon-more","ifont","ifont-material-baseline-keyboard_arrow_right")}))))}}]),t}(),f.propTypes={projectId:P.default.string,project:P.default.object,currentUserId:P.default.string,projectCommentMap:P.default.object,openProject:P.default.func},p=m))||p)||p)||p);t.default=W;t.ProfileComments=(h=(0,M.decorator)({projectCommentMap:(0,T.state)(C),commentUpdated:(0,T.state)(O)}),_=(0,A.default)(U.default),g=(0,L.default)(z.default),h(v=_(v=g((y=b=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,W),t}(),b.propTypes={commentUpdated:P.default.number},v=y))||v)||v)||v)},function(e,t){e.exports={comments:"comments_2PWBdjU0",top:"top_2YI2OSBp",bottom:"bottom_2F9ZJaYh","btn-more":"btn-more_3zkefp2p","icon-more":"icon-more_30Lq-Bpr","comment-wrap":"comment-wrap_Q7Mv6Q9v","avatar-wrap":"avatar-wrap_12o5_mf0","info-wrap":"info-wrap_29w7ZUjV","top-wrapper":"top-wrapper_1n0bTadb","user-left":"user-left_royGwf1Q",name:"name_1rCEtX84","user-title":"user-title_3j3Lp4jh",time:"time_2UeO1zHI","comment-content":"comment-content_I1sa5aQY","parent-message":"parent-message_O9P_c8im","parent-message-author":"parent-message-author_FNdLWgbB",comment:"comment_7EHbBu3N",loading:"loading_28LSxmbY","comment-foot":"comment-foot_1e_0NELn","foot-item":"foot-item_2GyKBZGp",like:"like_2CYiAhsC",selected:"selected_3eGsHNBE",icon:"icon_3lG_DAkd","text-icon":"text-icon_2H2Jb7-j",buttons:"buttons_353CBOfL",reply:"reply_38Pt1KZb","reaction-like":"reaction-like_2CiGOg78",liked:"liked_t5arLyBA",ops:"ops_1MxhjECU",report:"report_2FHba8x0",delete:"delete_3W3rVext","reply-wrapper":"reply-wrapper_NBPqrjXd","input-wrapper":"input-wrapper_qa1To9ls","reply-buttons":"reply-buttons_2od41qrm",cancel:"cancel_2lH3_jRY","comment-image":"comment-image_B08XbrDA"}},function(e,t){e.exports={comment_created_at:"comment_created_at_119p",text_reply:"text_reply_2SUp",reply_at:"reply_at_2mii",colon:"colon_27AQ",btn_view_more:"btn_view_more_19f7",hint_like:"hint_like_1aJJ",hint_reply:"hint_reply_2sXf"}},function(e,t){e.exports={"icon-menu":"icon-menu_sXozlT9Y",selected:"selected_FzCdn0Ml","dropdown-item-icon":"dropdown-item-icon_30934N5Q"}},function(e,t){e.exports={report_user:"report_user_1nUP",report_company:"report_company_WLP7"}},function(e,t){e.exports={"feed-foot":"feed-foot_28LzPQVY","mobile-hide":"mobile-hide_1BTNVXgS","mobile-show":"mobile-show_pHgZqHhR",menu:"menu_MZa9ZSKD",icon:"icon_2ylAPi56","icon-text":"icon-text_1SYOgiWu",selected:"selected_3C-M0idE",view:"view_KeVuoyML",repost:"repost_fw_ERWMB",like:"like_2kV8ZdzT","icon-like-active":"icon-like-active_26T3_5j9","icon-like":"icon-like_3qQgJQWt",challenge:"challenge_Fh1G7Sub"}},function(e,t){e.exports={view_hint:"view_hint_1Z0w",like_hint:"like_hint_1VsB",comment_hint:"comment_hint_M1xH",repost_hint:"repost_hint_2Bhb",view_challenge:"view_challenge_22G5"}},function(e,t){e.exports={project:"project_3RgGpfb2",child:"child_QrGQrgtH","like-or-comment":"like-or-comment_1Pd_zqNk",home:"home_1Uo09Og7",feed:"feed_26NgLQUs",profile:"profile_2tKDhcst",quote:"quote_3rsRlnRS",tag:"tag_ebf-t5Yr",user:"user_2HLWgeWD",avatar:"avatar_1rbim-IY",square:"square_3Zmp-MBq","user-right":"user-right_1VOcAADM",name:"name_1kNd7nnu",search:"search_1WNms5BT",action:"action_2J7FgxDs",contributor:"contributor_1A99-jJ4","group-label":"group-label_1QEktCM0","split-dot":"split-dot_Dulol50C",time:"time_3yZVPhvM",private:"private_3N2QdD5q",menus:"menus_oXrgOqPo",draft:"draft_1mbftvHl",icons:"icons_2JFLxEqr",text:"text_YrquOOOT","project-foot":"project-foot_24rm7HWz",hide:"hide_AV4WCs7T"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.JobInfo=t.GroupJob=t.HomeSuggestJob=t.SuggestJob=t.SearchJob=t.ProfileJob=t.HomeJob=t.default=void 0;var l,c,u,d,p,f,m,h,_,g,v,b,y,w,j,E,k,C,O,P,S,N,M,T,x,I,R,D,A,U,L,z,W,H,B,q,F,K,G,V,J,Y,Q,X,Z,$,ee,te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ne=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),ae=s(["currentUserId"],["currentUserId"]),oe=s(["header.sendCDPRequest"],["header.sendCDPRequest"]),re=s(["home.jobMap"],["home.jobMap"]),ie=s(["home.teamMap"],["home.teamMap"]),se=s(["home.skillMap"],["home.skillMap"]),le=s(["home.placeMap"],["home.placeMap"]),ce=s(["post.openRepostDialog"],["post.openRepostDialog"]),ue=s(["profile.jobMap"],["profile.jobMap"]),de=s(["profile.teamMap"],["profile.teamMap"]),pe=s(["profile.skillMap"],["profile.skillMap"]),fe=s(["profile.placeMap"],["profile.placeMap"]),me=s(["search.searchResult.teamMap"],["search.searchResult.teamMap"]),he=s(["search.searchResult.skillMap"],["search.searchResult.skillMap"]),_e=s(["search.searchResult.placeMap"],["search.searchResult.placeMap"]),ge=s(["feed.jobMap"],["feed.jobMap"]),ve=s(["feed.skillMap"],["feed.skillMap"]),be=s(["feed.placeMap"],["feed.placeMap"]),ye=s(["feed.refreshSuggestJobs"],["feed.refreshSuggestJobs"]),we=s(["home.refreshSuggestJobs"],["home.refreshSuggestJobs"]),je=s(["group.jobMap"],["group.jobMap"]),Ee=s(["group.teamMap"],["group.teamMap"]),ke=s(["group.skillMap"],["group.skillMap"]),Ce=s(["group.placeMap"],["group.placeMap"]),Oe=s(["group.groupMemberMap"],["group.groupMemberMap"]),Pe=a(n(2)),Se=a(n(1)),Ne=a(n(3)),Me=n(5),Te=n(0),xe=a(n(16)),Ie=n(11),Re=a(n(497)),De=a(n(141)),Ae=n(18),Ue=a(n(19)),Le=n(108),ze=a(n(356)),We=a(n(4)),He=a(n(990)),Be=a(n(6)),qe=a(n(991)),Fe=(l=(0,Me.decorator)({currentUserId:(0,Te.state)(ae),sendCDPRequest:(0,Te.signal)(oe)}),c=(0,We.default)(He.default),u=(0,Be.default)(qe.default),l(d=c(d=u((f=p=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.onClick=function(e){var t=a.props.jobId;(0,Ae.getClickOutside)([a.headMenu,a.headAvatar,a.headName,a.cardFoot,a.suggestMenu],function(){return(0,Ue.default)("/jobs/"+t)})(e)},i=n,r(a,i)}return i(t,Ne.default),ne(t,[{key:"onRepost",value:function(e,t){var n=this.props,a=n.openRepostDialog,o=n.sendCDPRequest;e&&a({jobId:t}),o({type:"interaction",data:{postType:"job",likeClicked:0,commentClicked:0,repostClicked:1}})}},{key:"renderHeaderTag",value:function(e){var t=this.props.groupMemberMap;if(!e||!t)return null;var n=t[e];return(0,Le.isOwner)(n)?Se.default.createElement("div",{className:this.ss("group-label")},this.__("group_owner")):(0,Le.isManager)(n)?Se.default.createElement("div",{className:this.ss("group-label")},this.__("group_admin")):null}},{key:"renderUser",value:function(){var e=this,t=this.props,n=t.jobMap,a=t.teamMap,o=t.jobId,r=t.actionTitle,i=t.showMenu,s=t.theme,l=t.renderMenu,c=n[o],u=c.teamId,d=c.clientId,p=c.publishTime,f=a[u]||{},m=f.isDefault,h=f.name,_=m?"/u/"+d:"/t/"+u,g=l?l(o):Se.default.createElement(Re.default,{itemId:m?d:u,isUser:m}),v={startTime:p,textNow:this.__("time_text_now"),textMin:this.__("time_text_min"),textMins:this.__("time_text_mnins"),textHour:this.__("time_text_hour"),textHours:this.__("time_text_hours"),textYesterday:this.__("time_text_yestarday")};return Se.default.createElement("div",{className:this.ss("user")},Se.default.createElement("a",{className:this.ss("avatar",!m&&"square"),href:_,ref:function(t){e.headAvatar=t}},Se.default.createElement(xe.default,{user:a[u],size:"xxxsmall",shape:m?"circle":"square"})),Se.default.createElement("div",{className:this.ss("user-right")},Se.default.createElement("a",{className:this.ss("name",s),href:_,ref:function(t){e.headName=t}},h),this.renderHeaderTag(d),r&&Se.default.createElement("div",{className:this.ss("action")},r),Se.default.createElement("div",{className:this.ss("split-dot")}),Se.default.createElement("div",{className:this.ss("time")},(0,ze.default)(v))),i&&Se.default.createElement("div",{className:this.ss("menus"),ref:function(t){e.headMenu=t}},g))}},{key:"renderSuggestHeader",value:function(){return Se.default.createElement("div",{className:this.ss("suggest-head")},Se.default.createElement("div",{className:this.ss("head-title")},this.__("suggest_head")))}},{key:"renderCardFoot",value:function(){var e=this,t=this.props,n=t.jobId,a=t.hideRepost,o=t.jobMap,r=t.currentUserId;if(a)return Se.default.createElement("div",{className:this.ss("job-foot")});var i=(o[n]||{}).clientId,s={onClickRepost:function(){return e.onRepost(i!==r,n)}};return Se.default.createElement("div",{className:this.ss("job-foot")},Se.default.createElement(De.default,te({},s,{ref:function(t){e.cardFoot=t}})))}},{key:"render",value:function(){var e=this.props,t=e.jobMap,n=e.jobId,a=e.theme,o=e.skillMap,r=e.placeMap,i=e.isChild;if(!t||!t[n])return null;var s="quote"!==a&&"suggest"!==a,l="suggest"!==a,c="suggest"===a;return Se.default.createElement("div",{className:this.ss("job",a,i&&"child"),onClick:this.onClick},l&&this.renderUser(),c&&this.renderSuggestHeader(),Se.default.createElement(Ke,{job:t[n],skillMap:o,placeMap:r}),s&&this.renderCardFoot())}}]),t}(),p.propTypes={currentUserId:Pe.default.string,jobId:Pe.default.string,theme:Pe.default.oneOf(["home","profile","search","quote","suggest","group"]),jobMap:Pe.default.object,teamMap:Pe.default.object,skillMap:Pe.default.object,placeMap:Pe.default.object,actionTitle:Pe.default.any,showMenu:Pe.default.bool,hideRepost:Pe.default.bool,groupMemberMap:Pe.default.object,isChild:Pe.default.bool,openRepostDialog:Pe.default.func,refreshSuggest:Pe.default.func,renderMenu:Pe.default.func,sendCDPRequest:Pe.default.func},p.defaultProps={isChild:!1},d=f))||d)||d)||d);t.default=Fe;t.HomeJob=(m=(0,Me.decorator)({jobMap:(0,Te.state)(re),teamMap:(0,Te.state)(ie),skillMap:(0,Te.state)(se),placeMap:(0,Te.state)(le),openRepostDialog:(0,Te.signal)(ce)}),h=(0,We.default)(He.default),_=(0,Be.default)(qe.default),m(g=h(g=_((b=v=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,Fe),t}(),v.defaultProps={theme:"home"},g=b))||g)||g)||g),t.ProfileJob=(y=(0,Me.decorator)({jobMap:(0,Te.state)(ue),teamMap:(0,Te.state)(de),skillMap:(0,Te.state)(pe),placeMap:(0,Te.state)(fe),openRepostDialog:(0,Te.signal)(ce)}),w=(0,We.default)(He.default),j=(0,Be.default)(qe.default),y(E=w(E=j((C=k=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,Fe),t}(),k.defaultProps={theme:"profile"},E=C))||E)||E)||E),t.SearchJob=(O=(0,Me.decorator)({teamMap:(0,Te.state)(me),skillMap:(0,Te.state)(he),placeMap:(0,Te.state)(_e),openRepostDialog:(0,Te.signal)(ce)}),P=(0,We.default)(He.default),S=(0,Be.default)(qe.default),O(N=P(N=S((T=M=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,Fe),t}(),M.defaultProps={theme:"search"},N=T))||N)||N)||N),t.SuggestJob=(x=(0,Me.decorator)({jobMap:(0,Te.state)(ge),skillMap:(0,Te.state)(ve),placeMap:(0,Te.state)(be),refreshSuggest:(0,Te.signal)(ye)}),I=(0,We.default)(He.default),R=(0,Be.default)(qe.default),x(D=I(D=R((U=A=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,Fe),t}(),A.defaultProps={theme:"suggest"},D=U))||D)||D)||D),t.HomeSuggestJob=(L=(0,Me.decorator)({jobMap:(0,Te.state)(re),skillMap:(0,Te.state)(se),placeMap:(0,Te.state)(le),refreshSuggest:(0,Te.signal)(we)}),z=(0,We.default)(He.default),W=(0,Be.default)(qe.default),L(H=z(H=W((q=B=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,Fe),t}(),B.defaultProps={theme:"suggest"},H=q))||H)||H)||H),t.GroupJob=(F=(0,Me.decorator)({jobMap:(0,Te.state)(je),teamMap:(0,Te.state)(Ee),skillMap:(0,Te.state)(ke),placeMap:(0,Te.state)(Ce),groupMemberMap:(0,Te.state)(Oe),openRepostDialog:(0,Te.signal)(ce)}),K=(0,We.default)(He.default),G=(0,Be.default)(qe.default),F(V=K(V=G((Y=J=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,Fe),t}(),J.defaultProps={theme:"group"},V=Y))||V)||V)||V);var Ke=t.JobInfo=(Q=(0,We.default)(He.default),X=(0,Be.default)(qe.default),Q(Z=X((ee=$=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,Ne.default),ne(t,[{key:"renderJob",value:function(){var e=this.props,t=e.job,n=e.placeMap,a=t.title,o=t.locationIds,r=t.type,i=t.unityExpLevel,s=t.descriptionPlain,l=[];if(o&&n){for(var c="",u=0;u<o.length;u++){var d=n[o[u]];d&&(0!==u&&(c+=" - "),c=""+c+(d&&d.components.join(", ")))}l.push(Se.default.createElement("div",{className:this.ss("place-wrap"),key:"text-place"},c)),l.push(Se.default.createElement("div",{className:this.ss("split"),key:"split-1"}))}l.push(Se.default.createElement("div",{className:this.ss("text","type"),key:"text-type"},this.__(r))),i&&(l.push(Se.default.createElement("div",{className:this.ss("split"),key:"split-2"})),l.push(Se.default.createElement("div",{className:this.ss("text","level"),key:"text-level"},this.__(i+"_desc"))));var p=(0,Ie.getPreviewTextV2)(s,230),f=p.text,m=p.isShort;return Se.default.createElement("div",{className:this.ss("job-info")},Se.default.createElement("div",{className:this.ss("job-title")},a),Se.default.createElement("div",{className:this.ss("sub-info")},Se.default.createElement("div",{key:"place",className:this.ss("attr")},l)),Se.default.createElement("div",{ref:"brief",className:this.ss("description")},f,m&&Se.default.createElement("span",{className:this.ss("view-detail")},Se.default.createElement("span",{className:this.ss("dot")},"..."),this.__("view_detail"))))}},{key:"renderSkills",value:function(){var e=this,t=this.props,n=t.job,a=t.skillMap,o=((n||{}).skillIds||[]).slice(0,5);return Se.default.createElement("div",{className:this.ss("skills")},o.map(function(t){return Se.default.createElement("div",{key:"skill_"+t,className:e.ss("skill")},a[t]&&a[t].name)}))}},{key:"render",value:function(){return this.props.job?Se.default.createElement("div",{className:this.ss("detail")},this.renderJob(),this.renderSkills()):null}}]),t}(),$.propTypes={job:Pe.default.object,skillMap:Pe.default.object,placeMap:Pe.default.object,groupMemberMap:Pe.default.object},Z=ee))||Z)||Z)},function(e,t){e.exports={job:"job_1L_sPEUm",child:"child_3LlRSkXC",feed:"feed_2KiLwHm-",profile:"profile_13e91QR6",quote:"quote_1DqNvKC2",home:"home_1rGITcDb",suggest:"suggest_1UwlQaFA",user:"user_3PgWOZaC",avatar:"avatar_1E9uIt95",square:"square_1h6SF0yj","user-right":"user-right_2ugrph13",name:"name_2ae1OgaW",search:"search_2jUxjcol",action:"action_2bPYuQbo","group-label":"group-label_7nf06gDs","split-dot":"split-dot_324HzP2x",time:"time_2XKQ6X-6",menus:"menus_r4nD4bex","job-foot":"job-foot_2ZJJqbce",detail:"detail_6ptL9pQt",tag:"tag_sutHKnOM",icons:"icons_3v_QVE1m",text:"text_3mNTuSMo","job-info":"job-info_ygOEvri_","job-title":"job-title_2t2Xp08X",description:"description_3mZGD0wm","view-detail":"view-detail_3MSSxezF",dot:"dot_tnQPiv5u","sub-info":"sub-info_33XpyTNG",attr:"attr_3OsfDBN-",icon:"icon_2JNh6k2w",split:"split_3aEO0jPP","place-wrap":"place-wrap_3J88HNgz","place-text-split":"place-text-split_hy8By4i5",skills:"skills_6waXT038",skill:"skill_3K3zzLSx",hide:"hide_1Fz7LkgB","suggest-head":"suggest-head_2mI1_Kql","head-title":"head-title_2C9MhJEE","action-refresh":"action-refresh_3WfzbCBy"}},function(e,t){e.exports={publish_time:"publish_time_DtKT",job:"job_3koH",fullTime:"fullTime_39RS",partTime:"partTime_qY4-",fulltime:"fulltime_2Y25",parttime:"parttime_33xh",internship:"internship_irjs",freelance:"freelance_A3UG",qualified_desc:"qualified_desc_1GKg",professional_desc:"professional_desc_3cCU",expert_desc:"expert_desc_21so",suggest_head:"suggest_head_2s6B",group_owner:"group_owner_KP1C",group_admin:"group_admin_3wRN",time_text_now:"time_text_now_3S1D",time_text_min:"time_text_min_1aXz",time_text_mnins:"time_text_mnins_1LDZ",time_text_hour:"time_text_hour_2PAu",time_text_hours:"time_text_hours_3Ifg",time_text_yestarday:"time_text_yestarday_3Vn4",view_detail:"view_detail_3bOU"}},function(e,t){e.exports={"post-body":"post-body_1fHbrk65",quote:"quote_1PNRrxRl",detail:"detail_cUONOhgg","feed-head":"feed-head_3l_XrWyv",info:"info_2JY7MBOo","author-name":"author-name_3jFCh397","action-title":"action-title_14U-coes","group-name":"group-name_1upOmLBv","icon-triangle-right":"icon-triangle-right_2D1uwFFz",menus:"menus_dhJ3Ll0e","split-dot":"split-dot_spH623xK","created-time":"created-time_IG7x5dBL","feed-body":"feed-body_c2AzduTV","feed-content":"feed-content_2a9h6Q19",image:"image_2TBlhWH0"}},function(e,t){e.exports={comments:"comments_2zbXo8Jm",top:"top_2YN_Ah86",bottom:"bottom_1bwwYyim","btn-more":"btn-more_JX_J4oHw","icon-more":"icon-more_3rLG4QuZ","comment-wrap":"comment-wrap_2NMKiMDZ","avatar-wrap":"avatar-wrap_p8SDgviU","info-wrap":"info-wrap_2diAiuIq","top-wrapper":"top-wrapper_4J7FBSVD","user-left":"user-left_J15RekIO",name:"name_2vHmitSU","user-title":"user-title_NVEO6ID6",time:"time_3bh6KHUi","comment-content":"comment-content_ZB8iJETo","parent-message":"parent-message_3BA0L_zF","parent-message-author":"parent-message-author_3tfTX2ND",comment:"comment_373efYKz",loading:"loading_4HD_3BV-","comment-foot":"comment-foot_1I-nWBoO","foot-item":"foot-item_2x8gLrrG",like:"like_1f7_lpAg",selected:"selected_3f4NCA3e",icon:"icon_2zJn8XJm","text-icon":"text-icon_QxDjyuRe",buttons:"buttons_1nKWpWuM",reply:"reply_24jtH9ea","reaction-like":"reaction-like_1E1a3UmX",liked:"liked_3-Qk-INK",ops:"ops_19hXAN7m",report:"report_338tD70y",delete:"delete_eP0XGR8H","reply-wrapper":"reply-wrapper_1hg7JZPL","input-wrapper":"input-wrapper_3UWc4nU-","reply-buttons":"reply-buttons_3mgnsSLk",cancel:"cancel_2dmyRHSU"}},function(e,t){e.exports={"post-feed-wrap":"post-feed-wrap_3HHqhsoE",detail:"detail_2T-QWXhl","post-feed":"post-feed_3_mBUeqS","post-foot":"post-foot_3j9AiTQM","icon-menu":"icon-menu_215g_QEg","action-title":"action-title_jbZF0nVL","icon-like":"icon-like_1EJp90Gc","follower-list":"follower-list_lrsKe-Of","text-limit":"text-limit_21qo72c6",mobile:"mobile_3BS1si-6","followee-list":"followee-list_3c3WXR-B","mobile-hide":"mobile-hide_3HqBpN9Q","middle-text":"middle-text_7swXnHCk","right-text":"right-text_jXVqq_s5","simple-user":"simple-user_33y0UW_E",follower:"follower_sxC1xj2R","group-label":"group-label_3q5HJLX0"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["post.textAreaAutocomplete"],["post.textAreaAutocomplete"]),_=s(["post.textAreaAutocompleteUnset"],["post.textAreaAutocompleteUnset"]),g=s(["post.textAreaAutocompleteSelectIndex"],["post.textAreaAutocompleteSelectIndex"]),v=a(n(2)),b=a(n(1)),y=a(n(3)),w=n(5),j=n(0),E=a(n(16)),k=a(n(490)),C=a(n(4)),O=a(n(996)),P=a(n(6)),S=a(n(997)),N=(l=(0,w.decorator)({textAreaAutocomplete:(0,j.state)(h),textAreaAutocompleteUnset:(0,j.signal)(_),textAreaAutocompleteSelectIndex:(0,j.signal)(g)}),c=(0,C.default)(O.default),u=(0,P.default)(S.default),l(d=c(d=u((f=p=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,y.default),m(t,[{key:"componentWillUnmount",value:function(){(0,this.props.textAreaAutocompleteUnset)()}},{key:"renderRow",value:function(e,t){if(e.fullname){var n=e,a=n.isDup?n.fullnameWithTitle:n.fullname;return b.default.createElement("li",t,b.default.createElement(E.default,{className:this.ss("avatar"),user:n,size:"xxxsmall"}),b.default.createElement("span",{className:this.ss("command")},a))}var o="everyone"===e.content?this.__("at_everyone"):e.content;return b.default.createElement("li",t,b.default.createElement("span",{className:this.ss("command","every-command")},"@"+o))}},{key:"render",value:function(){var e=this,t=this.props,n=t.textAreaAutocomplete,a=t.onSelect,o=t.textAreaAutocompleteSelectIndex,r=n.loading,i=n.results,s=n.selectedIndex,l=void 0;l=r?b.default.createElement("div",{className:this.ss("spinner-wrap")},b.default.createElement(k.default,{className:this.ss("spinner")})):b.default.createElement("ul",null,i.map(function(t,n){return e.renderRow(t,{key:n,className:e.ss(s===n&&"active"),onMouseDown:function(){return a({selectedIndex:n})},onMouseEnter:function(){return o({selectedIndex:n})}})}));var c=i&&i.length>0;return b.default.createElement("div",{className:this.ss("autocomplete",!c&&"hide")},b.default.createElement("div",{className:this.ss("autocomplete-inner")},l))}}]),t}(),p.propTypes={textAreaAutocomplete:v.default.object.isRequired,onSelect:v.default.func.isRequired,textAreaAutocompleteUnset:v.default.func,textAreaAutocompleteSelectIndex:v.default.func},d=f))||d)||d)||d);t.default=N},function(e,t){e.exports={autocomplete:"autocomplete_3r8oTNnN","autocomplete-inner":"autocomplete-inner_3RNijXm0","spinner-wrap":"spinner-wrap_EX6OL1d7",spinner:"spinner_1o0sMOAA","header-wrap":"header-wrap_ScCTkQkz",header:"header_co05MVL2","header-tip":"header-tip_3Fcl-fHN",avatar:"avatar_MiZlvjNJ",status:"status_2ZtkvyOb",command:"command_1WyIHDrb","every-command":"every-command_1Nq5GT78","command-icon":"command-icon_1-eoipGb","command-description":"command-description_37wDrG1X",active:"active_-ZMWSZW2",hide:"hide_1yEWoSrE"}},function(e,t){e.exports={at_everyone:"at_everyone_2m4F"}},function(e,t){e.exports={"comments-wrap":"comments-wrap_1CaIXTqR",comments:"comments_cNiO9Vg5","top-input":"top-input_3PIc-aRz",empty:"empty_1Ygf_ywM","title-wrapper":"title-wrapper_u2zJutbh","icons-wrapper":"icons-wrapper_tvckJzzm","toggle-comments":"toggle-comments_xpYzUQpG",icon:"icon_1GMk3vqN","comment-input-wrapper":"comment-input-wrapper_1JFnLj_K",disabled:"disabled_2HFtRYXJ","icon-close-comments":"icon-close-comments_1spaskqa","hint-text":"hint-text_21WVDEoy","text-area-wrapper":"text-area-wrapper_16ygXNVs","button-wrapper":"button-wrapper_K61cqAig",comment:"comment_dNPKlrrx","load-more":"load-more_34ArgYEO","comment-list":"comment-list_1gBNDQbM","no-comments-tip":"no-comments-tip_LOnDwnum","comment-wrap":"comment-wrap_1xp79hPX","info-wrap":"info-wrap_3H_PV6hF",buttons:"buttons_2CEpYpqT",ops:"ops_36VR16UL","avatar-wrap":"avatar-wrap_3rA7-XG1","top-wrapper":"top-wrapper_35ZY4ahg","name-line":"name-line_Yc9yfyyw",name:"name_1TnXafCO","staff-label":"staff-label_2tSgxE5C",time:"time_WgZcGmI_","user-title":"user-title_dP-zQIZe","comment-content":"comment-content_2RkrnlNi","parent-message":"parent-message_3l83AnGq","parent-message-author":"parent-message-author_2DOyI3o2",loading:"loading__obTicJi",reply:"reply_35vHaBi7","reaction-like":"reaction-like_2jrhgnQz",like:"like_3WKVIDhr",liked:"liked_ezMb2bP_",report:"report_1YVougat",delete:"delete_8fTx-bqq","reply-wrapper":"reply-wrapper_2dTfIF5U","input-wrapper":"input-wrapper_1YHaL8d5","reply-buttons":"reply-buttons_3V6QVntb",cancel:"cancel_3RbEL7jj","view-cmt-wrap":"view-cmt-wrap_1Go_O4ef","view-cmt":"view-cmt_2EBYt9QN",hide:"hide_HsenaqCz"}},function(e,t){e.exports={comments:"comments_1rqO",hint_comment:"hint_comment_3Tvs",comment:"comment_2M5Y",no_comments_tip:"no_comments_tip_1Iza",comment_created_at:"comment_created_at_3fM5",reply_hint:"reply_hint_mJTX",cancel:"cancel_3Agl",reply:"reply_U6lr",comment_disabled:"comment_disabled_13zk",disable_comment:"disable_comment_2NwB",enable_comment:"enable_comment_1A8C",open_channel:"open_channel_B5ae",delete:"delete_1GuM",report:"report_kfFs"}},function(e,t){e.exports={"post-info":"post-info_3YID97Sq",popup:"popup_1ZY5SzVu"}},function(e,t){e.exports={"post-popup":"post-popup_2Mqoqpw9","post-info":"post-info_2gdLYjLJ","loading-panel":"loading-panel_2bI3pcBc",loading:"loading_dTQdNaAn",close:"close_d7g_4Qpz"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),m=s(["header.setting.headerHeight"],["header.setting.headerHeight"]),h=s(["poll.activeId"],["poll.activeId"]),_=s(["poll.activeContentId"],["poll.activeContentId"]),g=s(["poll.pollData.id"],["poll.pollData.id"]),v=s(["poll.getPollStatus"],["poll.getPollStatus"]),b=s(["poll.closePollPopup"],["poll.closePollPopup"]),y=s(["poll.moveToPoll"],["poll.moveToPoll"]),w=a(n(2)),j=a(n(1)),E=a(n(3)),k=n(5),C=n(0),O=a(n(1003)),P=a(n(17)),S=n(7),N=n(11),M=n(18),T=a(n(4)),x=a(n(1011)),I=(l=(0,k.decorator)({headerHeight:(0,C.state)(m),activeId:(0,C.state)(h),activeContentId:(0,C.state)(_),pollId:(0,C.state)(g),getPollStatus:(0,C.state)(v),closePollPopup:(0,C.signal)(b),moveToPoll:(0,C.signal)(y)}),c=(0,T.default)(x.default),l(u=c((p=d=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={},a.onClick=function(e){(0,M.getClickOutside)([a.pollInfo],function(e){return a.onClose(e)})(e)},a.onClose=function(e){e&&(0,N.pauseEvent)(e);var t=a.props,n=t.activeId,o=t.activeContentId,r=t.closePollPopup;n&&!o&&r()},a.onPrevious=function(e){e&&(0,N.pauseEvent)(e);var t=a.props,n=t.activeId,o=t.activeContentId,r=t.moveToPoll;n&&!o&&r({step:-1})},a.onNext=function(e){e&&(0,N.pauseEvent)(e);var t=a.props,n=t.activeId,o=t.activeContentId,r=t.moveToPoll;n&&!o&&r({step:1})},a.scrollTo=function(e){a.refMap.scroller&&a.refMap.scroller.scrollTo(e,!0)},a.refMap={},i=n,r(a,i)}return i(t,E.default),f(t,[{key:"componentDidMount",value:function(){var e=this;this._handKeyDown=function(t){return e.onKeyDown(t)},window.addEventListener("keydown",this._handKeyDown,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this._handKeyDown,!1)}},{key:"onKeyDown",value:function(e){var t=e.keyCode;if(this.props.activeId)switch(t){case 37:this.onPrevious(e);break;case 39:this.onNext(e);break;case 27:this.onClose(e)}}},{key:"renderPoll",value:function(){var e=this,t=this.props.onPollUpdate;return j.default.createElement("div",{className:this.ss("poll-info"),onClick:this.onClick},j.default.createElement(P.default,{ref:function(t){e.refMap.scroller=t}},j.default.createElement(O.default,{theme:"popup",ref:function(t){e.pollInfo=t},scrollTo:this.scrollTo,onUpdate:t})))}},{key:"render",value:function(){var e=this.props,t=e.activeId,n=e.pollId,a=e.getPollStatus;if(!t)return null;var o=(0,S.isSucceeded)(a)&&t===n,r=(0,S.isFailed)(a),i=j.default.createElement("div",{className:this.ss("loading-panel")},j.default.createElement("div",{className:this.ss("loading")})),s=!r&&i,l=j.default.createElement("button",{className:this.ss("close"),onClick:this.onClose},j.default.createElement("div",{className:this.ss("icon","ifont","ifont-icon-close")}));return j.default.createElement("div",{className:this.ss("poll-popup-wrap")},j.default.createElement("div",{className:this.ss("poll-popup")}),o?this.renderPoll():s,l)}}]),t}(),d.propTypes={headerHeight:w.default.number,activeId:w.default.string,activeContentId:w.default.string,pollId:w.default.string,getPollStatus:w.default.string,onPollUpdate:w.default.func,closePollPopup:w.default.func,moveToPoll:w.default.func},u=p))||u)||u);t.default=I},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),m=s(["pollId"],["pollId"]),h=s(["post.channelId"],["post.channelId"]),_=s(["group.myMemberInfo"],["group.myMemberInfo"]),g=s(["group.tab"],["group.tab"]),v=a(n(2)),b=a(n(1)),y=a(n(12)),w=n(5),j=n(0),E=n(108),k=a(n(3)),C=n(1004),O=a(n(499)),P=a(n(4)),S=a(n(1010)),N=(l=(0,w.decorator)({pollId:(0,j.state)(m),channelId:(0,j.state)(h),myMemberInfo:(0,j.state)(_),tab:(0,j.state)(g)}),c=(0,P.default)(S.default),l(u=c((p=d=function(e){function t(){var e,n,a,i;o(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={},i=n,r(a,i)}return i(t,k.default),f(t,[{key:"isFeatured",value:function(){return"featured"===this.props.tab}},{key:"scrollTo",value:function(e){this.props.scrollTo&&this.props.scrollTo(e)}},{key:"scrollToComments",value:function(){var e=y.default.findDOMNode(this.comments).offsetTop;this.scrollTo(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.pollId,a=t.onUpdate,o=t.onClick,r=t.theme,i=t.myMemberInfo,s=t.channelId,l=(0,E.isAdmin)(i),c=this.isFeatured();return b.default.createElement("div",{className:this.ss("poll-info",r),onClick:o},b.default.createElement(C.GroupPostPoll,{cardType:"detail",key:n,voteId:n,isGroupAdmin:l,hidePin:c,onUpdate:a}),s&&b.default.createElement(O.default,{ref:function(t){e.comments=t},scrollToComments:function(){return e.scrollToComments()}}))}}]),t}(),d.propTypes={pollId:v.default.string,channelId:v.default.string,theme:v.default.oneOf(["normal","popup"]),myMemberInfo:v.default.object,tab:v.default.string,scrollTo:v.default.func,onUpdate:v.default.func,onClick:v.default.func},d.defaultProps={theme:"normal"},u=p))||u)||u);t.default=N},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.GroupPostPoll=t.default=void 0;var u,d,p,f,m,h,_,g,v,b,y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},w=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),j=c(["currentUserId"],["currentUserId"]),E=c(["poll.userVoteStatus.",""],["poll.userVoteStatus.",""]),k=c(["voteId"],["voteId"]),C=c(["group.postCommentMap"],["group.postCommentMap"]),O=c(["post.openRepostDialog"],["post.openRepostDialog"]),P=c(["post.openPostPopup"],["post.openPostPopup"]),S=c(["post.trackPostView"],["post.trackPostView"]),N=c(["poll.userVote"],["poll.userVote"]),M=c(["poll.openPollPopup"],["poll.openPollPopup"]),T=c(["header.showMessage"],["header.showMessage"]),x=c(["group.voteMap.",""],["group.voteMap.",""]),I=c(["group.optionsMap.",""],["group.optionsMap.",""]),R=c(["group.userMap"],["group.userMap"]),D=c(["group.groupMemberMap"],["group.groupMemberMap"]),A=c(["group.votedMap.",""],["group.votedMap.",""]),U=c(["group.voteStatisticsMap"],["group.voteStatisticsMap"]),L=c(["group.voteMap.",".pinnedTime"],["group.voteMap.",".pinnedTime"]),z=c(["group.voteMap.",".featuredTime"],["group.voteMap.",".featuredTime"]),W=c(["group.myMemberInfo"],["group.myMemberInfo"]),H=c(["group.pin"],["group.pin"]),B=c(["group.unPin"],["group.unPin"]),q=c(["group.addFeaturedPost"],["group.addFeaturedPost"]),F=c(["group.removeFeaturedPost"],["group.removeFeaturedPost"]),K=a(n(1)),G=a(n(2)),V=a(n(3)),J=n(5),Y=n(0),Q=a(n(16)),X=n(108),Z=a(n(13)),$=a(n(47)),ee=a(n(83)),te=n(7),ne=n(18),ae=a(n(1005)),oe=a(n(141)),re=a(n(498)),ie=a(n(4)),se=a(n(1008)),le=a(n(6)),ce=a(n(1009)),ue=a(n(12)),de=(u=(0,J.decorator)({currentUserId:(0,Y.state)(j),updateStatus:(0,Y.state)(E,(0,Y.props)(k)),postCommentMap:(0,Y.state)(C),openRepostDialog:(0,Y.signal)(O),openPostPopup:(0,Y.signal)(P),trackPostView:(0,Y.signal)(S),userVote:(0,Y.signal)(N),openPollPopup:(0,Y.signal)(M),showMessage:(0,Y.signal)(T)}),d=(0,ie.default)(se.default),p=(0,le.default)(ce.default),u(f=d(f=p((h=m=function(e){function t(){var e,n,a,o;i(this,t);for(var l=arguments.length,c=Array(l),u=0;u<l;u++)c[u]=arguments[u];return n=a=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={answers:[]},a.onOpenPopup=function(e){var t=a.props,n=t.openPollPopup,o=t.voteId,i=a.getElementsByTagNames(a.cardEditor,["a"]),s=a.getElementsByTagNames(a.cardMedia,["picture","video"]);(0,ne.getClickOutside)([a.headAvatar,a.headName].concat(r(i),r(s),[a.Choose]),function(){return n({pollId:o})})(e)},o=n,s(a,o)}return l(t,V.default),w(t,[{key:"onCheck",value:function(e,t){var n=this.state.answers,a=[].concat(r(n)),o=n.findIndex(function(t){return t===e});t&&o<0&&a.push(e),!t&&o>=0&&a.splice(o,1),this.setState({answers:a})}},{key:"onSubmit",value:function(){var e=this.props,t=e.vote.id,n=e.showMessage,a=e.userVote,o=this.state.answers;0!==o.length?a({voteId:t,answers:o}):n({message:"at_least_select_one"})}},{key:"getAnswerMap",value:function(){return this.state.answers.reduce(function(e,t){return y({},e,o({},t,!0))},{})}},{key:"getElementsByTagNames",value:function(e,t){var n=[],a=ue.default.findDOMNode(e);return a&&t.forEach(function(e){n.push.apply(n,r(a.getElementsByTagName(e)))}),n}},{key:"renderHeaderTag",value:function(e){var t=this.props.groupMemberMap[e];return(0,X.isOwner)(t)?K.default.createElement("div",{className:this.ss("group-label")},this.__("group_owner")):(0,X.isManager)(t)?K.default.createElement("div",{className:this.ss("group-label")},this.__("group_admin")):null}},{key:"renderMenu",value:function(){var e=this.props,t=e.vote,n=e.cardType,a=e.isGroupAdmin,o=e.pinnedTime,r=e.featuredTime,i=e.hidePin,s=e.pinPost,l=e.unPinPost,c=e.addFeaturedPost,u=e.removeFeaturedPost;return K.default.createElement("div",{className:this.ss("menus")},K.default.createElement(ae.default,{vote:t,cardType:n,isGroupAdmin:a,pinnedTime:o,hidePin:i,featuredTime:r,pinPost:s,unPinPost:l,addFeaturedPost:c,removeFeaturedPost:u}))}},{key:"renderHead",value:function(){var e=this,t=this.props,n=t.userMap,a=t.vote||{},o=a.createdTime,r=a.userId,i=(n[r]||{}).fullName;return K.default.createElement("div",{className:this.ss("feed-head"),onClick:function(){return e.onOpenPopup}},K.default.createElement("a",{className:this.ss("avatar"),href:"/u/"+r,ref:function(t){e.headAvatar=t}},K.default.createElement(Q.default,{user:n[r],size:"xsmall"})),K.default.createElement("div",{className:this.ss("info")},K.default.createElement("div",{className:this.ss("name-line")},K.default.createElement("a",{className:this.ss("author-name"),href:"/u/"+r,ref:function(t){e.headName=t}},i),this.renderHeaderTag(r),K.default.createElement("div",{className:this.ss("action-title")},this.__("created_a_poll")),this.renderMenu()),K.default.createElement("div",{className:this.ss("created-time")},this.__("created_time",{time:o}))))}},{key:"renderOption",value:function(e,t,n){var a=this;if(!t)return null;var o=t.id,r=t.title,i=void 0;if("single"===e){var s={color:"#5a5a5b",fontWeight:"normal",fontSize:"15px"};i=K.default.createElement($.default,{label:r,theme:"primary",className:this.ss("radio"),labelStyle:s,value:o,isChecked:n[o],onCheck:function(e,t){return a.setState({answers:[t]})}})}else i=K.default.createElement(ee.default,{label:r,theme:"blue",labelClassName:this.ss("check-box"),checked:n[o],onCheck:function(e,t){return a.onCheck(o,t)}});return K.default.createElement("div",{key:o,className:this.ss("option")},i)}},{key:"renderButton",value:function(){var e=this,t=this.props,n=t.vote.isActive,a=t.updateStatus,o=t.currentUserId,r=t.myMemberInfo,i=r&&"active"===r.status;return K.default.createElement("div",{className:this.ss("button-wrapper")},K.default.createElement(Z.default,{label:this.__("vote"),theme:"blue",size:"medium",disabled:!o||!i||!n,className:this.ss("button-vote"),loading:(0,te.isLoadingOrSucceeded)(a),onClick:function(){return e.onSubmit()}}))}},{key:"renderContent",value:function(){var e=this,t=this.props,n=t.vote,a=n.title,o=n.description,r=n.type,i=t.options,s=this.getAnswerMap(),l=i.map(function(t){return e.renderOption(r,t,s)});return K.default.createElement("div",{className:this.ss("content")},K.default.createElement("div",{className:this.ss("title")},a),o&&K.default.createElement("div",{className:this.ss("description")},o),K.default.createElement("div",{ref:function(t){e.Choose=t}},l,K.default.createElement("div",{className:this.ss("split")}),this.renderButton()))}},{key:"renderProgressBar",value:function(e){return K.default.createElement("div",{className:this.ss("progress-bar")},K.default.createElement("div",{className:this.ss("active"),style:{width:e+"%"}}))}},{key:"renderVotedContent",value:function(){var e=this,t=this.props,n=t.vote,a=n.title,o=n.description,r=t.voteStatisticsMap,i=t.options,s=0;i.forEach(function(e){var t=e.id;s+=r[t]});var l=i.map(function(t){var n=t.id,a=t.title,o=0===s?0:parseInt(100*r[n]/s,10);return K.default.createElement("div",{key:n,className:e.ss("item")},e.renderProgressBar(o),K.default.createElement("div",{className:e.ss("option-title")},K.default.createElement("div",{className:e.ss("percent")},o+"%"),a))});return K.default.createElement("div",{className:this.ss("content","result")},K.default.createElement("div",{className:this.ss("title")},a),K.default.createElement("div",{className:this.ss("description")},o),l)}},{key:"renderFooter",value:function(){var e=this.props.vote,t=e.beginTime,n=e.endTime,a=e.votes;return K.default.createElement("div",{className:this.ss("footer")},K.default.createElement("div",{className:this.ss("poll-duration")},this.__("poll_duration",{beginTime:t,endTime:n})),K.default.createElement("div",{className:this.ss("total")},this.__("votes",{total:a})))}},{key:"renderCardFoot",value:function(){var e=this.props,t=e.cardType,n=e.vote.channelId;if("detail"===t||!n||"0"===n)return null;var a={commentCount:0,hideRepost:!0};return K.default.createElement("div",{className:this.ss("post-foot")},K.default.createElement(oe.default,a))}},{key:"render",value:function(){var e=this.props,t=e.vote,n=e.voted,a=e.cardType,o=e.voteId,r=e.postCommentMap;if(!t)return null;var i=n||t.isEnd;return K.default.createElement("div",{className:this.ss("post-poll-wrap"),onClick:"detail"!==a?this.onOpenPopup:void 0},K.default.createElement("div",{className:this.ss("post-feed")},this.renderHead(),i?this.renderVotedContent():this.renderContent(),this.renderFooter(),this.renderCardFoot()),"detail"!==a&&K.default.createElement(re.default,{postId:o,postCommentMap:r}))}}]),t}(),m.propTypes={voteId:G.default.string,currentUserId:G.default.string,vote:G.default.object,question:G.default.object,userMap:G.default.object,options:G.default.array,groupMemberMap:G.default.object,isGroupAdmin:G.default.bool,groupMap:G.default.object,updateStatus:G.default.string,voted:G.default.bool,voteStatisticsMap:G.default.object,cardType:G.default.string,pinnedTime:G.default.string,featuredTime:G.default.string,hidePin:G.default.bool,myMemberInfo:G.default.object,postCommentMap:G.default.object,trackPostView:G.default.func,pinPost:G.default.func,unPinPost:G.default.func,addFeaturedPost:G.default.func,removeFeaturedPost:G.default.func,userVote:G.default.func,showMessage:G.default.func,openPollPopup:G.default.func},m.defaultProps={cardType:"group",likeCount:0,commentCount:0,isGroupAdmin:!1,hideRepost:!1},f=h))||f)||f)||f);t.default=de;t.GroupPostPoll=(_=(0,J.decorator)({vote:(0,Y.state)(x,(0,Y.props)(k)),options:(0,Y.state)(I,(0,Y.props)(k)),userMap:(0,Y.state)(R),groupMemberMap:(0,Y.state)(D),voted:(0,Y.state)(A,(0,Y.props)(k)),voteStatisticsMap:(0,Y.state)(U),pinnedTime:(0,Y.state)(L,(0,Y.props)(k)),featuredTime:(0,Y.state)(z,(0,Y.props)(k)),myMemberInfo:(0,Y.state)(W),pinPost:(0,Y.signal)(H),unPinPost:(0,Y.signal)(B),addFeaturedPost:(0,Y.signal)(q),removeFeaturedPost:(0,Y.signal)(F)}),g=(0,ie.default)(se.default),v=(0,le.default)(ce.default),_(b=g(b=v(b=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,de),t}())||b)||b)||b)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,u,d,p,f,m,h=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),_=l(["currentUserId"],["currentUserId"]),g=l(["loginUser"],["loginUser"]),v=l(["report.open"],["report.open"]),b=l(["post.deleteVote"],["post.deleteVote"]),y=a(n(2)),w=a(n(1)),j=a(n(3)),E=n(5),k=n(0),C=a(n(25)),O=a(n(96)),P=a(n(4)),S=a(n(1006)),N=a(n(6)),M=a(n(1007)),T=(0,C.default)({deleteVote:null,report:null,pin:null,featured:null}),x=(c=(0,E.decorator)({currentUserId:(0,k.state)(_),loginUser:(0,k.state)(g),reportOpen:(0,k.signal)(v),deleteVote:(0,k.signal)(b)}),u=(0,P.default)(S.default),d=(0,N.default)(M.default),c(p=u(p=d((m=f=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,j.default),h(t,[{key:"onItemClick",value:function(e){var t,n=this,a=this.props,r=a.vote,i=a.deleteVote,s=a.reportOpen,l=r.id,c=r.userId,u=(t={},o(t,T.deleteVote,function(){return i({voteId:l})}),o(t,T.report,function(){return s({itemId:c,itemType:"user"})}),o(t,T.pin,function(){return n.pinPost()}),o(t,T.featured,function(){return n.onFeatured()}),t)[e];u&&u()}},{key:"onFeatured",value:function(){var e=this.props,t=e.vote.id,n=e.featuredTime,a=e.addFeaturedPost,o=e.removeFeaturedPost;n?o&&o({itemId:t,type:"vote"}):a&&a({itemId:t,type:"vote"})}},{key:"pinPost",value:function(){var e=this.props,t=e.vote.id,n=e.pinnedTime,a=e.pinPost,o=e.unPinPost;n?o&&o({itemId:t,type:"vote"}):a&&a({itemId:t,type:"vote"})}},{key:"renderLabel",value:function(){var e=this.props,t=e.cardType,n=e.pinnedTime;return!e.hidePin&&"group"===t&&n?w.default.createElement("div",{className:this.ss("label")},this.__("pinned")):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.currentUserId,a=t.vote,o=t.loginUser,r=t.isGroupAdmin,i=t.pinnedTime,s=t.featuredTime,l=t.hidePin,c=(a||{}).userId,u=(o||{}).isAdmin,d=n===c,p=[];return!l&&r&&(p.push({text:i?this.__("un_pin"):this.__("pin"),value:T.pin,icon:"ifont-icons-pin"}),p.push({text:s?this.__("remove_featured"):this.__("add_featured"),value:T.featured,icon:"ifont-icons-featured",iconClassName:this.ss("icon-featured")})),d||p.push({text:this.__("report_user"),value:T.report,icon:"ifont-icons-flag"}),(u||d||r)&&p.push({text:this.__("delete_vote"),value:T.deleteVote,icon:"ifont-icons-trash"}),w.default.createElement("div",{className:this.ss("post-menu-wrapper")},this.renderLabel(),w.default.createElement(O.default,{buttonElement:w.default.createElement("div",{className:this.ss("icon-menu","ifont","ifont-icons-arrow-right")}),buttonItems:p,position:"right",onClick:function(t){return e.onItemClick(t)}}))}}]),t}(),f.propTypes={currentUserId:y.default.string,cardType:y.default.string,vote:y.default.object,loginUser:y.default.object,isGroupAdmin:y.default.bool,pinnedTime:y.default.string,featuredTime:y.default.string,hidePin:y.default.bool,deleteVote:y.default.func,reportOpen:y.default.func,pinPost:y.default.func,unPinPost:y.default.func,addFeaturedPost:y.default.func,removeFeaturedPost:y.default.func},p=m))||p)||p)||p);t.default=x},function(e,t){e.exports={"post-menu-wrapper":"post-menu-wrapper_3j_kbWww",label:"label_16EykYF3","icon-menu":"icon-menu_2x912sL2","icon-featured":"icon-featured_X-UaSIaF"}},function(e,t){e.exports={delete_vote:"delete_vote_3oX6",pin:"pin_1pak",un_pin:"un_pin_1-cj",remove_featured:"remove_featured_2cvV",add_featured:"add_featured_1t3F",report_user:"report_user_eYUI"}},function(e,t){e.exports={"post-poll-wrap":"post-poll-wrap_1RuXYzBl",detail:"detail_1XseWHgk","post-feed":"post-feed_IVvMzaIC","feed-head":"feed-head_185dk9IM",info:"info_e_taxLS3","name-line":"name-line_13t_f64B","author-name":"author-name_2SCx2CBK","action-title":"action-title_1rwoPgJd","group-name":"group-name_3v5eHkkk","icon-triangle-right":"icon-triangle-right_2-nBnysu",menus:"menus_1xq8IQOb","created-time":"created-time_3fmfAK86","icon-menu":"icon-menu_2ZIF-mNo","group-label":"group-label_M5XsL5JX",content:"content_1Vo_I6DL",title:"title_2br18e9H",description:"description_oC-121fB",option:"option_3HY0tMJe",radio:"radio_2pnNyBjP","check-box":"check-box_Yt7mpXyL",split:"split_1BWrwopk","button-wrapper":"button-wrapper_JHd5afdJ","button-vote":"button-vote_1mjka-5r",result:"result_3Q7tZ7C9",item:"item_2kGqSjXe","option-title":"option-title_2FuFNZMF",percent:"percent_3o8iatmV","progress-bar":"progress-bar_23Gg7HUW",active:"active_QFwAWM6-",footer:"footer_6xBcZwDN","poll-duration":"poll-duration_36AHN2FY",total:"total_24ZfSDww"}},function(e,t){e.exports={created_time:"created_time_kYUO",created_a_poll:"created_a_poll_1vI2",group_owner:"group_owner_1PaL",group_admin:"group_admin_dEQU",vote:"vote_xiL7",poll_duration:"poll_duration_maLm",votes:"votes_DYSC"}},function(e,t){e.exports={"poll-info":"poll-info_10aMhx6l",popup:"popup_iH4k6BEE"}},function(e,t){e.exports={"poll-popup":"poll-popup_3-XW5g3k","poll-info":"poll-info_1rAXaaBv","loading-panel":"loading-panel_1zX1NoHc",loading:"loading_3fgEUVdN",close:"close_1oKJWqcO"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f,m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=s(["loginUser"],["loginUser"]),_=s(["connection.relationshipRequestDialogOpen"],["connection.relationshipRequestDialogOpen"]),g=s(["connection.relationshipStatus"],["connection.relationshipStatus"]),v=s(["connection.relationshipRequestForm"],["connection.relationshipRequestForm"]),b=s(["connection.requestRelationship"],["connection.requestRelationship"]),y=s(["connection.requestDialogUser"],["connection.requestDialogUser"]),w=s(["connection.closeRelationshipRequestDialog"],["connection.closeRelationshipRequestDialog"]),j=s(["connection.changeRelationshipRequestMessage"],["connection.changeRelationshipRequestMessage"]),E=a(n(2)),k=a(n(1)),C=a(n(3)),O=n(5),P=n(0),S=a(n(28)),N=a(n(16)),M=a(n(136)),T=n(7),x=a(n(4)),I=a(n(1013)),R=a(n(6)),D=a(n(1014)),A=(l=(0,O.decorator)({loginUser:(0,P.state)(h),open:(0,P.state)(_),relationshipStatus:(0,P.state)(g),relationshipRequestForm:(0,P.state)(v),requestRelationship:(0,P.signal)(b),user:(0,P.state)(y),closeRelationshipRequestDialog:(0,P.signal)(w),changeRelationshipRequestMessage:(0,P.signal)(j)}),c=(0,x.default)(I.default),u=(0,R.default)(D.default),l(d=c(d=u((f=p=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,C.default),m(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.changeRelationshipRequestMessage,n=e.loginUser;t({value:this.__("default_greeting",{name:n&&n.name||""})})}},{key:"render",value:function(){var e=this.props,t=e.open,n=e.user,a=e.closeRelationshipRequestDialog,o=e.requestRelationship,r=e.relationshipStatus,i=e.changeRelationshipRequestMessage,s=e.relationshipRequestForm,l=e.loginUser,c=e.needRedirect;if(!l||!n)return null;var u=r[n.id],d=(0,T.isLoadingOrSucceeded)(u),p=s.message.isTouched&&s.message.errorMessage,f=s.message.value,m=this.__("default_greeting",{name:l.name});return k.default.createElement(S.default,{open:t,title:this.__("title"),submitStyle:"ok/cancel",submitInProgress:d,onClose:function(){return a()},onSubmit:function(){return o({userId:n.id,defaultGreeting:m,needRedirect:c})}},k.default.createElement("div",{className:this.ss("dialog-content-wrap")},k.default.createElement("div",{className:this.ss("user-info-area")},k.default.createElement("div",{className:this.ss("user-info-avatar")},k.default.createElement(N.default,{user:n,size:"small"})),k.default.createElement("div",{className:this.ss("user-info-desc")},k.default.createElement("div",{className:this.ss("user-name")},n.fullName),k.default.createElement("div",{className:this.ss("user-title")},n.title))),k.default.createElement("div",{className:this.ss("personal-message")},k.default.createElement("div",{className:this.ss("message-hint")},this.__("message_hint")),k.default.createElement("div",{className:this.ss("textarea-wrapper")},k.default.createElement(M.default,{notice:{type:u},className:this.ss("message-textarea",p&&"error"),inputValue:f,errorText:s.message.isTouched&&this.__(s.message.errorMessage),noticeClass:this.ss("textarea-notice"),onChange:function(e){return i({value:e})}}),k.default.createElement("div",{className:this.ss("text-limit")},this.__("text_limit"))))))}}]),t}(),p.propTypes={needRedirect:E.default.bool.isRequired,user:E.default.object,open:E.default.bool,relationshipStatus:E.default.object,relationshipRequestForm:E.default.object,closeRelationshipRequestDialog:E.default.func,loginUser:E.default.object,requestRelationship:E.default.func,changeRelationshipRequestMessage:E.default.func},d=f))||d)||d)||d);t.default=A},function(e,t){e.exports={"dialog-content-wrap":"dialog-content-wrap_2ImmBdm5","user-info-area":"user-info-area_2VtYDsQX","user-info-avatar":"user-info-avatar_1wbRpO-T","user-info-desc":"user-info-desc_BufEMYfG","user-name":"user-name_W9mAW7bS","user-title":"user-title_3sbV57C7","message-hint":"message-hint_16Bs-xtV","textarea-wrapper":"textarea-wrapper_37ieZv1G","message-textarea":"message-textarea_3i_9_4RQ","textarea-notice":"textarea-notice_3lLHXssZ","btn-area":"btn-area_UpXXMpbt","cancel-btn":"cancel-btn_2V8XY6mV","send-btn":"send-btn_yU4x257N","text-limit":"text-limit_33HoQhWg"}},function(e,t){e.exports={title:"title_17ea",message_hint:"message_hint_3-41",send_label:"send_label_XR9J",cancel_label:"cancel_label_sol-",default_greeting:"default_greeting_3YsN",text_limit:"text_limit_2EhM",error_maxLength:"error_maxLength_3nfq"}},function(e,t){e.exports={"project-layout":"project-layout_2EBbEIpx","hide-footer":"hide-footer_3qz1VaEb","footer-sticky":"footer-sticky_3F2UvkVl","footer-nonsticky":"footer-nonsticky_MPRy25bR"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,c,u,d,p,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),m=s(["currentHost"],["currentHost"]),h=s(["project.projectData"],["project.projectData"]),_=a(n(1)),g=a(n(2)),v=a(n(3)),b=n(5),y=n(0),w=a(n(1017)),j=a(n(6)),E=a(n(1018)),k=(l=(0,b.decorator)({currentHost:(0,y.state)(m),projectData:(0,y.state)(h)}),c=(0,j.default)(E.default),l(u=c((p=d=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,v.default),f(t,[{key:"render",value:function(){var e=this.props,t=e.currentHost,n=e.projectData,a={"@context":"http://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,item:{"@id":"https://"+t+"/p",name:this.__("projects")}},{"@type":"ListItem",position:2,item:{"@id":"https://"+t+"/p/"+n.slug,name:n.title,image:n.thumbnail&&n.thumbnail.url}}]};return _.default.createElement("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:(0,w.default)(a)}})}}]),t}(),d.propTypes={currentHost:g.default.string,projectData:g.default.object},u=p))||u)||u);t.default=k},,function(e,t){e.exports={projects:"projects_2zdY",users:"users_2hHn",teams:"teams_1kL1",schools:"schools_14U3",jobs:"jobs_DcUw"}},,,,,,function(e,t){}],[895]);